(globalThis.webpackChunkdim=globalThis.webpackChunkdim||[]).push([[792],{43985:(e,t,o)=>{var s=o(10544),n=(o(66590),o(44155)),a=o(97098),r=o(68284),i=o(19654),c=o(86119);function l(e,t){t&&document.querySelector("html").style.setProperty(e,""+t)}var d=o(16287),u=o(30671),m=o(95840),h=o(71258),p=o(62447),f=o(96763),g=o(25851),y=o(13464),v=o(8935),b=o(2290),A=o(43774);const k="storage";function w(){return(0,s.A)("div",{className:"dim-page"},void 0,(0,s.A)(A.A,{title:(0,b.t)("Help.NoStorage"),fallbackMessage:(0,b.t)("Help.NoStorageMessage"),showSocials:!0}))}var I=o(40773),S=o(49662),x=o(18374),T=o(80729);function N(){const e=(0,v.d4)(c.yT),t=(0,T.Zp)(),o=(0,v.wA)();return(0,x.useEffect)((()=>{e&&(t(e),o((0,S.y7)()))}),[o,e,t]),null}var C=o(29618),H=o(48777),P=o(96934),D=o(27401),M=o(13526);o(32140);var E=o(79279),R=o(40768),L=o(46673),V=o(73618);const q="SW";let O=async()=>!0;const _=new L.c(!1);let B="8.50.0.3686";async function j(){try{const e=await navigator.serviceWorker.getRegistration();if(!e)return(0,m.PT)(q,"No registration!"),void window.location.reload();if(!e.waiting){(0,m.PT)(q,"registration.waiting is null!");const t=e.installing;return void(t?((0,m.zh)(q,"found an installing service worker"),t.onstatechange=()=>{"installed"===t.state&&((0,m.zh)(q,"installing service worker installed, skip waiting"),t.postMessage("skipWaiting"))}):window.location.reload())}(0,m.zh)(q,"posting skip waiting"),e.waiting.postMessage("skipWaiting"),setTimeout((()=>{window.location.reload()}),2e3)}catch(e){(0,m.PT)(q,"Error checking registration:",e),window.location.reload()}}(async()=>{await(0,V.c)(1e4),setInterval((async()=>{try{const e=await async function(){const e=await fetch("/version.json");if(e.ok){const t=await e.json();if(!t.version)throw Error("No version property");return t.version}throw await(0,R.YX)(e)}();(function(e,t){const o=e.split("."),s=t.split(".");let n=!1,a=!1;for(let e=0;e<o.length&&e<s.length;e++){const t=parseInt(o[e],10),r=parseInt(s[e],10);if(t>r){n=!0;break}if(t<r){a=!0;break}}return a?(0,m.XX)(q,"Server version ",e," is older than current version ",t):n&&(0,m.zh)(q,"Found newer version on server, attempting to update"),n})(e,B)&&await O()&&(B=e,_.next(!0))}catch(e){(0,m.PT)(q,"Failed to check version.json",e)}}),9e5)})();var z=o(88122),F=o(13455),W=o(57840),U=o(61938),G=o(87411);const Q=e=>e.dimApi.globalSettings,Z=new L.l;function K(){Z.next(void 0)}function J(){return function(){const{pathname:e}=(0,T.zy)(),t=e.endsWith("/optimizer"),o=function(){const{destinyProfileMinimumRefreshInterval:e}=(0,v.d4)(Q),t=(0,x.useRef)(0);return(0,x.useCallback)((()=>{Date.now()-t.current<1e3*e||((0,U.O)(),t.current=Date.now())}),[e])}(),s=function(){const{destinyProfileRefreshInterval:e}=(0,v.d4)(Q),t=(0,v.d4)(p.$_),o=(0,x.useRef)(),s=()=>window.clearTimeout(o.current),n=(0,x.useCallback)((()=>{s(),t&&(o.current=window.setTimeout(K,1e3*e))}),[t,e]);return(0,z.ef)(U.k,n),(0,x.useEffect)((()=>(n(),()=>s())),[n]),n}();(0,x.useEffect)((()=>(document.addEventListener("online",K),()=>{document.removeEventListener("online",K)})),[]),function(){const{refreshProfileOnVisible:e}=(0,v.d4)(Q),t=(0,v.d4)(c.y),{pathname:o}=(0,T.zy)(),s=o.endsWith("/optimizer");(0,x.useEffect)((()=>{const o=()=>{document.hidden?_.getCurrentValue()&&!t&&!s&&G.L<=0&&j():e&&K()};return document.addEventListener("visibilitychange",o),()=>{document.removeEventListener("visibilitychange",o)}}),[t,s,e])}(),(0,z.ef)(Z,(0,x.useCallback)((()=>{const e=W.f.active(),n=!document.hidden,a=navigator.onLine,r=F.g.getCurrentValue();if(e||!n||!a||r||t)if(e){const e=W.f.active$.subscribe((t=>{t||(e(),K())}))}else if(r){const e=F.g.subscribe((t=>{t||(e(),K())}))}else s();else o()}),[t,o,s]))}(),null}var X=o(59981),Y=o(39782),$=o(6380),ee=o(8467);var te=o(94518);const oe=e=>e.shell.loadingMessages.at(-1),se={initial:{opacity:0},open:{opacity:1}},ne={duration:.1,delay:.5,ease:"easeIn"};function ae(){const e=(0,v.d4)(oe),t=(0,x.useRef)(null);return!!e&&(0,te.jsx)($.P.div,{ref:t,className:(0,M.A)("dim-page","PageLoading-m_pageLoading-JrbU3yLa"),initial:"initial",animate:"open",variants:se,transition:ne,children:(0,s.A)(ee.R,{message:e})})}var re=o(12600),ie=o(12912),ce=o(57551),le=o(69801),de=o(8761);function ue({hotkeys:e}){return(0,de.v)(e),null}var me=o(59963);const he=new L.c(!1),pe=(0,x.memo)((function(){const e=(0,le.useSubscription)(he),t=()=>he.next(!1);if((0,de.E)("?",(0,b.t)("Hotkey.ShowHotkeys"),(()=>he.next(!e))),!e)return null;const o=(0,me.t_)();return(0,s.A)("div",{className:"HotkeysCheatSheet-m_container-CmdlZRx9",onClick:t},void 0,(0,s.A)(ue,{hotkeys:[{combo:"esc",description:"",callback:t}]}),(0,s.A)("div",{className:"HotkeysCheatSheet-m_hotkeys-AzYEjFX_"},void 0,(0,s.A)("h4",{className:"HotkeysCheatSheet-m_title-eBatobcI"},void 0,(0,b.t)("Hotkey.CheatSheetTitle")),(0,s.A)("div",{className:"HotkeysCheatSheet-m_list-S8XywkMl"},void 0,Object.entries(o).sort((0,ce.VE)((([e])=>e))).map((([e,t])=>t.length>0&&(0,s.A)(x.Fragment,{},e,(0,s.A)("div",{className:"HotkeysCheatSheet-m_keys-FsVWwbMl"},void 0,(0,s.A)(ie.A,{combo:e,className:"HotkeysCheatSheet-m_key-_wsuaqbC"})),(0,s.A)("div",{className:"HotkeysCheatSheet-m_text-KAHGLKcy"},void 0,t)))))))}));var fe=o(88294),ge=o(93192),ye=o(99946),ve=o(69063);const be={notification:"Notification-m_notification-OhRc8Oi1",inner:"Notification-m_inner-GiS2sGZc",contents:"Notification-m_contents-jxs2RXb5",icon:"Notification-m_icon-JeQ70ULr",trailer:"Notification-m_trailer-C1kp0mHI",timer:"Notification-m_timer-v5jl4inX",details:"Notification-m_details-uYLkpmEf",title:"Notification-m_title-KkCE1zAR",info:"Notification-m_info-cjbNldwa",progress:"Notification-m_progress-qN5LZu82",error:"Notification-m_error-yFdDh9sb",warning:"Notification-m_warning-oJ9iDQkN",success:"Notification-m_success-KuyW9Z58"};var Ae=o(70143);const ke={success:be.success,error:be.error,progress:be.progress,warning:be.warning,info:be.info},we=5e3;function Ie({notification:e,onClose:t,...o}){const[n,a]=(0,x.useState)(!1),[r,i]=(0,x.useState)(),[c,l]=(0,x.useState)(),d=(0,x.useRef)(0),u=(0,x.useCallback)((()=>{d.current&&(window.clearTimeout(d.current),d.current=0),c||r||!e.promise?e.duration||c?d.current=window.setTimeout((()=>{n||t(e)}),c?Math.max(e.duration,we):e.duration):window.setTimeout((()=>t(e)),0):e.promise.then((()=>i(!0))).catch((e=>e instanceof ye.k3?i(!0):l((0,ve.n)(e))))}),[c,r,e,n,t]),m=()=>{d.current&&(window.clearTimeout(d.current),d.current=0)};(0,x.useEffect)((()=>(u(),m)),[u]);const h=()=>{m(),a(!0)},p=n||!c&&!r&&e.promise?"0%":"100%",f=n?{type:"tween",ease:"easeOut",duration:.3}:{type:"tween",ease:"linear",duration:(c?we:e.duration)/1e3-.3},g=c?.title||e.title,y=c?.body||c?.message||e.body,v=c?.icon||e.icon,A=c?.trailer||e.trailer;return(0,te.jsx)($.P.div,{className:be.notification,role:"alert",onClick:o=>{!1!==e.onClick?.(o)&&t(e)},...o,onPointerEnter:h,onPointerLeave:()=>{a(!1),u()},onPointerDown:h,children:(0,s.A)("div",{className:(0,M.A)(be.inner,c?be.error:r?be.success:ke[e.type])},void 0,(0,s.A)("div",{className:be.contents},void 0,!!v&&(0,s.A)("div",{className:be.icon},void 0,v),(0,s.A)("div",{className:be.details},void 0,(0,s.A)("div",{className:be.title},void 0,g),!!y&&(0,s.A)("div",{},void 0,y),!c&&e.onCancel&&(0,s.A)(Ae.A,{onClick:e.onCancel},void 0,(0,b.t)(r||c?"Notification.OK":"Notification.Cancel"))),!!A&&(0,s.A)("div",{className:be.trailer},void 0,A)),(r||c||!e.promise)&&"number"==typeof e.duration&&(0,s.A)($.P.div,{transition:f,initial:{width:"0%"},animate:{width:p},className:be.timer}))})}var Se=o(14231);const xe={type:"spring",bounce:0,duration:.3},Te={hidden:{opacity:0,height:0},shown:{height:"auto",opacity:1}};function Ne(){const[e,t]=(0,x.useState)([]);(0,z.ef)(Se.FE,(0,x.useCallback)((e=>{t((t=>[...t,e]))}),[]));const o=e=>t((t=>t.filter((t=>t!==e))));return(0,s.A)("div",{className:"NotificationsContainer-m_container-QKPrnyWo"},void 0,(0,s.A)(ge.N,{},void 0,e.map((e=>(0,s.A)(Ie,{transition:xe,initial:"hidden",animate:"shown",exit:"hidden",variants:Te,notification:e,onClose:o},e.id)))))}var Ce=o(87362),He=o(67294),Pe=o(78750),De=o(49629),Me=o(10742),Ee=o(77204),Re=o(66265);var Le,Ve,qe,Oe,_e,Be,je,ze,Fe,We,Ue,Ge,Qe,Ze,Ke=o(60440),Je=o(372);const Xe="https://github.com/DestinyItemManager/DIM/",Ye="https://crowdin.com/project/destiny-item-manager/invite?d=65a5l46565176393s2a3p403a3u22323e46383232393h4k4r443o4h3d4c333t2a3j4f453f4f3o4u643g393b343n4",$e="https://opencollective.com/dim",et="https://www.designbyhumans.com/shop/DestinyItemManager/",tt=`<a href='${Xe}' target='_blank' rel='noopener noreferrer'>GitHub</a>`,ot=`<a href='${Ye}' target='_blank' rel='noopener noreferrer'>Crowdin</a>`,st=`<a href='${$e}' target='_blank' rel='noopener noreferrer'>OpenCollective</a>`,nt=`<a href='${et}' target='_blank' rel='noopener noreferrer'>DesignByHumans</a>`;function at(){(0,z.HU)((0,b.t)("Header.About"));const e=(0,De.TO)();(0,x.useEffect)((()=>{if(e)return;const t=document.createElement("script");return t.src='https://opencollective.com/dim/banner.js?style={"a":{"display":"none"}, "h2":{"color":"white"}}',t.async=!0,document.getElementById("opencollective").appendChild(t),()=>{delete window.OC}}),[e]);const t=(0,Ce.gf)();return(0,s.A)(Pe.A,{className:"About-m_about-RiwOaj94"},void 0,(0,s.A)("div",{className:"About-m_header-uFMCyotq"},void 0,(0,s.A)("img",{src:Ee,className:"About-m_logo-ygIPz3XT",alt:"DIM Logo",height:"48",width:"48"}),(0,s.A)("h1",{},void 0,(0,s.A)("span",{},void 0,(0,b.t)("Views.About.Header"))),(0,s.A)(T.N_,{to:"/whats-new"},void 0,(0,s.A)("span",{},void 0,(0,b.t)("Views.About.Version",{version:"8.50.0.3686",flavor:"beta",date:new Date(1733713293972).toLocaleString()}))),Le||(Le=(0,s.A)("br",{})),Ve||(Ve=(0,s.A)("span",{},void 0,Me.c1))," ",qe||(qe=(0,s.A)(T.N_,{to:"/debug"},void 0,"Debug"))),(0,s.A)("p",{},void 0,(0,b.t)("Views.About.HowItsMade")),!1,(0,s.A)("p",{},void 0,(0,b.t)("Views.About.Schedule.beta")),!1,(0,s.A)("ul",{},void 0,(0,s.A)("li",{},void 0,(0,b.t)("Views.About.BungieCopyright")),Oe||(Oe=(0,s.A)("li",{},void 0,(0,s.A)(T.N_,{to:"/privacy"},void 0,"DIM Privacy Policy"))),t&&(0,s.A)("li",{},void 0,(0,s.A)(Re.A,{href:"https://www.bungie.net/en/Profile/ApplicationHistory/254/"+t.bungieMembershipId},void 0,(0,b.t)("Views.About.APIHistory"))),(0,s.A)("li",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.About.CommunityInsight",{clarityLink:He.$,clarityDiscordLink:He.t})}})),(0,s.A)("div",{className:"About-m_social-tHBWIUyO"},void 0,!e&&(0,s.A)("div",{},void 0,(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:$e},void 0,_e||(_e=(0,s.A)(Ke.z9,{icon:Ke.O1})),(0,b.t)("Views.Support.Support"))),(0,s.A)("div",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.Support.OpenCollective",{link:st})}})),(0,s.A)("div",{},void 0,(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:Je.GD},void 0,Be||(Be=(0,s.A)(Ke.z9,{icon:Ke.$y})),(0,b.t)("Views.About.Wiki"))),(0,b.t)("Views.About.WikiHelp")," ",je||(je=(0,s.A)("br",{}))),!e&&(0,s.A)("div",{},void 0,(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:et},void 0,ze||(ze=(0,s.A)(Ke.z9,{icon:Ke.Ad})),(0,b.t)("Header.Shop"))),(0,s.A)("div",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.Support.Store",{link:nt})}})),(0,s.A)("div",{},void 0,(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:Je.DI},void 0,Fe||(Fe=(0,s.A)(Ke.z9,{icon:Ke._2})),(0,b.t)("Views.About.Discord"))),(0,b.t)("Views.About.DiscordHelp")),(0,s.A)("div",{},void 0,We||(We=(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:Je.R4},void 0,(0,s.A)(Ke.z9,{icon:Ke.zk}),"Mastodon"))),(0,b.t)("Views.About.TwitterHelp")," ",Ue||(Ue=(0,s.A)("br",{})),Ge||(Ge=(0,s.A)(Re.A,{href:Je.R4},void 0,Je.JW))),(0,s.A)("div",{},void 0,(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:Xe},void 0,Qe||(Qe=(0,s.A)(Ke.z9,{icon:Ke.Vz})),(0,b.t)("Views.About.GitHub"))),(0,s.A)("div",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.About.GitHubHelp",{link:tt})}})),(0,s.A)("div",{},void 0,(0,s.A)("h2",{},void 0,(0,s.A)(Re.A,{href:Ye},void 0,(0,b.t)("Views.About.Translation"))),(0,s.A)("div",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.About.TranslationText",{link:ot})}}))),(0,s.A)("h2",{},void 0,(0,b.t)("Views.About.FAQ")),(0,s.A)("dl",{},void 0,(0,s.A)("dt",{},void 0,(0,b.t)("Views.About.FAQMobile")),(0,s.A)("dd",{},void 0,(0,b.t)("Views.About.FAQMobileAnswer")),(0,s.A)("dt",{},void 0,(0,b.t)("Views.About.FAQLogout")),(0,s.A)("dd",{},void 0,(0,b.t)("Views.About.FAQLogoutAnswer")),(0,s.A)("dt",{},void 0,(0,b.t)("Views.About.FAQKeyboard")),(0,s.A)("dd",{},void 0,(0,b.t)("Views.About.FAQKeyboardAnswer")),(0,s.A)("dt",{},void 0,(0,b.t)("Views.About.FAQLostItem")),(0,s.A)("dd",{},void 0,(0,s.A)("div",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.About.FAQLostItemAnswer",{link:"<a href='https://www.bungie.net' target='_blank' rel='noopener noreferrer'>Bungie.net</a>"})}}),t&&(0,s.A)("p",{},void 0,(0,s.A)(Re.A,{href:"https://www.bungie.net/en/Profile/ApplicationHistory/254/"+t.bungieMembershipId},void 0,(0,b.t)("Views.About.APIHistory")))),(0,s.A)("dt",{},void 0,(0,b.t)("Views.About.FAQAccess")),(0,s.A)("dd",{},void 0,(0,b.t)("Views.About.FAQAccessAnswer"))),!e&&(0,te.jsxs)(te.Fragment,{children:[(0,s.A)("h1",{},void 0,(0,b.t)("Views.Support.Support")),(0,s.A)("p",{},void 0,(0,b.t)("Views.Support.FreeToDownload")),(0,s.A)("p",{},void 0,(0,s.A)("span",{dangerouslySetInnerHTML:{__html:(0,b.t)("Views.Support.OpenCollective",{link:st})}})," "),(0,b.t)("Views.Support.BackersDetail")]}),Ze||(Ze=(0,s.A)("div",{id:"opencollective"})))}o(10131);var rt=o(44404),it=o(92369),ct=o(74008);const lt={accountSelect:"SelectAccount-m_accountSelect-FEe6sbBR",accountList:"SelectAccount-m_accountList-RatQOMHF",account:"SelectAccount-m_account-A9Xa62lt",accountDetails:"SelectAccount-m_accountDetails-kvpQ3WcM"};var dt,ut=o(70262);function mt({path:e}){const t=(0,v.d4)(u.q6).toSorted((0,ce.o2)((0,ce.fb)((0,ce.VE)((e=>e.destinyVersion))),(0,ce.fb)((0,ce.VE)((e=>e.lastPlayed.getTime()))))),o=t[0].displayName,n=(0,it._)();return(0,s.A)("div",{className:lt.accountSelect},void 0,(0,s.A)("h1",{},void 0,(0,b.t)("Accounts.Choose",{bungieName:o})),(0,s.A)("div",{className:lt.accountList},void 0,t.map((t=>(0,s.A)(T.N_,{className:lt.account,to:(0,rt.f)(t)+(e??"")},`${t.membershipId}-${t.destinyVersion}`,(0,s.A)(ct.A,{className:lt.accountDetails,account:t}))))),(0,s.A)("p",{},void 0,(0,b.t)("Accounts.MissingAccountWarning")," ",(0,b.t)("Accounts.SwitchAccounts")),(0,s.A)("div",{onClick:()=>n((0,ut.je)()),role:"button"},void 0,dt||(dt=(0,s.A)(Ke.z9,{icon:Ke.rh}))," ",(0,b.t)("Settings.LogOut")))}function ht(){const e=(0,it._)(),t=(0,v.d4)(u.q6),o=(0,v.d4)(u.fZ),n=(0,v.d4)((e=>e.accounts.accountsError)),a=(0,v.d4)(u.n1),r=(0,v.d4)(u.Ot),{search:i,pathname:c}=(0,T.zy)(),l=(0,x.useMemo)((()=>{const e=localStorage.getItem("returnPath");return e?(localStorage.removeItem("returnPath"),e):`${c}${i}`}),[c,i]);return(0,x.useEffect)((()=>{o||a||e(ut.rR)}),[e,o,a]),o||a?a?(0,s.A)(T.C5,{to:(0,rt.f)({membershipId:a,destinyVersion:r})+l}):(0,s.A)("div",{className:"dim-page"},void 0,t.length>0?(0,s.A)(mt,{path:l}):(0,s.A)(A.A,{error:n,fallbackMessage:(0,b.t)("Accounts.NoCharacters"),title:(0,b.t)("Accounts.ErrorLoading"),showSocials:!0,showReload:!0})):(0,s.A)(re.A,{message:(0,b.t)("Loading.Accounts")})}var pt=o(40184),ft=o(88588);function gt({account:e}){(0,z.HU)((0,b.t)("Armory.Armory"));const{itemHash:t}=(0,T.g)(),o=parseInt(t??"",10),{search:n}=(0,T.zy)();if(!(0,pt.c)(e))return(0,s.A)(re.A,{message:(0,b.t)("Loading.Profile")});const a=(new URLSearchParams(n).get("perks")??"").split(",").reduce(((e,t,o)=>{const s=parseInt(t,10);return 0!==s&&(e[o]=s),e}),{});return(0,s.A)("div",{className:"dim-page"},void 0,(0,s.A)(ft.A,{itemHash:o,realItemSockets:a},o))}var yt=o(80857),vt=o(68807),bt=o(62194);const At=(0,x.lazy)((()=>Promise.all([o.e(41),o.e(468),o.e(948),o.e(118),o.e(44)]).then(o.bind(o,89505))));function kt({destinyVersion:e}){const t=(0,v.d4)(bt.NS),o=!!t,n=(0,it._)(),{pathname:a}=(0,T.zy)();return(0,x.useEffect)((()=>()=>{n((0,vt.VF)())}),[n,a]),(0,x.useEffect)((()=>{o&&void 0!==e&&(0,yt.VP)(`/profileMembershipId/d${e}/compare`)}),[e,o]),t?(0,s.A)(x.Suspense,{fallback:null},void 0,(0,s.A)(At,{session:t})):null}var wt=o(88312),It=o(91484),St=o(85737);const xt={shown:{y:0,x:"-50%"},hidden:{y:60,x:"-50%"}},Tt={type:"spring",duration:.3,bounce:0};function Nt(){const e=(0,it._)(),t=(0,v.d4)(St.h),[o,n]=(0,wt.i)("farmingMakeRoomForItems"),a=(0,v.d4)((0,i.A2)("inventoryClearSpaces")),r=(0,x.useRef)(null);return(0,s.A)(ge.N,{},void 0,t&&(0,te.jsxs)($.P.div,{ref:r,id:"item-farming",className:2===t.destinyVersion?"d2-farming":"",initial:"hidden",animate:"shown",exit:"hidden",variants:xt,transition:Tt,children:[2===t.destinyVersion?(0,s.A)("div",{},void 0,(0,s.A)("p",{},void 0,(0,b.t)("FarmingMode.D2Desc",{store:t.name,context:t.genderName,count:a})," ",(0,b.t)("FarmingMode.Vault"))):(0,s.A)("div",{},void 0,(0,s.A)("p",{},void 0,o?(0,b.t)("FarmingMode.Desc",{store:t.name,context:t.genderName,count:a}):(0,b.t)("FarmingMode.MakeRoom.Desc",{store:t.name,context:t.genderName})),(0,s.A)("p",{},void 0,(0,s.A)("input",{name:"make-room-for-items",type:"checkbox",checked:o,onChange:e=>n(e.currentTarget.checked)}),(0,s.A)("label",{htmlFor:"make-room-for-items",title:(0,b.t)("FarmingMode.MakeRoom.Tooltip")},void 0,(0,b.t)("FarmingMode.MakeRoom.MakeRoom")))),(0,s.A)("div",{},void 0,(0,s.A)("button",{type:"button",onClick:()=>e((0,It.c)())},void 0,(0,b.t)("FarmingMode.Stop")))]}))}var Ct=o(6723),Ht=o(40934),Pt=o(92298),Dt=o(16283),Mt=o(50279),Et=o(27267);const Rt={infuseDialog:"InfusionFinder-m_infuseDialog-adDMBkua",infuseHeader:"InfusionFinder-m_infuseHeader-Xs2x7RGc",infuseActions:"InfusionFinder-m_infuseActions-DObqi1hh",infuseSearch:"InfusionFinder-m_infuseSearch-KiXyga9a",infuseSelected:"InfusionFinder-m_infuseSelected-gzpP5emH",infusionEquation:"InfusionFinder-m_infusionEquation-wiknCqdB",icon:"InfusionFinder-m_icon-MYMIJu0u",infuseSources:"InfusionFinder-m_infuseSources-SjppPpZH",infusionControls:"InfusionFinder-m_infusionControls-qCnllYiV",infuseTopRow:"InfusionFinder-m_infuseTopRow-SeNj1EEp",missingItem:"InfusionFinder-m_missingItem-kyY5yr8x"};var Lt,Vt,qt,Ot,_t,Bt,jt=o(74217);const zt=(0,ce.o2)((0,ce.fb)((0,ce.VE)((e=>e.power))),(0,ce.VE)((e=>(0,Dt.Ne)(e)&&e.talentGrid?e.talentGrid.totalXP/e.talentGrid.totalXPRequired*.5:0)));function Ft(e,t){switch(t.type){case"reset":return{...e,query:void 0,source:void 0,target:void 0,filter:""};case"init":{const o=0===e.direction?t.hasInfusables?0:1:t.hasFuel?1:0;return{...e,direction:o,query:t.item,target:0===o?t.item:void 0,source:0===o?void 0:t.item}}case"swapDirection":{const t=0===e.direction?1:0;return{...e,direction:t,target:0===t?e.query:void 0,source:1===t?e.query:void 0}}case"selectItem":return 0===e.direction?{...e,target:e.query,source:t.item}:{...e,target:t.item,source:e.query};case"setFilter":return{...e,filter:t.filter}}}function Wt(){var e,t;const o=(0,it._)(),n=(0,v.d4)(p.V0),a=(0,v.d4)(p.ux),r=(0,v.d4)(p.Mj),i=(0,v.d4)(Pt.OL),[c,l]=(0,wt.i)("infusionDirection"),[{direction:d,query:u,source:m,target:h,filter:f},g]=(0,x.useReducer)(Ft,{direction:c,filter:""}),y=(0,x.useDeferredValue)(f),A=()=>g({type:"reset"}),k=e=>g({type:"setFilter",filter:e}),w=()=>g({type:"swapDirection"}),I=void 0!==u,S=a?.destinyVersion;(0,x.useEffect)((()=>{I&&S&&(0,yt.VP)(`/profileMembershipId/d${S}/infuse`)}),[S,I]),(0,z.ef)(jt.Y,(0,x.useCallback)((e=>{const t=n.some((t=>Ut(e,t))),o=n.some((t=>Ut(t,e)));g({type:"init",item:e,hasInfusables:t,hasFuel:o})}),[n]));const{pathname:N}=(0,T.zy)();if((0,x.useEffect)(A,[N]),(0,x.useEffect)((()=>{d!==c&&l(d)}),[d,c,o,l]),!u||!a)return null;const C=i(y);let H=n.filter((e=>(0===d?Ut(u,e):Ut(e,u))&&C(e)));const P=H.filter((e=>e.hash===u.hash));P.sort(zt),H=H.filter((e=>e.hash!==u.hash)),H.sort(zt);const D=P.find((e=>"infuse"===r(e)))||H.find((e=>"infuse"===r(e))),E=h||P[0]||H[0],R=m||D||P[0]||H[0];let L;if(R?.power&&E?.power){const e=R.power;L={...E,power:e,primaryStat:{...E.primaryStat,value:e}}}const V=(0,s.A)("div",{className:(0,M.A)("item",Rt.missingItem)},void 0,Lt||(Lt=(0,s.A)("div",{className:"item-img"},void 0,(0,s.A)(Ke.z9,{icon:Ke.$y}))),Vt||(Vt=(0,s.A)("div",{className:"item-stat"},void 0,"???"))),q=e=>(0,s.A)("div",{className:(0,M.A)(e===h&&Rt.infuseSelected),onClick:()=>(e=>g({type:"selectItem",item:e}))(e)},e.id,(0,s.A)(Mt.A,{item:e}));return(0,s.A)(G.A,{onClose:A,header:({onClose:n})=>(0,s.A)("div",{className:Rt.infuseHeader},void 0,(0,s.A)("h1",{},void 0,(0,b.t)(0===d?"Infusion.InfuseTarget":"Infusion.InfuseSource",{name:u.name})),(0,s.A)("div",{className:Rt.infusionControls},void 0,(0,s.A)("div",{className:Rt.infuseTopRow},void 0,(0,s.A)("div",{className:Rt.infusionEquation},void 0,E?e||(e=(0,s.A)(Mt.A,{item:E})):V,(0,s.A)("div",{className:Rt.icon},void 0,qt||(qt=(0,s.A)(Ke.z9,{icon:Ke.WW}))),R?t||(t=(0,s.A)(Mt.A,{item:R})):V,(0,s.A)("div",{className:Rt.icon},void 0,Ot||(Ot=(0,s.A)(Ke.z9,{icon:Ke.XV}))),L?(0,s.A)(Mt.A,{item:L}):V),(0,s.A)("div",{className:Rt.infuseActions},void 0,(0,s.A)("button",{type:"button",className:"dim-button",onClick:w},void 0,_t||(_t=(0,s.A)(Ke.z9,{icon:Ke.fK}))," ",(0,b.t)("Infusion.SwitchDirection")),L&&R&&E&&(0,s.A)("button",{type:"button",className:"dim-button",onClick:()=>async function(e,t,o,s,n){if(!s||!n)return;if(n.notransfer||s.notransfer)return void(0,Se.Ds)({type:"error",title:(0,b.t)("Infusion.NoTransfer",{target:s.notransfer?s.name:n.name})});o();const a=[(0,Et.CE)(n,!1),(0,Et.CE)(s,s.equipped)];1===s.destinyVersion&&(a.push("General"===n.bucket.sort?{id:"0",hash:937555249,amount:2,equip:!1}:"Weapons"===n.bucket.sort?{id:"0",hash:1898539128,amount:10,equip:!1}:{id:"0",hash:1542293174,amount:10,equip:!1}),s.isExotic&&a.push({id:"0",hash:452597397,amount:1,equip:!1}));const r=(0,Et.$W)((0,b.t)("Infusion.InfusionMaterials"),a);await e((0,Ct.H)(t,r))}(o,a,n,R,E)},void 0,Bt||(Bt=(0,s.A)(Ke.z9,{icon:Ke.pO}))," ",(0,b.t)("Infusion.TransferItems")))),(0,s.A)(Ht.A,{className:Rt.infuseSearch,onQueryChanged:k,placeholder:(0,b.t)("Infusion.Filter"),instant:!0}))),sheetClassName:Rt.infuseDialog,freezeInitialHeight:!0},void 0,(0,s.A)("div",{className:Rt.infuseSources},void 0,H.length>0||P.length>0?(0,te.jsxs)(te.Fragment,{children:[(0,s.A)("div",{className:"sub-bucket"},void 0,P.map(q)),(0,s.A)("div",{className:"sub-bucket"},void 0,H.map(q))]}):(0,s.A)("strong",{},void 0,(0,b.t)("Infusion.NoItems"))))}function Ut(e,t){return!(!e.infusable||!t.infusionFuel)&&(1===t.destinyVersion&&1===e.destinyVersion?t.bucket.hash===e.bucket.hash&&e.power<t.power:t.infusionCategoryHashes&&e.infusionCategoryHashes?.some((e=>t.infusionCategoryHashes.includes(e)))&&e.power<t.power)}function Gt(){const e=(0,P.gx)();return e.display&&"bucket"in e.item?(0,s.A)("div",{style:e.style},void 0,(0,s.A)(Mt.A,{item:e.item})):null}var Qt=o(27699),Zt=o(65);const Kt={page:"ItemFeedPage-m_page-ZrexunCV dim-page"};var Jt;const Xt=(0,x.lazy)((()=>Promise.all([o.e(723),o.e(427)]).then(o.bind(o,91414))));function Yt({account:e}){return(0,z.HU)((0,b.t)("ItemFeed.Description")),(0,pt.c)(e)?(0,s.A)("div",{className:Kt.page},void 0,(0,s.A)(x.Suspense,{fallback:(0,s.A)(re.A,{message:(0,b.t)("Loading.Code")})},void 0,Jt||(Jt=(0,s.A)(Xt,{page:!0})))):(0,s.A)(re.A,{message:(0,b.t)("Loading.Profile")})}var $t=o(55854),eo=o(90154),to=o(38654),oo=o(98313);const so=(0,x.lazy)((()=>Promise.all([o.e(648),o.e(36),o.e(402),o.e(623),o.e(505)]).then(o.bind(o,58746)))),no=(0,x.lazy)((()=>o.e(637).then(o.bind(o,94227))));function ao({account:e}){const t=(0,to.I3)(),o=(0,T.Zp)(),{search:n,pathname:a}=(0,T.zy)(),[r,i]=(0,x.useState)(),c=(0,x.useCallback)((()=>{i(void 0)}),[]),l=(0,v.d4)(p.Wh);(0,z.ef)(oo.Nw,(0,x.useCallback)((e=>{const{storeId:o,loadout:s}=e,n=(0,Et.qx)(l,o,s.classType)??(0,Zt.ZS)(l);n?i({...e,storeId:n.id}):t&&(0,$t.l)(s.classType,t)}),[l,t]));const d=!!r;return(0,z.ef)(oo.nV,(0,x.useCallback)((e=>{if(!d){const t=(0,Et.qx)(l,e.owner,e.classType);if(!t)return void(0,Se.Ds)({type:"warning",title:(0,b.t)("Loadouts.ClassTypeMissing",{className:e.classTypeNameLocalized})});const o=(0,Et.$W)("",[],3===e.classType?t.classType:e.classType);o.items.push((0,Et.CE)(e,!0)),i({loadout:o,storeId:t.id,showClass:!0,fromExternal:!0})}}),[d,l])),(0,x.useEffect)((()=>{if(l.length&&t?.isDestiny2)try{const e=(0,eo.oh)(n);if(e){const s=(0,Et.qx)(l,void 0,e.classType)?.id;if(!s)return void(0,$t.l)(e.classType,t);i({loadout:e,storeId:s,showClass:!1,fromExternal:!0}),o(a,{replace:!0})}}catch(e){(0,Se.Ds)({type:"error",title:(0,b.t)("Loadouts.BadLoadoutShare"),body:(0,b.t)("Loadouts.BadLoadoutShareBody",{error:(0,ve.g)(e)})}),o(a,{replace:!0})}}),[t,n,o,a,l]),(0,x.useEffect)((()=>{a.endsWith("inventory")||a.endsWith("loadouts")||c()}),[c,a]),r?(0,s.A)(x.Suspense,{fallback:null},void 0,2===e.destinyVersion?(0,s.A)(so,{initialLoadout:r.loadout,storeId:r.storeId,onClose:c,fromExternal:r.fromExternal}):(0,s.A)(no,{initialLoadout:r.loadout,storeId:r.storeId,showClass:r.showClass,onClose:c})):null}var ro=o(48371),io=o(51504),co=o(80709),lo=o(34596),uo=o(71293),mo=o(11682),ho=o(28233),po=o(87545);const fo={insertButton:"StripSockets-m_insertButton-DIJFAzTq dim-button",stripSheet:"StripSockets-m_stripSheet-o1xO2chC",noSocketsMessage:"StripSockets-m_noSocketsMessage-fbLLUpxL",socketKindButton:"StripSockets-m_socketKindButton-sN7AOirE",buttonInfo:"StripSockets-m_buttonInfo-Zby3s8dn",buttonTitle:"StripSockets-m_buttonTitle-b7VbsM80",selectedTitle:"StripSockets-m_selectedTitle-MFq2PU5Y",selectedButton:"StripSockets-m_selectedButton-ilCSrpZH",itemTypeIcon:"StripSockets-m_itemTypeIcon-uZ8xXFpF",iconList:"StripSockets-m_iconList-virOqHto",plug:"StripSockets-m_plug-huBovtIb",ok:"StripSockets-m_ok-GbHgN1Pn",failed:"StripSockets-m_failed-Ya_VCsPB"};var go=o(13933),yo=o(16328),vo=o(59816),bo=o(36871);function Ao(e,t){return t.itemCategoryHashes?.includes(41)?"shaders":vo.W.includes(e.emptyPlugItemHash)?"ornaments":t.itemCategoryHashes?.includes(1052191496)?"weaponmods":t.itemCategoryHashes?.includes(4104513227)?(0,yo.lB)(t.hash)?"discountedmods":"armormods":2272427828===t.plug.plugCategoryHash?"others":void 0}const ko=new L.c(void 0);var wo,Io,So;function xo(e,t){switch(t.tag){case"cancel_process":if("processing"===e.tag)return e.cancel(),(0,ho.jM)(e,(e=>{"processing"===e.tag&&(e.cancelling=!0)}));if("done"===e.tag)return{tag:"selecting"};break;case"confirm_process":if("selecting"===e.tag)return{tag:"processing",cancel:t.cancel,cancelling:!1,socketList:t.socketList,socketStates:Array(t.socketList.length).fill("todo")};break;case"confirm_results":if("done"===e.tag)return{tag:"selecting"};break;case"notify_done":if("processing"===e.tag)return t.success?{tag:"done",socketList:e.socketList,socketStates:e.socketStates}:{tag:"selecting"};break;case"notify_progress":if("processing"===e.tag)return(0,ho.jM)(e,(e=>{"processing"===e.tag&&(e.socketStates[t.idx]=t.error??"ok")}))}return e}function To(){const e=(0,it._)(),[t,o]=(0,x.useReducer)(xo,{tag:"selecting"}),[n,a]=(0,x.useState)([]),r=(0,le.useSubscription)(ko),i="selecting"===t.tag,c=()=>{o({tag:"cancel_process"})},l=(0,x.useCallback)((async t=>{if(!i)return;const[s,n]=(0,ye.Fb)();o({tag:"confirm_process",socketList:t,cancel:n});try{await e(function(e,t,o){return async s=>{for(let n=0;n<e.length;n++){t.checkCanceled();const a=e[n];try{const e=a.item.sockets.allSockets.find((e=>e.socketIndex===a.socketIndex));await s((0,go.Q)(a.item,e,e.emptyPlugItemHash)),o(n,void 0)}catch(e){o(n,(0,ve.g)(e))}}}}(t,s,((e,t)=>o({tag:"notify_progress",idx:e,error:t})))),o({tag:"notify_done",success:!0})}catch{o({tag:"notify_done",success:!1})}}),[e,i]);if(!r)return null;const d=(0,s.A)("div",{},void 0,(0,s.A)("h1",{},void 0,i?(0,b.t)("StripSockets.Choose"):"processing"===t.tag?(0,te.jsxs)(te.Fragment,{children:[wo||(wo=(0,s.A)("span",{},void 0,(0,s.A)(Ke.z9,{icon:Ke.he,spinning:!0,ariaHidden:!0})))," ",(0,b.t)("StripSockets.Running")]}):(0,b.t)("StripSockets.Done")));let u,m;return"selecting"===t.tag?(u=(0,s.A)(Co,{query:r,reportSockets:a}),m=(0,s.A)("button",{type:"button",className:fo.insertButton,onClick:()=>l(n),disabled:0===n.length},void 0,(0,s.A)("span",{},void 0,Io||(Io=(0,s.A)(Ke.z9,{icon:Ke.SG,ariaHidden:!0}))," ",(0,b.t)("StripSockets.Button",{numSockets:n.length})))):(u=(0,s.A)(No,{socketList:t.socketList,socketStates:t.socketStates}),m="processing"===t.tag?(0,s.A)("button",{type:"button",className:fo.insertButton,onClick:c,disabled:t.cancelling},void 0,(0,s.A)("span",{},void 0,(0,b.t)("StripSockets.Cancel"))):(0,te.jsx)(te.Fragment,{children:(0,s.A)("button",{type:"button",className:fo.insertButton,onClick:()=>o({tag:"confirm_results"})},void 0,(0,s.A)("span",{},void 0,(0,b.t)("StripSockets.Ok")))})),(0,s.A)(G.A,{onClose:()=>{c(),ko.next(void 0)},header:d,footer:m,sheetClassName:fo.stripSheet},void 0,u)}function No({socketList:e,socketStates:t}){return(0,s.A)("div",{className:fo.iconList},void 0,e.map(((e,o)=>{const n=t[o],a=(0,s.A)("div",{onClick:()=>(0,co.a)(e.item)},void 0,(0,s.A)(po.Wj,{itemDef:e.plugItemDef})),r="ok"!==n&&"todo"!==n,i=`${e.item.index}-${e.socketIndex}`,c=(0,M.A)("item",fo.plug,r&&fo.failed,"ok"===n&&fo.ok);return r?(0,s.A)(io.Re,{minimal:!0,className:c,tooltip:n},i,a):(0,s.A)("div",{className:c},i,a)})))}function Co({query:e,reportSockets:t}){const o=(0,to.I3)(),n=(0,v.d4)(to.oy),a=(0,v.d4)(p.V0),r=(0,v.d4)(Pt.OL),[i,c]=(0,x.useState)([]),l=(0,x.useMemo)((()=>{if(!e)return null;const t=r(e);return function(e,t,o){const s={shaders:{name:(0,b.tl)("StripSockets.Shaders")},ornaments:{name:(0,b.tl)("StripSockets.Ornaments")},weaponmods:{name:(0,b.tl)("StripSockets.WeaponMods")},armormods:{name:(0,b.tl)("StripSockets.ArmorMods")},discountedmods:{name:(0,b.tl)("StripSockets.DiscountedMods")},subclass:{name:(0,b.tl)("StripSockets.Subclass")},others:{name:(0,b.tl)("StripSockets.Others")}};for(const n of e)for(const e of n.sockets.allSockets)if(e.emptyPlugItemHash&&e.plugged&&e.plugged.plugDef.hash!==e.emptyPlugItemHash&&(0,go.M)(e,e.emptyPlugItemHash,t,o)){const t=e.plugged.plugDef,o=Ao(e,t);o&&(s[o].items??=[]).push({item:n,socketIndex:e.socketIndex,plugItemDef:t})}const n=[];for(const[e,t]of Object.entries(s)){if(!t.items)continue;const o=(0,bo.hS)(t.items,(e=>e.item.id)),s=o.length,a=(0,bo.U9)(o,(e=>e.item.bucket.inWeapons)),r=(0,bo.U9)(o,(e=>e.item.bucket.inArmor)),i=s-a-r,c=t.items.length;if(c>0){const o=t.items.at(-1).plugItemDef;n.push({kind:e,...t,representativePlug:o,numWeapons:a,numArmor:r,numOthers:i,numApplicableSockets:c})}}return n}(a.filter((e=>e.sockets&&t(e))),n,o)}),[a,o,n,r,e]);return(0,x.useEffect)((()=>{t(l?.filter((e=>e.items&&i.includes(e.kind))).flatMap((e=>e.items))||[])}),[t,l,i]),l&&(0,te.jsx)(te.Fragment,{children:l.length?l.map((e=>{const t=[{icon:mo,num:e.numWeapons},{icon:lo,num:e.numArmor},{icon:uo,num:e.numOthers}];return(0,s.A)(Ho,{name:(0,b.t)(e.name,{count:e.numApplicableSockets}),representativeDef:e.representativePlug,itemCategories:t,selected:i.includes(e.kind),onClick:()=>{i.includes(e.kind)?c(i.filter((t=>t!==e.kind))):c([...i,e.kind])}},e.kind)})):(0,s.A)("div",{className:fo.noSocketsMessage},void 0,(0,b.t)("StripSockets.NoSockets"))})}function Ho({name:e,representativeDef:t,itemCategories:o,selected:n,onClick:a}){return(0,s.A)("div",{className:(0,M.A)(fo.socketKindButton,n&&fo.selectedButton),onClick:a,role:"button",tabIndex:0},void 0,(0,s.A)("div",{className:"item",title:e},void 0,(0,s.A)(po.Wj,{itemDef:t})),(0,s.A)("div",{className:fo.buttonInfo},void 0,(0,s.A)("div",{className:(0,M.A)(fo.buttonTitle,n&&fo.selectedTitle)},void 0,e)),(0,s.A)("div",{},void 0,o.map((({icon:e,num:t},o)=>t>0&&(0,s.A)(x.Fragment,{},o,(0,s.A)("img",{src:e,className:fo.itemTypeIcon})," ",t,So||(So=(0,s.A)("br",{})))))))}var Po=o(13635),Do=o(11071),Mo=o(71684),Eo=o(59361),Ro=o(12462),Lo=o(40974),Vo=o(94186),qo=o(93919),Oo=o(20169);function _o({boundarySelector:e}){const t=(0,v.d4)(p.pl),o=(0,to.I3)(),n=(0,v.d4)(p.cb),a=(0,le.useSubscription)(Oo.$Z),r=()=>(0,Oo.EV)(),{pathname:i}=(0,T.zy)();(0,x.useEffect)((()=>{r()}),[i]);let c=a?.item&&function(e,t){if(!e.instanced)return e;for(const o of t)for(const t of o.items)if(t.id===e.id)return t;return e}(a.item,t);return c&&o&&a?.extraInfo?.socketOverrides&&(c=(0,Vo.FN)(n,c,a.extraInfo.socketOverrides)),a&&c?(0,s.A)(qo.A,{item:c,boundarySelector:e,element:a.element,extraInfo:a.extraInfo,onClose:r},c.index):null}var Bo,jo,zo,Fo,Wo,Uo,Go,Qo,Zo;const Ko=(0,x.lazy)((()=>Promise.all([o.e(920),o.e(36),o.e(525)]).then(o.bind(o,63376)))),Jo=(0,x.lazy)((()=>Promise.all([o.e(254),o.e(464),o.e(234)]).then(o.bind(o,13976)))),Xo=(0,x.lazy)((()=>Promise.all([o.e(468),o.e(723),o.e(648),o.e(254),o.e(36),o.e(402),o.e(623),o.e(838)]).then(o.bind(o,16415)))),Yo=(0,x.lazy)((()=>Promise.all([o.e(636),o.e(254),o.e(255)]).then(o.bind(o,57944)))),$o=(0,x.lazy)((async()=>({default:(await Promise.all([o.e(254),o.e(96)]).then(o.bind(o,47764))).Vendors}))),es=(0,x.lazy)((async()=>({default:(await Promise.all([o.e(254),o.e(96)]).then(o.bind(o,47764))).SingleVendorPage}))),ts=(0,x.lazy)((()=>Promise.all([o.e(636),o.e(647)]).then(o.bind(o,8643)))),os=(0,x.lazy)((()=>o.e(202).then(o.bind(o,98118)))),ss=(0,x.lazy)((()=>Promise.all([o.e(41),o.e(948),o.e(366)]).then(o.bind(o,35566)))),ns=(0,x.lazy)((()=>o.e(952).then(o.bind(o,10357)))),as=(0,x.lazy)((()=>Promise.all([o.e(464),o.e(55)]).then(o.bind(o,89072)))),rs=(0,x.lazy)((()=>Promise.all([o.e(723),o.e(254),o.e(36),o.e(402),o.e(808)]).then(o.bind(o,10190))));function is(){const e=(0,it._)(),{destinyVersion:t,membershipId:o}=(0,T.g)(),n=parseInt((t||"d2").replace("d",""),10),a=(0,v.d4)(u.fZ),r=(0,v.d4)(u.sZ),c=(0,v.d4)((e=>(0,u.q6)(e).find((e=>e.membershipId===o&&e.destinyVersion===n)))),l=(0,v.d4)(p.Cd),d=(0,v.d4)((0,i.A2)("autoLockTagged"));(0,x.useEffect)((()=>{a||e(ut.rR)}),[e,a]),(0,x.useEffect)((()=>{c&&e((0,ut.oW)(c))}),[c,e]);const m=2===c?.destinyVersion;(0,x.useEffect)((()=>{m&&e((0,Eo.I)())}),[e,m]);const{pathname:h,search:f}=(0,T.zy)();(0,de.E)("c",(0,b.t)("Compare.ButtonHelp"),Do.lQ),(0,de.E)("l",(0,b.t)("Hotkey.LockUnlock"),Do.lQ),(0,de.E)("k",(0,b.t)("MovePopup.ToggleSidecar"),Do.lQ),(0,de.E)("v",(0,b.t)("Hotkey.Vault"),Do.lQ),(0,de.E)("p",(0,b.t)("Hotkey.Pull"),Do.lQ),(0,de.E)("i",(0,b.t)("MovePopup.InfuseTitle"),Do.lQ),(0,de.E)("a",(0,b.t)("Hotkey.Armory"),Do.lQ),(0,de.E)("shift+0",(0,b.t)("Tags.ClearTag"),Do.lQ);const g=(0,x.useMemo)((()=>{const e=[];for(const t of Ro.eB)t.hotkey&&e.push({combo:t.hotkey,description:(0,b.t)("Hotkey.MarkItemAs",{tag:(0,b.t)(t.label)}),callback(){}});return e}),[]);return(0,de.v)(g),!a||c&&!r?(0,s.A)(re.A,{message:(0,b.t)("Loading.Accounts")}):c?l?(0,s.A)("div",{className:"dim-page"},void 0,(0,s.A)(A.A,{title:"ManifestError"===l.name?(0,b.t)("Accounts.ErrorLoadManifest"):(0,b.t)("Accounts.ErrorLoadInventory",{version:c.destinyVersion}),error:l,showSocials:!0,showReload:!0})):(0,s.A)(Lo.A,{},void 0,(0,s.A)(Mo.A,{},void 0,(0,s.A)("div",{className:"Destiny-m_content-DMIbg7Wz"},void 0,(0,s.A)(T.BV,{},void 0,(0,s.A)(T.qh,{path:"inventory",element:(0,s.A)(Y.A,{name:"inventory"},"inventory",(0,s.A)(Ko,{account:c}))}),2===c.destinyVersion&&(0,s.A)(T.qh,{path:"progress",element:(0,s.A)(Y.A,{name:"progress"},"progress",(0,s.A)(Jo,{account:c}))}),2===c.destinyVersion&&(0,s.A)(T.qh,{path:"records",element:(0,s.A)(Y.A,{name:"records"},"records",(0,s.A)(as,{account:c}))}),(0,s.A)(T.qh,{path:"optimizer",element:(0,s.A)(Y.A,{name:"optimizer"},"optimizer",(0,s.A)(2===c.destinyVersion?Xo:Yo,{account:c}))}),2===c.destinyVersion&&(0,s.A)(T.qh,{path:"loadouts",element:(0,s.A)(Y.A,{name:"loadouts"},"loadouts",(0,s.A)(rs,{account:c}))}),(0,s.A)(T.qh,{path:"organizer",element:(0,s.A)(Y.A,{name:"organizer"},"organizer",(0,s.A)(ss,{account:c}))}),2===c.destinyVersion&&(0,s.A)(T.qh,{path:"vendors/:vendorHash",element:(0,s.A)(Y.A,{name:"singleVendor"},"singleVendor",(0,s.A)(es,{account:c}))}),(0,s.A)(T.qh,{path:"vendors",element:(0,s.A)(Y.A,{name:"vendors"},"vendors",(0,s.A)(2===c.destinyVersion?$o:ts,{account:c}))}),2===c.destinyVersion&&(0,s.A)(T.qh,{path:"armory/:itemHash",element:(0,s.A)(Y.A,{name:"armory"},"armory",(0,s.A)(gt,{account:c}))}),2===c.destinyVersion&&(0,s.A)(T.qh,{path:"item-feed",element:(0,s.A)(Y.A,{name:"itemFeed"},"itemFeed",(0,s.A)(Yt,{account:c}))}),1===c.destinyVersion&&(0,s.A)(T.qh,{path:"record-books",element:(0,s.A)(Y.A,{name:"recordBooks"},"recordBooks",(0,s.A)(os,{account:c}))}),1===c.destinyVersion&&(0,s.A)(T.qh,{path:"activities",element:(0,s.A)(Y.A,{name:"activities"},"activities",(0,s.A)(ns,{account:c}))}),jo||(jo=(0,s.A)(T.qh,{path:"*",element:(0,s.A)(T.C5,{to:"inventory"})})))),(0,s.A)(ao,{account:c}),(0,s.A)(kt,{destinyVersion:c.destinyVersion}),2===c.destinyVersion&&(zo||(zo=(0,s.A)(To,{}))),Fo||(Fo=(0,s.A)(Nt,{})),Wo||(Wo=(0,s.A)(Wt,{})),Uo||(Uo=(0,s.A)(_o,{boundarySelector:".store-header"})),Go||(Go=(0,s.A)(cs,{})),!!d&&(Qo||(Qo=(0,s.A)(Qt.A,{}))),Zo||(Zo=(0,s.A)(Gt,{})))):h.includes("/armory/")?(0,s.A)(T.C5,{to:h.replace(/\/\d+\/d2/,"")+f,replace:!0}):(0,s.A)("div",{className:"dim-page"},void 0,(0,s.A)(A.A,{title:(0,b.t)("Accounts.MissingTitle"),fallbackMessage:(0,b.t)("Accounts.MissingDescription")}),Bo||(Bo=(0,s.A)(mt,{path:"/"})))}function cs(){const e=(0,v.d4)(p.Wh);(0,x.useEffect)((()=>{e.length>1&&document.querySelector("html").style.setProperty("--num-characters",e.length-1+"")}),[e.length]);const t=(0,v.d4)((0,i.A2)("badgePostmaster"));return(0,x.useEffect)((()=>{if(e.length>0&&t){const t=(0,Zt.ZS)(e);t&&(0,Po.F)((0,ro.PU)(t))}}),[t,e]),null}function ls(){const{pathname:e}=(0,T.zy)();return(0,x.useEffect)((()=>{(0,yt.VP)(e.replace(/\/\d+\//,"/profileMembershipId/"))}),[e]),null}const ds={accountSelect:"MenuAccounts-m_accountSelect-buKKFBJz",logout:"MenuAccounts-m_logout-lUtJfmkx Account-m_account-q6B5PKn0 common-m_resetButton-o3oKAnUN",accountName:"MenuAccounts-m_accountName-uYLcE5sz"};var us;function ms({closeDropdown:e}){const t=(0,it._)(),o=(0,v.d4)(u.sZ),n=(0,v.d4)(u.q6).toSorted((0,ce.o2)((0,ce.fb)((0,ce.VE)((e=>e.destinyVersion))),(0,ce.fb)((0,ce.VE)((e=>e.lastPlayed.getTime()))))),a=n[0]?.displayName;return(0,s.A)("div",{className:ds.accountSelect},void 0,(0,s.A)("h3",{},void 0,(0,b.t)("Accounts.Title")," ",(0,s.A)("span",{className:ds.accountName},void 0,a)),n.map((t=>(0,s.A)(T.N_,{to:(0,rt.f)(t)+"/inventory",onClick:e},`${t.membershipId}-${t.destinyVersion}`,(0,s.A)(ct.A,{account:t,selected:t===o})))),(0,s.A)("button",{type:"button",className:ds.logout,onClick:()=>t((0,ut.je)())},void 0,us||(us=(0,s.A)(Ke.z9,{icon:Ke.rh}))," ",(0,b.t)("Settings.LogOut")))}const hs={banner:"HeaderWarningBanner-m_banner-K3bobeFg common-m_flexRow-ZPndn63a"};function ps({children:e}){return(0,s.A)("div",{className:hs.banner},void 0,e)}function fs(){const e=(0,v.d4)(i.Dt),t=(0,v.d4)(i._t);return e?(0,s.A)(ps,{},void 0,(0,s.A)("span",{},void 0,(0,b.t)("Storage.DimSyncDown")," ",t>0&&(0,b.t)("Storage.UpdateQueueLength",{count:t}))):null}var gs=o(92803),ys=o(28817),vs=o(11519);const bs="MainSearchBarActions-m_count-qUokWbK9";var As=o(28535),ks=o(34554),ws=o(58062);const Is=(0,x.memo)((function({items:e,onClose:t}){const o=(0,v.d4)(ws.s),n=(0,s.A)("div",{},void 0,(0,s.A)("h1",{className:"SearchResults-m_header-cGL9ji43"},void 0,(0,b.t)("Header.FilterMatchCount",{count:e.length})));return(0,s.A)(G.A,{onClose:t,header:n,sheetClassName:(0,M.A)("item-picker","SearchResults-m_searchResults-kqF8Uedn"),allowClickThrough:!0},void 0,(0,s.A)(X.A,{},void 0,(0,s.A)("div",{className:(0,M.A)("sub-bucket","SearchResults-m_contents-myQHb_p7")},void 0,o(e).map((e=>(0,s.A)(As.A,{item:e},e.index,(0,s.A)(ks.A,{item:e},e.index,((t,o)=>(0,s.A)(Mt.A,{item:e,innerRef:t,onClick:o})))))))))}));var Ss;function xs(){const e=(0,v.d4)(c.iT),t=(0,v.d4)(Pt._D),o=(0,v.d4)(Pt.NT),n=(0,v.d4)(c.of),a=(0,v.wA)(),r=(0,c.Jn)(),i=(0,T.zy)(),l=i.pathname.endsWith("inventory"),d=i.pathname.endsWith("progress"),u=i.pathname.endsWith("records"),m=i.pathname.endsWith("vendors"),h=l&&!r,p=!(!t||!e||d||u||m),f=(0,x.useCallback)((()=>a((0,S.Zi)(!1))),[a]);return(0,te.jsxs)(te.Fragment,{children:[p&&(0,s.A)($.P.div,{variants:Ht.a,exit:"hidden",initial:"hidden",animate:"shown"},"count",h?(0,s.A)("button",{type:"button",className:"MainSearchBarActions-m_resultButton-aDZYDlVc SearchBar-m_filterBarButton-Xp8onaNV",title:(0,b.t)("Header.SearchResults"),onClick:()=>a((0,S.Zi)())},void 0,(0,s.A)("span",{className:bs},void 0,(0,b.t)("Header.FilterMatchCount",{count:o.length})),Ss||(Ss=(0,s.A)(Ke.z9,{icon:Ke.IT}))):(0,s.A)("span",{className:bs},void 0,(0,b.t)("Header.FilterMatchCount",{count:o.length}))),n&&(0,s.A)(Is,{items:t?o:(0,vs.tR)(),onClose:f})]})}var Ts,Ns,Cs,Hs,Ps,Ds,Ms=o(36900),Es=o(69260),Rs=o(38042),Ls=o(55915),Vs=o(60088),qs=o(97085);const Os=(0,x.memo)((function({searchActive:e,filteredItems:t,searchQuery:o,fixed:n,bulkNote:a}){const r=(0,it._)(),l=(0,c.Jn)(),d=(0,v.d4)(p.oF),m=(0,v.d4)(u.Ot);let h=!1;if(t.length){const e=t[0].typeName;h=t.every((t=>t.typeName===e))}const f=t.some((e=>e.sockets?.allSockets.some((e=>e.emptyPlugItemHash&&e.plugged?.plugDef.hash!==e.emptyPlugItemHash)))),g=W.f.trackPromise((async e=>{const o=t.filter((e=>e.taggable));r((0,Ls.$)(o,e))})),y=W.f.trackPromise((async e=>{const o="lock"===e,s=t.filter((e=>e.lockable));r((0,Ls.Y)(s,o))})),A=Ro.Tw.filter((e=>e.type)).map((e=>({...e,label:(0,b.t)("Header.TagAs",{tag:(0,b.t)(e.label)})})));A.push({type:"clear",label:(0,b.t)("Tags.ClearTag"),icon:Ke.hj});const k=(0,v.d4)((0,i.b8)(1)),w=(0,v.d4)(Pt.aC),{valid:I,saveable:x}=w(o),N=o?(0,qs.Pu)((0,qs.mA)(o)):"",C=!!N&&k.find((e=>e.query===N))?.saved,H=(0,T.zy)().pathname.endsWith("inventory"),P=(0,bo.oE)([l&&{key:"favoriteSearch",onSelected:()=>{r((0,Es.kd)({query:o,saved:!C,type:1}))},disabled:!o.length||!x,content:(0,te.jsxs)(te.Fragment,{children:[(0,s.A)(Ke.z9,{icon:C?Ke.wv:Ke._G})," ",(0,b.t)("Header.SaveSearch")]})},l&&H&&{key:"showSearchResults",onSelected:()=>r((0,S.Zi)()),disabled:!o.length||!I||0===t.length,content:(0,te.jsxs)(te.Fragment,{children:[Ts||(Ts=(0,s.A)(Ke.z9,{icon:Ke.IT})),(0,b.t)("Header.SearchResults")]})},l&&{key:"mobile"},...d.map((o=>({key:"move-"+o.id,onSelected:()=>(async e=>{const o=(0,Vs.H1)(t,e);r((0,Ct.H)(e,o,{allowUndo:!0}))})(o),disabled:!e,content:(0,te.jsxs)(te.Fragment,{children:[(0,s.A)("img",{src:o.icon,width:"16",height:"16",alt:"",className:"ItemActionsDropdown-m_storeIcon-xSqmQPqY"})," ",o.isVault?(0,b.t)("MovePopup.SendToVault"):(0,b.t)("MovePopup.StoreWithName",{character:o.name})]})}))),{key:"characters"},{key:"compare",onSelected:()=>{r((0,vt.Z0)(o,t,void 0))},disabled:!h||!e,content:(0,te.jsxs)(te.Fragment,{children:[Ns||(Ns=(0,s.A)(Ke.z9,{icon:Ke.b9}))," ",(0,b.t)("Header.CompareMatching")]})},2===m&&{key:"strip-sockets",onSelected:()=>{ko.next(o)},disabled:!f||!e,content:(0,te.jsxs)(te.Fragment,{children:[Cs||(Cs=(0,s.A)(Ke.z9,{icon:Ke.Ij}))," ",(0,b.t)("StripSockets.Action")]})},{key:"note",onSelected:()=>a(t),disabled:!e,content:(0,te.jsxs)(te.Fragment,{children:[Hs||(Hs=(0,s.A)(Ke.z9,{icon:Ke.vw}))," ",(0,b.t)("Organizer.Note")]})},{key:"lock-item",onSelected:()=>y("lock"),disabled:!e,content:(0,te.jsxs)(te.Fragment,{children:[Ps||(Ps=(0,s.A)(Ke.z9,{icon:Ke.hz}))," ",(0,b.t)("Tags.LockAll")]})},{key:"unlock-item",onSelected:()=>y("unlock"),disabled:!e,content:(0,te.jsxs)(te.Fragment,{children:[Ds||(Ds=(0,s.A)(Ke.z9,{icon:Ke.RQ}))," ",(0,b.t)("Tags.UnlockAll")]})},{key:"tags"},...A.map((t=>({key:t.type||"default",onSelected:()=>t.type&&g(t.type),disabled:!e,content:(0,te.jsxs)(te.Fragment,{children:[t.icon&&(0,s.A)(Ke.z9,{icon:t.icon})," ",t.label]})})))]);return(0,s.A)(Rs.A,{options:P,kebab:!0,className:"ItemActionsDropdown-m_dropdownButton-OfCpvGDw SearchBar-m_filterBarButton-Xp8onaNV",offset:l?6:2,fixed:n,label:(0,b.t)("Header.SearchActions")})}));function _s(){const e=(0,T.zy)(),t=(0,v.d4)(c.iT),o=(0,v.d4)(Pt._D),n=!(!t||!o),a=(0,v.d4)(Pt.NT),r=e.pathname.endsWith("inventory"),[i,l]=(0,Ms.A)();return r?(0,s.A)($.P.div,{layout:!0,variants:Ht.a,exit:"hidden",initial:"hidden",animate:"shown"},"action",i,(0,s.A)(Os,{filteredItems:a,searchActive:n,searchQuery:t,fixed:!0,bulkNote:l})):null}var Bs,js;const zs=(0,x.forwardRef)((function({onClear:e},t){const o=(0,v.d4)(c.iT),n=(0,v.d4)(c.s1),a=(0,c.Jn)(),r=(0,x.useCallback)((()=>{e?.()}),[e]),i=(0,T.zy)(),l=(0,it._)(),d=(0,x.useCallback)((e=>l((0,S.Ri)(e,!1))),[l]),u=i.pathname.endsWith("records"),m=i.pathname.endsWith("progress"),h=i.pathname.endsWith("optimizer"),p=i.pathname.endsWith("loadouts"),f=(0,x.useMemo)((()=>u?(0,b.t)("Header.FilterHelpRecords"):m?(0,b.t)("Header.FilterHelpProgress"):h?(0,b.t)("Header.FilterHelpOptimizer",{example:'-is:exotic, perkname:"iron lord\'s pride"'}):p?(0,b.t)("Header.FilterHelpLoadouts"):a?(0,b.t)("Header.FilterHelpBrief"):(0,b.t)("Header.FilterHelp",{example:"is:dupe, is:maxpower, -is:blue"})),[a,u,m,h,p]),g=(0,x.useMemo)((()=>Bs||(Bs=(0,s.A)(xs,{},"actions"))),[]),y=(0,x.useMemo)((()=>js||(js=(0,s.A)(_s,{},"actions-menu"))),[]);return(0,te.jsx)(Ht.A,{ref:t,onQueryChanged:d,placeholder:f,onClear:r,searchQueryVersion:n,searchQuery:o,mainSearchBar:!0,menu:y,searchType:p?2:1,children:!p&&g})}));var Fs=o(23453);const Ws={upgrade:"WhatsNewLink-m_upgrade-OsRTv80k",badgeNew:"WhatsNewLink-m_badgeNew-SeIl6ODU"};var Us=o(85830);function Gs({className:e}){const t=(0,le.useSubscription)(Us.O.showChangelog$),o=(0,v.d4)(c.DY);return(0,le.useSubscription)(_)?(0,s.A)("a",{className:e({isActive:!1}),onClick:j},void 0,(0,s.A)(Ke.z9,{className:Ws.upgrade,icon:Ke.l_,ariaHidden:!0}),(0,b.t)("Header.UpgradeDIM")):o.length?(0,s.A)(T.k2,{to:"/whats-new",className:e},void 0,(0,s.A)("span",{className:(0,M.A)(Ws.badgeNew,"bungie-alert-"+Fs.W[o[0].AlertLevel])})," ",(0,b.t)("Header.BungieNetAlert")):t?(0,s.A)(T.k2,{to:"/whats-new",className:e},void 0,(0,s.A)("span",{className:Ws.badgeNew})," ",(0,b.t)("Header.WhatsNew")):(0,s.A)(T.k2,{to:"/whats-new",className:e},void 0,(0,b.t)("Header.WhatsNew"))}const Qs={banner:"AppInstallBanner-m_banner-wMpWy0K8 common-m_flexRow-ZPndn63a",hideButton:"AppInstallBanner-m_hideButton-A36AZBrK common-m_resetButton-o3oKAnUN"};var Zs;const Ks=864e5;function Js({onClick:e}){const[t,o]=(0,z.Mj)("app-install-last-dismissed",0);return Date.now()-t<14*Ks?null:(0,s.A)("a",{className:Qs.banner,onClick:e},void 0,(0,s.A)("span",{},void 0,(0,b.t)("Header.InstallDIMBanner")),(0,s.A)("button",{type:"button",className:Qs.hideButton,onClick:e=>{e.stopPropagation(),o(Date.now())}},void 0,Zs||(Zs=(0,s.A)(Ke.z9,{icon:Ke.ut}))))}const Xs="Header-m_menuItem-_1edz_9G",Ys={dot:"MenuBadge-m_dot-Qqfg8YtE",badgeNew:"MenuBadge-m_badgeNew-LyZ_Wx5a MenuBadge-m_dot-Qqfg8YtE",upgrade:"MenuBadge-m_upgrade-DbRGRS1h MenuBadge-m_dot-Qqfg8YtE"};var $s=o(99445);let en=0;function tn(){const e=(0,le.useSubscription)(Us.O.showChangelog$),t=(0,v.d4)(c.DY),o=(0,le.useSubscription)(_),n=(0,it._)(),a=(0,x.useCallback)((()=>n((async e=>{if(Date.now()-en>6e5)try{e((0,S.lP)(await(0,$s.z)())),en=Date.now()}catch(e){(0,m.PT)("BungieAlerts","Unable to get Bungie.net alerts: ",e)}}))),[n]);return(0,z.ef)(U.k,a),(0,x.useEffect)((()=>{a()}),[a]),o?(0,s.A)(Ke.z9,{className:Ys.upgrade,icon:Ke.l_}):t.length?(0,s.A)("span",{className:(0,M.A)(Ys.badgeNew,"bungie-alert-"+Fs.W[t[0].AlertLevel])}):e?(0,s.A)("span",{className:Ys.badgeNew}):null}var on=o(28098);const sn=(0,x.memo)((function(){const e=(0,v.d4)(p.ux),t=(0,c.Jn)(),{pathname:o}=(0,T.zy)(),n=o.endsWith("inventory");if(!e||!t&&n)return null;const a=2===e?.destinyVersion,r=e&&(0,ro.eJ)(e),i=e?(0,ro.aK)(e):0;if(!a||!r)return null;const l=(0,b.t)(i<ro.L4?"PostmasterWarningBanner.PostmasterAlmostFull":"PostmasterWarningBanner.PostmasterFull",{number:i,postmasterSize:ro.L4});return(0,s.A)(ps,{},void 0,(0,s.A)(on.E,{store:e}),(0,s.A)("span",{},void 0,l))}));var nn=o(76381);const an={refreshButton:"RefreshButton-m_refreshButton-HSBDNZtb common-m_resetButton-o3oKAnUN",userIsPlaying:"RefreshButton-m_userIsPlaying-d6WJkts0",outOfDate:"RefreshButton-m_outOfDate-Ev58bOdz",errorTooltip:"RefreshButton-m_errorTooltip-KjcRomMf",errorDetails:"RefreshButton-m_errorDetails-M7pTmsbZ"},rn=9e4;function cn({className:e}){const[t,o]=(0,x.useState)(!1),n=(0,v.d4)(p.$_),a=(0,x.useCallback)((()=>o(!navigator.onLine||document.hidden||F.g.getCurrentValue())),[]),r=(0,le.useSubscription)(W.f.active$);(0,z.ef)(F.g,a),(0,x.useEffect)((()=>(document.addEventListener("visibilitychange",a),document.addEventListener("online",a),()=>{document.removeEventListener("visibilitychange",a),document.removeEventListener("online",a)})),[a]),(0,de.E)("r",(0,b.t)("Hotkey.RefreshInventory"),U.O);const i=function(){const e=(0,v.d4)(p.SZ),[t,o]=(0,x.useState)((()=>un(e)));return(0,x.useEffect)((()=>{o(un(e));const t=setInterval((()=>{o(un(e))}),1e3);return()=>clearInterval(t)}),[e]),t}(),c=(0,v.d4)(p.VK),l=i&&!r&&!n;return(0,s.A)(io.Re,{tooltip:(0,s.A)(mn,{autoRefresh:n})},void 0,(0,s.A)("button",{type:"button",className:(0,M.A)(an.refreshButton,e,t&&"disabled"),onClick:U.O,title:(0,b.t)("Header.Refresh")+(n?"\n"+(0,b.t)("Header.AutoRefresh"):""),"aria-keyshortcuts":"R"},void 0,(0,s.A)(Ke.z9,{icon:Ke.he,spinning:r}),n&&(0,s.A)("div",{className:an.userIsPlaying}),(c||l)&&(0,s.A)("div",{className:an.outOfDate},void 0,(0,s.A)(Ke.z9,{icon:c?Ke.zp:Ke.a$}))))}function ln(){const e=(0,v.d4)(p.SZ),[t,o]=(0,x.useState)(0);return(0,x.useEffect)((()=>{const e=setInterval((()=>o((e=>e+1))),1e3);return()=>clearInterval(e)}),[]),dn(e)}function dn(e){return 0===e.getTime()?void 0:Date.now()-e.getTime()}function un(e){const t=dn(e);return void 0!==t&&t>rn}function mn({autoRefresh:e}){const t=ln(),o=(0,v.d4)(p.VK),n="ManifestError"===o?.name,a=(0,v.d4)(u.Ot);return(0,io.Cy)({className:o?an.errorTooltip:null}),(0,te.jsx)(te.Fragment,{children:o?(0,s.A)("div",{className:an.errorDetails},void 0,(0,s.A)(A.A,{title:n?(0,b.t)("Accounts.ErrorLoadManifest"):(0,b.t)("Accounts.ErrorLoadInventory",{version:a}),error:o,frameless:!0})):(0,te.jsxs)(te.Fragment,{children:[(0,s.A)("b",{},void 0,(0,b.t)("Header.Refresh")+(e?"\n"+(0,b.t)("Header.AutoRefresh"):"")),void 0!==t&&(0,s.A)("div",{},void 0,(0,b.t)("Header.ProfileAge",{age:(0,nn.Vb)(t)}))]})})}const hn=new L.c(void 0);var pn,fn,gn,yn,vn,bn,An,kn,wn;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),hn.next(e)}));const In="Header-m_beta-Br8JUdXW",Sn={open:{x:0},collapsed:{x:-250}},xn={type:"spring",duration:.3,bounce:0},Tn=(0,x.lazy)((()=>o.e(320).then(o.bind(o,28453))));function Nn(){const e=(0,it._)(),t=(0,c.Jn)(),o=(0,v.d4)(u.sZ),[n,a]=(0,x.useState)(!1),r=(0,x.useRef)(null),i=(0,x.useCallback)((e=>{e.preventDefault(),a((e=>!e))}),[]),l=(0,x.useCallback)((()=>{a(!1)}),[]),[d,h]=(0,x.useState)(!1),p=(0,x.useCallback)((()=>{d&&h(!1)}),[d]),[f,g]=(0,x.useState)(!1),y=(0,le.useSubscription)(hn),A=()=>{y?(y.prompt(),y.userChoice.then((e=>{(0,m.zh)("install","accepted"===e.outcome?"User installed DIM to desktop/home screen":"User dismissed the install prompt"),hn.next(void 0)}))):(g(!0),a(!1))},k=!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,w=(0,De.QM)()&&!k,I=y||w,N=!k&&!I&&!t,C=(0,x.useRef)(null),{pathname:H}=(0,T.zy)();(0,x.useEffect)((()=>{a(!1),e((0,S.Ri)(""))}),[e,H]),(0,x.useEffect)((()=>{C.current&&d&&C.current.focusFilterInput()}),[d]);const P=(0,x.useRef)(null),D=({isActive:e})=>(0,M.A)(Xs,e&&"Header-m_active-mCYQtwJe"),E=(0,te.jsxs)(te.Fragment,{children:[(0,s.A)(T.k2,{to:"/about",className:D},void 0,(0,b.t)("Header.About")),(0,s.A)(Gs,{className:D}),(0,s.A)(Re.A,{className:Xs,href:"https://github.com/DestinyItemManager/DIM/issues"},void 0,(0,b.t)("Header.ReportBug")),k&&(0,s.A)("a",{className:Xs,onClick:()=>window.location.reload()},void 0,(0,b.t)("Header.ReloadApp"))]});let R=[];if(o){const e=(0,rt.f)(o);R=(0,bo.oE)([{to:e+"/inventory",text:(0,b.t)("Header.Inventory")},2===o.destinyVersion&&{to:e+"/progress",text:(0,b.t)("Progress.Progress")},{to:e+"/vendors",text:(0,b.t)("Vendors.Vendors")},2===o.destinyVersion&&{to:e+"/records",text:(0,b.t)("Records.Title")},2===o.destinyVersion?{to:e+"/loadouts",text:(0,b.t)("Loadouts.Loadouts")}:{to:e+"/optimizer",text:(0,b.t)("LB.LB")},{to:e+"/organizer",text:(0,b.t)("Organizer.Organizer")},2===o.destinyVersion&&t&&{to:e+"/item-feed",text:(0,b.t)("ItemFeed.Description")},1===o.destinyVersion&&{to:e+"/record-books",text:(0,b.t)("RecordBooks.RecordBooks")},1===o.destinyVersion&&{to:e+"/activities",text:(0,b.t)("Activities.Activities")}])}const L=R.map((e=>(0,s.A)(T.k2,{className:D,to:e.to},e.to,e.badge,e.text))),V=(0,x.useMemo)((()=>[{combo:"m",description:(0,b.t)("Hotkey.Menu"),callback:i},{combo:"f",description:(0,b.t)("Hotkey.StartSearch"),callback:e=>{C.current&&(C.current.focusFilterInput(),t&&h(!0)),e.preventDefault(),e.stopPropagation()}},{combo:"shift+f",description:(0,b.t)("Hotkey.StartSearchClear"),callback:e=>{C.current&&(C.current.clearFilter(),C.current.focusFilterInput(),t&&h(!0)),e.preventDefault(),e.stopPropagation()}}]),[t,i]);(0,de.v)(V);const q=(0,x.useRef)(null);(0,z.OZ)(q,"--header-height");const O=(0,x.useRef)(null),_=function(e){const[t,o]=(0,x.useState)(!1);return(0,x.useEffect)((()=>{const t=new MutationObserver((e=>{for(const t of e)"childList"===t.type&&Array.from(t.addedNodes??[]).some((e=>e instanceof HTMLElement&&e.classList.contains("Clarity_menu_button")))&&o(!0)}));return t.observe(e.current,{subtree:!0,childList:!0}),()=>t.disconnect()}),[e]),t}(O),B=(0,v.d4)(gs.A1);return(0,s.A)(io.xw.Provider,{value:q},void 0,(0,te.jsxs)("header",{className:"Header-m_container-NwWdFamf",ref:q,children:[(0,s.A)("div",{className:"Header-m_header-BcBfoaH1"},void 0,(0,te.jsxs)("button",{type:"button",className:(0,M.A)(Xs,"Header-m_menu-jUU7ePrL common-m_resetButton-o3oKAnUN"),ref:r,onClick:i,"aria-haspopup":"menu","aria-label":(0,b.t)("Header.Menu"),"aria-expanded":n,children:[pn||(pn=(0,s.A)(Ke.z9,{icon:Ke.ro})),fn||(fn=(0,s.A)(tn,{}))]}),(0,s.A)(ge.N,{},void 0,n&&(0,s.A)($.P.div,{className:"Header-m_dropdown-b93uQxn8",role:"menu",initial:"collapsed",animate:"open",exit:"collapsed",variants:Sn,transition:xn},"dropdown",(0,te.jsxs)(ys.A,{ref:P,extraRef:r,onClickOutside:l,children:[L,gn||(gn=(0,s.A)("hr",{})),(0,s.A)(T.k2,{className:D,to:"/settings"},void 0,(0,b.t)("Settings.Settings")),!t&&(0,s.A)("a",{className:Xs,onClick:e=>{e.preventDefault(),e.stopPropagation(),he.next(!0),a(!1)}},void 0,(0,b.t)("Header.KeyboardShortcuts")),(0,s.A)(Re.A,{className:Xs,href:Je.GD},void 0,(0,b.t)("General.UserGuideLink")),I?(0,s.A)("a",{className:Xs,onClick:A},void 0,(0,b.t)("Header.InstallDIM")):N?(0,s.A)("a",{className:Xs,onClick:()=>{window.open(window.location.href,"_blank","resizable,scrollbars,status")}},void 0,(0,b.t)("Header.LaunchDIMAlone")," ",(0,s.A)(Ke.z9,{icon:Ke.A,className:"Header-m_launchSeparateIcon-NGBthEVh"})):null,E,yn||(yn=(0,s.A)("hr",{})),(0,s.A)(ms,{closeDropdown:l})]}))),(0,s.A)(T.N_,{to:"/",className:(0,M.A)(Xs,"Header-m_logoLink-McHgjUEh")},void 0,(0,s.A)("img",{className:(0,M.A)("Header-m_logo-tBFHZ707",In),title:"v8.50.0.3686 (beta)",src:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 932.2 332'%3e%3cg fill='white'%3e%3cpath d='M379.5 62.2v42.7h170.7V233h-128v-85.4h-42.7v128.1h213.4V62.2zM899.3 62.3 827 129l-72.9-66.7H721v213.3h42.4V124.5l63.6 58.4 62.8-58.2v150.9h42.4V62.3zM635.5 62.4h42.8v213.3h-42.8z'/%3e%3c/g%3e%3cg fill='%23f37423'%3e%3cpath d='m128.843 165.938 32.173-32.173 32.173 32.173-32.173 32.174z'/%3e%3cpath d='m161 5-32.2 32.2L257.7 166 161 262.6 64.4 166l64.4-64.4-32.2-32.2L0 166l161 161 161.1-161z'/%3e%3c/g%3e%3c/svg%3e",alt:"DIM","aria-label":"dim"})),(0,te.jsx)("div",{className:"Header-m_headerLinks-FsyTxrXM",ref:O,children:L}),(0,s.A)("div",{className:"Header-m_headerRight-T_eLcE3S"},void 0,o&&!t&&(0,s.A)("span",{className:"Header-m_searchLink-mr4nkVjl"},void 0,(0,te.jsx)(zs,{onClear:p,ref:C})),B&&(vn||(vn=(0,s.A)(x.Suspense,{},void 0,(0,s.A)(Tn,{})))),(0,s.A)(cn,{className:Xs}),!t&&(0,s.A)(T.N_,{className:Xs,to:"/settings",title:(0,b.t)("Settings.Settings")},void 0,bn||(bn=(0,s.A)(Ke.z9,{icon:Ke.By}))),(0,s.A)("button",{type:"button",className:(0,M.A)(Xs,"Header-m_searchButton-XvXaVvKE common-m_resetButton-o3oKAnUN"),onClick:()=>h((e=>!e))},void 0,An||(An=(0,s.A)(Ke.z9,{icon:Ke.qc}))))),o&&t&&d&&(0,s.A)("span",{className:"mobile-search-link"},void 0,(0,te.jsx)(zs,{onClear:p,ref:C})),t&&I&&(0,s.A)(Js,{onClick:A}),kn||(kn=(0,s.A)(sn,{})),wn||(wn=(0,s.A)(fs,{})),_&&(0,s.A)(ps,{},void 0,(0,s.A)("span",{},void 0,(0,b.t)("Header.Clarity"))),f&&(0,s.A)(G.A,{header:(0,s.A)("h1",{},void 0,(0,b.t)("Header.InstallDIM")),onClose:()=>g(!1)},void 0,(0,s.A)("p",{className:"Header-m_pwaPrompt-LSHOjZJd"},void 0,(0,b.t)("Header.IosPwaPrompt")))]}))}var Cn,Hn,Pn,Dn,Mn,En,Rn,Ln,Vn,qn,On,_n,Bn,jn,zn,Fn,Wn,Un,Gn,Qn,Zn,Kn,Jn,Xn;function Yn(){return(0,s.A)(Pe.A,{className:"Privacy-m_privacy-jqOnvr4f"},void 0,Cn||(Cn=(0,s.A)("h1",{},void 0,"Privacy Policy")),Hn||(Hn=(0,s.A)("p",{},void 0,"Last updated August 23, 2020")),(0,s.A)("ol",{style:{padding:0,listStylePosition:"inside"}},void 0,Pn||(Pn=(0,s.A)("li",{},void 0,(0,s.A)("strong",{},void 0,"Introduction."),(0,s.A)("ol",{},void 0,(0,s.A)("li",{},void 0,'Destiny Item Manager ("DIM") is a free, open source, fan made service for the Destiny and Destiny 2 video games. This privacy policy explains how your data is used by this application.'),(0,s.A)("li",{},void 0,'DIM is constantly improving, and we may modify this Privacy Policy from time to time to reflect changes in our privacy practices. You are encouraged to review this Privacy Policy periodically and to check the "Last Updated" date at the top of the Privacy Policy for the most recent version.')))),(0,s.A)("li",{},void 0,Dn||(Dn=(0,s.A)("strong",{},void 0,"How we use your personal data.")),(0,s.A)("ol",{},void 0,Mn||(Mn=(0,s.A)("li",{},void 0,(0,s.A)("strong",{},void 0,"Usage data."),(0,s.A)("ol",{},void 0,(0,s.A)("li",{},void 0,'We may process data about your use of our website and services ("usage data"). The usage data may include your IP address, geographical location, browser type and version, operating system, referral source, length of visit, page views and website navigation paths, as well as information about the timing, frequency and pattern of your service use. The source of the usage data is our analytics tracking system. This usage data may be processed for the purposes of analyzing the use of the website and services. The legal basis for this processing is your consent or our legitimate interests, namely monitoring and improving our website and services.'),(0,s.A)("li",{},void 0,"We may use Google Analytics to analyze the use of our website. Google Analytics gathers information about website use by means of cookies. The information gathered relating to our website is used to create reports about the use of our website. Besides generic usage data, we also share your Bungie.net membership ID with Google Analytics to help provide a more accurate measure of how users use DIM. Google's privacy policy is available at:"," ",(0,s.A)(Re.A,{href:"https://www.google.com/policies/privacy/"},void 0,"https://www.google.com/policies/privacy/"),". We respect the Do Not Track setting. If you want to opt out of Google Analytics, you may use the"," ",(0,s.A)(Re.A,{href:"https://chrome.google.com/webstore/detail/google-analytics-opt-out/fllaojicojecljbmefodhfapmkghcbnh?hl=en"},void 0,"Google Analytics Opt Out Extension for Chrome")," ","or similar tools for other browsers.")))),En||(En=(0,s.A)("li",{},void 0,(0,s.A)("strong",{},void 0,"Destiny and Bungie account info."),(0,s.A)("ol",{},void 0,(0,s.A)("li",{},void 0,"In order to display and manipulate Destiny game information, DIM uses the Bungie.net API. You must grant permission for DIM to use this API through Bungie.net. The only information DIM receives, or has access to, is your game information (items, characters, etc.) and basic account information including your Bungie.net membership ID, and the identifiers of any linked services such as your public PSN, Xbox Live, Steam, Stadia, Blizzard or Bungie.net usernames. We do not have access to your email, name, address, payment information, or any other personal information held by Bungie or the game platforms."),(0,s.A)("li",{},void 0,"DIM only stores your Destiny and Bungie information locally on your own device and in memory, in order to provide DIM's functionality. We do not store any of this information anywhere that the DIM maintainers and contributors can access it."),(0,s.A)("li",{},void 0,"Use of the Bungie.net API is governed by the"," ",(0,s.A)(Re.A,{href:"https://www.bungie.net/7/en/Legal/Terms"},void 0,"Terms of Use")," ","and"," ",(0,s.A)(Re.A,{href:"https://www.bungie.net/7/en/Legal/PrivacyPolicy"},void 0,"Privacy Policy")," ","for Bungie.net.")))),Rn||(Rn=(0,s.A)("li",{},void 0,(0,s.A)("strong",{},void 0,"DIM Sync: Settings (preferences), loadouts, tags and notes."),(0,s.A)("ol",{},void 0,(0,s.A)("li",{},void 0,"DIM allows you to connect to DIM Sync, a cloud service operated by the DIM team, in order to store your data and sync it between instances of DIM or other Destiny apps. This information is only accessible to you and the DIM team. Information stored in DIM Sync includes your DIM preferences and settings, loadouts, any per-item item tags and notes, saved and recently used search filters, and tracked triumphs. Your Bungie.net authentication information is sent to DIM Sync only in order to verify your account - it is not saved.")))),Ln||(Ln=(0,s.A)("li",{},void 0,(0,s.A)("strong",{},void 0,"Sentry: Error reporting"),(0,s.A)("ol",{},void 0,(0,s.A)("li",{},void 0,"Errors encountered while using DIM may be sent to Sentry, a service provided by Functional Software, Inc. These error reports contain information about your browser, recent actions in DIM as well as the details of any errors. No personal information is shared with Sentry."),(0,s.A)("li",{},void 0,"Use of Sentry for error reporting is governed by the Sentry"," ",(0,s.A)(Re.A,{href:"https://sentry.io/terms/"},void 0,"Terms of Service")," ","and"," ",(0,s.A)(Re.A,{href:"https://sentry.io/privacy/"},void 0,"Privacy Policy"),".")))))),Vn||(Vn=(0,s.A)("li",{},void 0,(0,s.A)("strong",{},void 0,"Who can I ask if I have additional questions?"),(0,s.A)("ol",{},void 0,(0,s.A)("li",{},void 0,"For additional inquiries about the privacy of your information, you can contact us via any of the means listed on our ",(0,s.A)(T.N_,{to:"/about"},void 0,"About page")))))))}function $n(){const{pathname:e}=(0,T.zy)();return(0,x.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}function ea(){const{pathname:e}=(0,T.zy)(),t=(0,x.useRef)(!0);return(0,x.useEffect)((()=>{!t.current&&_.getCurrentValue()&&j(),t.current=!1}),[e]),null}const ta=(0,x.lazy)((()=>o.e(142).then(o.bind(o,84252)))),oa=(0,x.lazy)((()=>Promise.all([o.e(41),o.e(468),o.e(948),o.e(118),o.e(472)]).then(o.bind(o,50634)))),sa=(0,x.lazy)((()=>o.e(601).then(o.bind(o,87394)))),na=(0,x.lazy)((()=>Promise.all([o.e(41),o.e(40)]).then(o.bind(o,49868))));var aa,ra;const ia=(0,I.mc)((function(){const e=(0,v.d4)((0,i.A2)("language")),t=(0,v.d4)((0,i.A2)("itemQuality")),o=(0,v.d4)((0,i.A2)("charColMobile")),n=(0,v.d4)((e=>e.accounts.needsLogin)),{pathname:a,search:r}=((0,v.d4)((e=>e.accounts.needsDeveloper)),(0,T.zy)());return(0,s.A)("div",{className:(0,M.A)(`lang-${e} char-cols-${o}`,"App-m_app-bqhlsq0i",t&&"itemQuality")},"lang-"+e,qn||(qn=(0,s.A)($n,{})),On||(On=(0,s.A)(ls,{})),_n||(_n=(0,s.A)(ea,{})),(0,s.A)(X.A,{},void 0,Bn||(Bn=(0,s.A)(Nn,{})),jn||(jn=(0,s.A)(ae,{})),(0,s.A)(Y.A,{name:"DIM Code"},void 0,(0,s.A)(x.Suspense,{fallback:(0,s.A)(re.A,{message:(0,b.t)("Loading.Code")})},void 0,(0,s.A)(T.BV,{},void 0,zn||(zn=(0,s.A)(T.qh,{path:"about",element:(0,s.A)(Y.A,{name:"about"},"about",(0,s.A)(at,{}))})),Fn||(Fn=(0,s.A)(T.qh,{path:"privacy",element:(0,s.A)(Y.A,{name:"privacy"},"privacy",(0,s.A)(Yn,{}))})),Wn||(Wn=(0,s.A)(T.qh,{path:"whats-new",element:(0,s.A)(Y.A,{name:"whatsNew"},"whatsNew",(0,s.A)(ta,{}))})),Un||(Un=(0,s.A)(T.qh,{path:"login",element:(0,s.A)(Y.A,{name:"login"},"login",(0,s.A)(fe.A,{}))})),Gn||(Gn=(0,s.A)(T.qh,{path:"settings",element:(0,s.A)(Y.A,{name:"settings"},"settings",(0,s.A)(oa,{}))})),Qn||(Qn=(0,s.A)(T.qh,{path:"debug",element:(0,s.A)(Y.A,{name:"debug"},"debug",(0,s.A)(na,{}))})),!1,n?(0,s.A)(T.qh,{path:"*",element:(0,s.A)(T.C5,{to:"/login",state:{path:`${a}${r}`}})}):Zn||(Zn=(0,te.jsxs)(te.Fragment,{children:[(0,s.A)(T.qh,{path:"search-history",element:(0,s.A)(Y.A,{name:"searchHistory"},"searchHistory",(0,s.A)(sa,{}))}),(0,s.A)(T.qh,{path:"armory"},void 0,(0,s.A)(T.qh,{path:"*",element:(0,s.A)(ht,{})})),(0,s.A)(T.qh,{path:":membershipId/:destinyVersion/*",element:(0,s.A)(is,{})}),(0,s.A)(T.qh,{path:"*",element:(0,s.A)(ht,{})})]}))))),Kn||(Kn=(0,s.A)(Ne,{})),Jn||(Jn=(0,s.A)(J,{})),Xn||(Xn=(0,s.A)(pe,{}))))})),ca=function(){const e={backends:(0,De.ab)()?[{id:"html5",backend:C.t2}]:[{id:"html5",backend:C.t2,transition:H.nf},{id:"touch",backend:D.qi,options:{enableMouseEvents:!0,delayTouchStart:150},preview:!0,transition:H.lr}]};return(0,s.A)(T.Kd,{basename:"/"},void 0,(0,s.A)(v.Kq,{store:f.A},void 0,aa||(aa=(0,s.A)(N,{})),(0,s.A)(P.QP,{options:e},void 0,ra||(ra=(0,s.A)(ia,{})))))};var la,da,ua=o(29461),ma=o(43788),ha=o(2430);(0,m.zh)("app","DIM v8.50.0.3686 (beta) - Please report any errors to https://www.github.com/DestinyItemManager/DIM/issues"),(0,yt.OY)(),function(){if(!(0,De.QM)()||(0,De.ab)())return;let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,e)});window.addEventListener("testPassive",Do.lQ,t),window.removeEventListener("testPassive",Do.lQ,t)}catch{}e?window.addEventListener("touchmove",Do.lQ,{passive:!1}):window.addEventListener("touchmove",Do.lQ)}(),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).then((e=>{e.onupdatefound=()=>{(0,m.zh)(q,"A new Service Worker version has been found...");const t=e.installing;t.onstatechange=()=>{if("installed"===t.state)if(navigator.serviceWorker.controller){(0,m.zh)(q,"New content is available; please refresh. (from onupdatefound)"),_.next(!0);let e=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{e||(e=!0,window.location.reload())}))}else(0,m.zh)(q,"Content is cached for offline use.");else(0,m.zh)(q,"New Service Worker state: ",t.state)}},O=async()=>{(0,m.zh)(q,"Checking for service worker update.");try{await e.update()}catch(e){return(0,m.PT)(q,"Unable to update service worker.",e),(0,n.U)("service-worker",e),!1}if(e.waiting){(0,m.zh)(q,"New content is available; please refresh. (from update)");const e=(0,E.KU)()?.getOptions();return e&&(e.enabled=!1),!0}return(0,m.zh)(q,"Updated, but theres not a new worker waiting"),!1}})).catch((e=>{(0,m.PT)(q,"Unable to register service worker.",e),(0,n.U)("service-worker",e)}))})),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/D1\/Platform\/Destiny\/TransferItem/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/D1\/Platform\/Destiny\/EquipItem/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/TransferItem/,100)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/PullFromPostmaster/,100)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/EquipItem/,100)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/EquipItems/,100)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/InsertSocketPlugFree/,500)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/InsertSocketPlug/,500)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/SetLockState/,100)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/SetTrackedState/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/EquipLoadout/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/SnapshotLoadout/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/UpdateLoadoutIdentifiers/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/Actions\/Items\/ClearLoadout/,1e3)),(0,ua.C8)(new ua.wR(/www\.bungie\.net\/Platform\/Destiny2\/\d+\/Profile\/\d+\/Character\/\d+\/Vendors\/\d+\//,100));const pa=(0,ma.xt)();(async()=>{const e=(0,y.H)(document.getElementById("app"));if(!await async function(){try{localStorage.setItem("test","true")}catch(e){return(0,m.PT)(k,"Failed localStorage Test",e),!1}if(!window.indexedDB)return(0,m.PT)(k,"IndexedDB not available"),!1;try{await(0,a.hZ)("idb-test",!0)}catch(e){(0,m.PT)(k,"Failed IndexedDB Set Test - trying to delete database",e);try{await(0,a.Hg)(),await(0,a.hZ)("idb-test",!0),(0,n.U)("deleting database fixed IDB set",e)}catch(e){(0,m.PT)(k,"Failed IndexedDB Set Test - deleting database did not help",e)}return(0,n.U)("Failed IndexedDB Set Test",e),!1}try{return await(0,a.Jt)("idb-test")}catch(e){(0,m.PT)(k,"Failed IndexedDB Get Test - trying to delete database",e);try{await(0,a.Hg)();const t=await(0,a.Jt)("idb-test");return t&&(0,n.U)("deleting database fixed IDB get",e),t}catch(e){(0,m.PT)(k,"Failed IndexedDB Get Test - deleting database did not help",e)}return(0,n.U)("Failed IndexedDB Get Test",e),!1}}())return await pa,void e.render(la||(la=(0,s.A)(v.Kq,{store:f.A},void 0,(0,s.A)(w,{}))));f.A.dispatch((0,ha.lB)({id:"wish-list-observer",getObserved:e=>e.wishLists,sideEffect:({current:e})=>{e.loaded&&(0,a.hZ)("wishlist",{wishListAndInfo:e.wishListAndInfo,lastFetched:e.lastFetched})}})),f.A.dispatch((0,ha.lB)({id:"save-accounts-observer",equals:r.bN,getObserved:e=>({loaded:e.accounts.loaded,accounts:e.accounts.accounts}),sideEffect:({current:e})=>{e.loaded&&(0,a.hZ)("accounts",e.accounts)}})),f.A.dispatch((0,ha.lB)({id:"item-size-observer",getObserved:e=>(0,i.t2)(e).itemSize,sideEffect:({current:e})=>{l("--item-size",Math.max(48,e)+"px")}})),f.A.dispatch((0,ha.lB)({id:"theme-observer",equals:r.bD,getObserved:e=>({theme:(0,i.t2)(e).theme,isPhonePortrait:(0,c.xO)(e)}),sideEffect:({current:e})=>{document.body.className="theme-"+e.theme,function(e){let t=getComputedStyle(document.body).getPropertyValue("--theme-pwa-background");if(e&&(t=getComputedStyle(document.body).getPropertyValue("--theme-mobile-background")),t){const e=document.querySelector("meta[name='theme-color']");e&&e.setAttribute("content",t)}}(e.isPhonePortrait)}})),f.A.dispatch((0,ha.lB)({id:"tiles-per-char-column-observer",runInitially:!0,getObserved:e=>(0,c.xO)(e)?(0,i.t2)(e).charColMobile:(0,i.t2)(e).charCol,sideEffect:({current:e})=>{l("--tiles-per-char-column",e)}})),function(){if(window.visualViewport){const e=()=>{const e=window.visualViewport,t=Math.round(e.height);l("--viewport-height",t+"px");const o=window.innerHeight-(t+Math.round(e.offsetTop));(0===o||o>=50)&&l("--viewport-bottom-offset",o+"px")};e(),window.visualViewport.addEventListener("resize",(()=>e())),window.visualViewport.addEventListener("scroll",(()=>e()))}else{const e=()=>{l("--viewport-height",window.innerHeight+"px")};e(),window.addEventListener("resize",e)}}(),f.A.dispatch((0,ha.lB)({id:"save-item-infos-observer",equals:r.bN,getObserved:e=>{const t=(0,u.sZ)(e);return{key:t&&`newItems-m${t.membershipId}-d${t.destinyVersion}`,newItems:(0,p.i5)(e)}},sideEffect:(0,h.s)((async({current:e})=>{if(e.key)try{return await(0,a.hZ)(e.key,e.newItems)}catch(e){(0,m.PT)("new-items","Couldn't save new items",e)}}),1e3)})),f.A.dispatch((0,d.j)()),f.A.getState().streamDeck.enabled&&(await(0,g.s6)(),f.A.dispatch((0,g.y$)())),await pa,f.A.dispatch((0,ha.lB)((0,ma.N0)())),e.render(da||(da=(0,s.A)(ca,{})))})()},74008:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(10544),n=o(57551),a=o(13526),r=o(60440);const i={account:"Account-m_account-q6B5PKn0",first:"Account-m_first-thyQsD2N",selectedAccount:"Account-m_selectedAccount-ZkXWWQPt"};var c=o(6309);function l({account:e,selected:t,className:o}){return(0,s.A)("div",{className:(0,a.A)(i.account,o,t&&i.selectedAccount),role:"menuitem"},void 0,"Destiny ",e.destinyVersion,e.platforms.filter((t=>1===e.platforms.length||5!==t)).sort((0,n.VE)((t=>e.originalPlatformType!==t))).map(((e,t)=>e in c.ni?(0,s.A)(r.z9,{className:(0,a.A)(0===t&&i.first),icon:c.ni[e]},e):c.YN[e])))}},27350:(e,t,o)=>{o.d(t,{BL:()=>i,Qc:()=>c,V:()=>d,qm:()=>r,st:()=>u,wE:()=>m,z3:()=>l});var s=o(29986),n=o(50507),a=o(61898);const r=(0,a.createAction)("accounts/ACCOUNTS_LOADED")(),i=(0,a.createAction)("accounts/SET_CURRENT_ACCOUNT")(),c=(0,a.createAction)("accounts/LOAD_FROM_IDB")(),l=(0,a.createAction)("accounts/ERROR")(),d=(0,a.createAction)("accounts/LOG_OUT")(),u=(0,a.createAction)("accounts/DEV_INFO_NEEDED")();function m(e){return async t=>{e instanceof Error&&(e instanceof s.UV||e instanceof n.X&&("BungieService.NotLoggedIn"===e.code||e.cause instanceof s.UV))&&t(d())}}},6309:(e,t,o)=>{o.d(t,{YN:()=>p,ff:()=>g,gB:()=>k,ni:()=>f});var s=o(2290),n=o(60440),a=o(36871),r=o(50507),i=o(95840),c=o(3710),l=o(99475),d=o(87362),u=o(14231),m=o(44155),h=o(27350);const p={0:"None",[-1]:"All",1:"Xbox",2:"PlayStation",4:"Blizzard",10:"Demon",3:"Steam",5:"Stadia",6:"Epic",254:"Bungie.net"},f={1:n.PJ,2:n.Gt,3:n.Gi,6:n.FI};function g(e){return async t=>{try{const o=await(0,l.AA)(e),n=await async function(e){const t=e.profiles.flatMap((e=>{const t={displayName:v(e),originalPlatformType:e.membershipType,membershipId:e.membershipId,platformLabel:p[e.membershipType],destinyVersion:2,platforms:e.applicableMembershipTypes,lastPlayed:new Date(e.dateLastPlayed)};return e.isOverridden?y(e)?[b(t)]:[]:y(e)?[t,b(t)]:[t]})).concat(e.profilesWithErrors.flatMap((e=>{const t=e.infoCard,o={displayName:v(t),originalPlatformType:t.membershipType,membershipId:t.membershipId,platformLabel:p[t.membershipType],destinyVersion:2,platforms:t.applicableMembershipTypes,lastPlayed:new Date(0)};return 1601===e.errorCode||1670===e.errorCode?y(t)?[b(o)]:[]:y(t)?[o,b(o)]:[o]})));return(0,a.oE)(await Promise.all(t))}(o);return 0===n.length&&((0,u.Ds)({type:"warning",title:(0,s.t)("Accounts.NoCharacters")}),(0,d.eF)(),t((0,h.V)())),n}catch(e){throw(0,m.U)("getDestinyAccountsForBungieAccount",e),e}}}function y(e){return 1===e.membershipType||2===e.membershipType}function v(e){return e.bungieGlobalDisplayName+(e.bungieGlobalDisplayNameCode?"#"+(""+e.bungieGlobalDisplayNameCode).padStart(4,"0"):"")}async function b(e){try{const{characters:t}=await(0,c.bg)(e);return t?.length?{...e,destinyVersion:1,platforms:[e.originalPlatformType],lastPlayed:A(t)}:null}catch(t){const o=t instanceof r.X?t.bungieErrorCode():void 0;return 1601===o||1670===o?null:((0,i.PT)("accounts","Error getting D1 characters for",e,t),(0,m.U)("findD1Characters",t),{...e,destinyVersion:1,platforms:[e.originalPlatformType],lastPlayed:new Date(0)})}}function A(e){return e.reduce(((e,t)=>{const o=new Date(t.characterBase.dateLastPlayed??0);return e?o>=e?o:e:o}),new Date(0))}function k(e,t){return e===t||e&&t&&e.membershipId===t.membershipId&&e.destinyVersion===t.destinyVersion}},70262:(e,t,o)=>{o.d(t,{rR:()=>f,je:()=>v,oW:()=>y});var s=o(16287),n=o(32140),a=o(97098),r=o(69063),i=o(95840),c=o(73618),l=o(87362),d=o(57840),u=o(27350),m=o(6309),h=o(30671);const p=(0,c.P)((async e=>{const t=await(0,a.Jt)("accounts");e(u.Qc(t||[]))})),f=(0,c.P)((async(e,t)=>{let o=null;if(t().accounts.loaded||(o=e(g)),!t().accounts.loadedFromIDB)try{await e(p)}catch(e){(0,i.PT)("accounts","Unable to load accounts from IDB",e)}if(!(0,h.fZ)(t())&&o)try{await o}catch(t){e(u.z3((0,r.n)(t))),(0,i.PT)("accounts","Unable to load accounts from Bungie.net",t)}})),g=(0,c.P)((async e=>{const t=function(){const e=(0,l.gf)();if(e?.bungieMembershipId)return{membershipId:e.bungieMembershipId}}();return t?d.f.addPromise(e((o=t.membershipId,async(e,t)=>{try{const t=await e((0,m.ff)(o));e(u.qm(t))}catch(o){if(!(0,h.q6)(t()).length)throw e(u.wE(o)),o}return(0,h.q6)(t())}))):(e(u.V()),[]);var o}));function y(e){return async(t,o)=>{if(e){const n=(0,h.sZ)(o());n&&(0,m.gB)(n,e)||(localStorage.setItem("dim-last-membership-id",e.membershipId),localStorage.setItem("dim-last-destiny-version",""+e.destinyVersion),t(u.BL(e)),t((0,s.j)()))}return e}}function v(){return async e=>{(0,l.eF)(),(0,n.rt)(),localStorage.removeItem("dim-last-membership-id"),localStorage.removeItem("dim-last-destiny-version"),(0,a.yH)("accounts"),e(u.V())}}},88588:(e,t,o)=>{o.d(t,{A:()=>ge});var s=o(10544),n=o(93919),a=o(18374),r=o(50279);function i({items:e,noLink:t}){const[o,i]=(0,a.useState)();return(0,s.A)("div",{className:"sub-bucket"},void 0,e.map((e=>(0,s.A)(c,{item:e,onShowPopup:i},e.index,((t,o)=>(0,s.A)(r.A,{innerRef:t,onClick:o,item:e}))))),o&&(0,s.A)(n.A,{onClose:()=>i(void 0),item:o.item,element:o.element,noLink:t}))}function c({item:e,onShowPopup:t,children:o}){const s=(0,a.useRef)(null),n=(0,a.useCallback)((o=>{o.stopPropagation(),t({item:e,element:s.current})}),[e,t]);return o(s,n)}var l=o(68807),d=o(20505),u=o(22668),m=o(44261),h=o(99880),p=o(2290),f=o(87545),g=o(62447),y=o(52040),v=o(94186),b=o(19668),A=o(26470),k=o(1946),w=o(24769),I=o(9803),S=o(13406),x=o(37914),T=o(20169),N=o(38654),C=o(82072),H=o(43435),P=o(60440),D=o(86119),M=o(92369),E=o(16283),R=o(13526),L=o(82495),V=o(8935),q=(o(89293),o(13642)),O=o(57551),_=o(90789),B=o(73308);const j={roll:"AllWishlistRolls-m_roll-cqcDisN3",orGroup:"AllWishlistRolls-m_orGroup-PJxImUbw"};var z=o(56137),F=o(1762),W=o(94518);function U({item:e,realAvailablePlugHashes:t}){const o=(0,V.d4)((0,_.be)(e.hash)),[n,a]=(0,B.j)(o,(e=>!e.isUndesirable));return(0,W.jsxs)(W.Fragment,{children:[n.length>0&&(0,W.jsxs)(W.Fragment,{children:[(0,s.A)("h2",{},void 0,(0,p.t)("Armory.WishlistedRolls",{count:n.length})),(0,s.A)(G,{item:e,wishlistRolls:n,realAvailablePlugHashes:t})]}),a.length>0&&(0,W.jsxs)(W.Fragment,{children:[(0,s.A)("h2",{},void 0,(0,p.t)("Armory.TrashlistedRolls",{count:a.length})),(0,s.A)(G,{item:e,wishlistRolls:a,realAvailablePlugHashes:t})]})]})}function G({wishlistRolls:e,item:t,realAvailablePlugHashes:o}){const n=(0,N.I3)(),a=Object.groupBy(e,(e=>e.notes||(0,p.t)("Armory.NoNotes"))),r=(0,z.H)(n,t.hash)?.sockets?.socketEntries,i={},c={},l={};if(t.sockets)for(const e of t.sockets.allSockets)if(e.isReusable){for(const t of e.plugOptions)i[t.plugDef.hash]=e,c[t.plugDef.hash]=t;const t=r?.[e.socketIndex].reusablePlugSetHash??(e.socketDefinition.randomizedPlugSetHash||e.socketDefinition.reusablePlugSetHash);if(t){const e=n.PlugSet.get(t).reusablePlugItems;for(let t=0;t<e.length;t++){const o=e[t];o.currentlyCanRoll&&(l[o.plugItemHash]=t)}}}return(0,W.jsx)(W.Fragment,{children:Object.entries(a).map((([e,a])=>{const r=(0,F.px)(n,t,a);return(0,s.A)("div",{},e,(0,s.A)("div",{},void 0,e),(0,s.A)("ul",{},void 0,r.map((e=>{const n=Object.groupBy(e.commonPrimaryPerks,(e=>i[e]?.socketIndex??-1)),a=e.rolls[0].primarySocketIndices.map((e=>n[e??-1].sort((0,O.VE)((e=>e in F.iZ?1:0))))),r=(0,F.Zy)(e.rolls);return r.length||r.push([]),r.map((e=>{const n=[...e,...a];return n.some((e=>e.some((e=>!(e in c)))))?null:(0,s.A)("li",{className:j.roll},n.map((e=>e.join())).join(),n.map((e=>(0,s.A)("div",{className:j.orGroup},e.join(),e.sort((0,O.VE)((e=>l[e]??9999))).map((e=>{const n=i[e],a=c[e];return a&&n&&(0,s.A)(q.A,{plug:a,item:t,socketInfo:n,hasMenu:!1,notSelected:o?.includes(a.plugDef.hash)},a.plugDef.hash)}))))))}))}))))}))})}const Q={armory:"Armory-m_armory-QRPxcV5R",season:"Armory-m_season-tdfB4qkT",source:"Armory-m_source-eZt6WSSM",header:"Armory-m_header-wYPsYK5B",headerContent:"Armory-m_headerContent-bkqmdr2u",subtitle:"Armory-m_subtitle-dsLGgOVf",element:"Armory-m_element-rJN5zkVV",flavor:"Armory-m_flavor-TH1p0C6H",section:"Armory-m_section-kpKFmMZ7"};var Z=o(19654),K=o(66265),J=o(36871),X=o(72549);const Y="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 329.81 329.81'%3e%3clinearGradient id='a' x1='47.56' x2='331.31' y1='119.42' y2='119.42' gradientUnits='userSpaceOnUse'%3e%3cstop offset='0' stop-color='%2338a7de'/%3e%3cstop offset='1' stop-color='%2384c265'/%3e%3c/linearGradient%3e%3clinearGradient xlink:href='%23a' id='b' x1='66.26' x2='332.36' y1='164.9' y2='164.9' gradientTransform='rotate(45 301.57 164.914)'/%3e%3cpath fill='%23efefef' d='m136.45 119.42 36.97 36.97 45.48 45.48 5.69 5.69 2.83 2.83-2.83 2.83-5.69 5.68-45.48 45.49-5.68 5.68-2.83 2.83-2.83-2.83-5.69-5.68-45.48-45.49-36.97-36.97-28.46 28.46 119.43 119.42 119.42-119.42L164.91 90.97z'/%3e%3cpath fill='url(%23a)' d='m193.36 210.39-36.97-36.97-45.48-45.48-5.69-5.69-2.83-2.83 2.83-2.83 5.69-5.68 45.48-45.49 5.69-5.68 2.83-2.83 2.83 2.83 5.68 5.68 45.48 45.49 36.97 36.97 28.46-28.46L164.91 0 45.48 119.42l119.43 119.42z'/%3e%3cpath fill='url(%23b)' d='M281.59 144.93h39.95v39.95h-39.95z' transform='rotate(-45 301.579 164.912)'/%3e%3cpath fill='%23efefef' d='m-.011 164.913 28.249-28.249 28.249 28.25-28.25 28.248z'/%3e%3c/svg%3e";var $=o(77204);const ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABj1BMVEUnJycoKCgoKCgoKCgnJycnJycnJycnJycoKCgoKCgnJycnJycmJiYnJycoKCgnJycnJycnJycnJycnJyf19fX09PQ0NDQpKSnw8PC+vr7i4uLy8vLj4+OSkpLx8fEsLCwuLi4qKirz8/M2Njbq6urFxcXY2NgoKCiNjY2zs7MvLy/l5eVBQUE+Pj6ysrLt7e0/Pz+jo6OmpqY1NTXCwsKYmJhKSkorKytnZ2c4ODjs7OxTU1OZmZnr6+tZWVktLS3JycmwsLBgYGDExMR4eHi/v79VVVWUlJR8fHxNTU1paWkwMDDT09Pe3t49PT2goKDGxsavr69GRkbX19exsbE3NzeIiIgyMjJlZWWQkJCTk5OAgICoqKheXl5kZGSamppISEh+fn5jY2N/f39ycnKcnJzk5OStra0zMzPKysoxMTF1dXW3t7fNzc2kpKTu7u5ERETV1dW2trbg4ODHx8d0dHTv7+9PT0/Ozs5AQEDAwMC1tbU8PDzW1tabm5uBgYFubm5OTk7a2tpMTEyGhoaVCzSiAAAAFHRSTlP98O/+9f74/PLx+/r57v3j7+Lz5NXas7sAAAHESURBVHhe7ZZFj9xAEEZ7t00DC0m+sj3IsMjMEGZmZmZm/OE5uA7jurTmFkVbt6fyk752la1WO3q6RSUsJ+X2ajflWAnZ6+lTjpJl6xaXtpUsR3mq1UGpnaq7M6HrHxa2hSHffxAwPPL98yZh/lImMzYUQe1ZJnPdJNxoAicZtvKgPyZhzxLCWxFUCjnk5wzC4ftEG6Oc6A3R5rRBGD1K1dn1CJbHEd4MYkLClsJjQv0aw3FC9ndbz/aUpYVQeggcORvBsWHgSalN0JZyZKK1IlBguEyoLsS6aZUSQjAFjI/w0E4AzfmYkFSuEE6dBp1huJoFnYu3XdUrj7yK8AIP4WIO2YNxQStx5vIVoqcTEUzPEA3WhCAjTfxCdaXMQ1hFeDsQkeSh7+RQX2C4S7gnErWS4rVWdgPNRU40DOytCCEtBrevCNrPcIBQPSSe15ZYjUnC8xe8gzNAsywE24sv38hL0CuGtdegAdMn+raOd5yiMhAi+94glKcIHz5G4H8i+lwzCF++gr5x7Lk6it8Dg/CjbQizhPzPlkEoNBqDPIRgrNGYLP1H/9ZtIdGZ4HV+Oenr7xLlWemkq7WbTFue7PXv+gs1MDpSvH+vNgAAAABJRU5ErkJggg==";var te=o(51753);const oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFNklEQVR42q2X2W9UVRzHDyj6IgYwGiQGkKUFNDGRpcAD4vLAP4BQeEMTAVPjAg3EiNUXHxB5YAsGEU2M+2MFmhaxBJB2urcznbm3y0w7hbYpaWa5dzoztx/740xhpJ07LfBNfsmZc8+Z374cNR0As4HVQLFt25+OjCS9pPqrSHTug/Q2bxfry84wTz1qAGsTicTR3t7e9tbW1lRTUxO1tbW0tAUgvAsChdC5CbreSTJ42kuy40iLycZHwbhgTNMfOjo6bI/HQ1VVFRcuXOD8+fOUl5dT42kCcwtcV3BDQY2CBgVGIfSVWiR9Z2saeelBme/s6+u7KZpevHgRYVpZWUlNTQ3t7e2EQiFu3x6GaDX0n4DQB+ArgrontTC1IshyGDoRjtnsmBbzVCp1MBAIOOMaX7p0CWEaiUQYHR0lNxyI10OwBOqf1oI0zIDw7jRObL9SzJwSc5/PR0VFBcK8rq6OaDTKtBFvBP+b2i0eBaHtkIrsz2f2YsMwHGEuZhdBHMchF6qjcCXmZhAbgnvvCiGWiFpsz8V82ViU92fMLszdFXRgtQHrDLAcXDAKwT2ZAH0MBo/fvNbMigkCxGKxHyXgMmZ31VxwaABm+TR9MQiQxxL+13VMGEvAbjv7v3gAVpummRCzS8Dl8/mvEZhrwjMdmuaZ8EcUd1jNUD9bZ0d4v93WyTo1DsuyjkqeS6pJtLvhkgULg/DcGC3oEdLrRWN02cIdwfe1FczlMNJ5eFz7p8Z87xffS567aX/FhoIemN8Li27C4ltCstZ7hT1w1XYLnAapEzo1B7/1ln3PnDvm93q9KfG9FJlceV5laebPh2FJPywbhIIhIVnLnnzTQvxt5YrHNPjW6oDsfjfZFKBIAdubm5sR8/v9fibDLxFY2C1aCiPNdNUwvBwRkrXsyTc5o93xW4TJESrRbujaDLBV2bZ9UKK/vPwvKa8TUu2zAQm4jJ/7RFvN8JUYvGoLyVr25JuckbP6zucDk6Ro/3EtQMdKSIQ+Uslksto0/LQ0NzI8PMw4auNQZMDjXh3pC0Lib9FUtNaMi9JCspY9+SZn5Kzc0Xc3GFAX5x6GftYuCCyEhP+IIhmupHsL+NZApIJxeOL68qyHFGCjAfWWmwCWWYoUh38VDJwgG2K+Qw/ggmeDujaUTcUFwDa6NunN0IdMhASU5P50glAK0xSDUMYounelqFG6n+PkLECFedJwfhhW9MDlKabhnWr41U/MZeBUOw1KFwmriVyQIlPoUoiE+fXpFKKjzFECEsY3mEszbijBDVJkFk1SiheP0T95S/Hee6U4IaU4A6/BesL7bGqVnmSsVtzwexTm3deM/szbjJqym5HV6M9qRtIaibeew3hRS+h/A0YTuKEsqx1/OaV2vDmj/VKwvd8pxQyVjestrGTg2C0aZkqQ6M7FqOtAssaAorwDiQPB3VkDycm+a55JBhLdlikm/F4aj7onhGPn7o5RuOo6klkyDd0/km1TbiAVKZUB8q4Q/rfAamTaiDeIK7OG0h3gxD5R+cFMnEipSIuky41MYAZL9Mg96gAueR6vE8tJwOm74tLwnjSp2D7t9ykiFmOnPCowlkvk6j+re0KKlaSqlFSp65r6j+k93zo5k/UwKYChU70xi2L1IJBnlTyvkGeWWQgNGbfcEJL1hN/6jLkC+g7ESfrPVNezSj0s5KFJsvNrBk+3IQ/QztfAXAntLwjpdedm6H5nBDkz0n242WCDetSQst3WRRHp9Nskuj9mxDyHHTiHrGGrfDtwkrlqGvgP9CgI5veEaPcAAAAASUVORK5CYII=",se={links:"Links-m_links-pYIrHSXA"};function ne({item:e}){const t=(0,V.d4)(Z.md),o=(0,D.Jn)(),n=[{name:"DIM",icon:$,link:`/armory/${e.hash}?perks=${ae(e)}`},{name:"Light.gg",icon:oe,link:`https://www.light.gg/db/${t}/items/${e.hash}${re(e)}`},e.bucket.inWeapons&&{name:"D2Foundry",icon:ee,link:`https://d2foundry.gg/w/${e.hash}${ie(e)}`},!o&&{name:"data.destinysets.com",icon:Y,link:`https://data.destinysets.com/i/InventoryItem:${e.hash}?lang=${t}`},e.loreHash&&{name:(0,p.t)("MovePopup.ReadLoreLink"),icon:te,link:"http://www.ishtar-collective.net/entries/"+e.loreHash}];return(0,s.A)("ul",{className:se.links},void 0,(0,J.oE)(n).map((({link:e,name:t,icon:o})=>(0,s.A)("li",{},t,(0,s.A)(K.A,{href:e},void 0,(0,s.A)("img",{src:o,height:16,width:16}),t)))))}function ae(e){const t=[];if(e.sockets)for(const o of e.sockets.allSockets)t[o.socketIndex]=o.plugged?.plugDef.hash??0;for(let e=0;e<t.length;e++)t[e]||=0;return t.join(",")}function re(e){const t=ce(e);return t?"?p="+[...t.largePerks,...t.traits,t.masterwork,t.weaponMod].map((e=>e||"")).join(","):""}function ie(e){const t=ce(e);if(t){const o=e.sockets?.allSockets.find(X.hN)?.plugged?.plugDef.investmentStats?.[0],s=o?.statTypeHash||t.largePerks[0]||0,n=t.weaponMod||t.masterwork||0;return`?p=${t.traits.join(",")}&m=${n||""}&mw=${s||""}`}return""}function ce(e){if(e.sockets&&e.bucket?.inWeapons){const t=e.sockets.allSockets.find((e=>(0,X.hN)(e)&&!e.isReusable)),o=3425085882===t?.plugged?.plugDef.plug.plugCategoryHash?0:t?.plugged?.plugDef.hash??0,s=e.sockets.allSockets.find((e=>e.plugged?.plugDef.itemCategoryHashes?.includes(1052191496))),n=s?.plugged.plugDef.hash??0,a=e.sockets.allSockets.find(E.iR),r=(0,X.Yf)(e.sockets,6).filter((e=>e.hasRandomizedPlugItems)).map((e=>e.plugged?.plugDef.hash??0));return{traits:(0,X.Yf)(e.sockets,1).filter((e=>![a?.socketIndex,s?.socketIndex].includes(e.socketIndex))).map((e=>e.plugged?.plugDef.hash??0)),masterwork:o,weaponMod:n,largePerks:r}}return null}var le=o(81517),de=o(14231),ue=o(372);const me={wishlist:"WishListEntry-m_wishlist-VehDTIoJ"};var he,pe;function fe({item:e}){const t=function(e){let t=[];if(e.sockets){const o=(0,X.Yf)(e.sockets,1);t=(0,J.x1)(o,(e=>(0,E.iR)(e)||e.plugOptions.length<=1?void 0:e.plugged?.plugDef.hash))}return`dimwishlist:item=${e.hash}&perks=${t.join(",")}`}(e);return(0,s.A)("div",{className:me.wishlist},void 0,(0,s.A)("button",{type:"button",className:"dim-button",onClick:()=>{navigator.clipboard.writeText(t),(0,de.Ds)({type:"success",title:(0,p.t)("WishListRoll.CopiedLine")})}},void 0,(0,p.t)("WishListRoll.CopyLine")),(0,s.A)("input",{onFocus:e=>e.target.select(),value:t??"",readOnly:!0,size:50}),he||(he=(0,s.A)(le.A,{helpLink:ue.qD})))}function ge({itemHash:e,realItemSockets:t,realAvailablePlugHashes:o}){const n=(0,M._)(),a=(0,N.I3)(),r=(0,V.d4)(g.V0),c=(0,D.Jn)(),[q,O]=(0,v.iz)(),_=(0,V.d4)(g.cb),B=a.InventoryItem.get(e),j=(0,y.h4)(_,e,{allowWishList:!0});if(!j)return(0,s.A)("div",{},void 0,(0,s.A)("h1",{},void 0,(0,p.t)("Armory.Unknown")));const z=(0,v.FN)(_,j,{...t,...q}),F=r.filter((t=>t.hash===e)),G=z.collectibleHash?a.Collectible.get(z.collectibleHash):void 0,Z=(0,b.o)(z),K=Z?Object.values(a.Season.getAll()).find((e=>e.seasonNumber===Z)):void 0,J=(0,b.Z)(z),X=z.sockets?.allSockets.find((e=>e.plugged?.plugDef.screenshot)),Y=X?.plugged?.plugDef.screenshot||B.screenshot,$=B.flavorText||B.displaySource;return(0,s.A)("div",{className:(0,R.A)(Q.armory,"armory"),style:Y&&!c?{backgroundImage:`linear-gradient(180deg, rgba(0,0,0,.75) 0px, rgba(0,0,0,0) 200px), linear-gradient(180deg, rgba(0,0,0,0) 400px, #0b0c0f 500px), url("${(0,d.Tu)(Y)}")`}:void 0},void 0,(0,s.A)(ne,{item:z}),(0,s.A)("div",{className:Q.header},void 0,(0,s.A)("div",{className:"item"},void 0,(0,s.A)(f.Ay,{item:z})),(0,s.A)("h1",{},void 0,z.name),(0,s.A)("div",{className:Q.headerContent},void 0,(0,s.A)("div",{className:Q.subtitle},void 0,(0,s.A)(m.A,{element:z.element,className:Q.element}),(0,s.A)(A.A,{item:z}),2===z.destinyVersion&&z.ammoType>0&&(0,s.A)(w.wE,{type:z.ammoType}),(0,s.A)(w.NK,{item:z}),z.pursuit?.questLine&&(0,s.A)("div",{},void 0,(0,p.t)("MovePopup.Subtitle.QuestProgress",{questStepNum:z.pursuit.questLine.questStepNum,questStepsTotal:z.pursuit.questLine.questStepsTotal??"?"})),K&&(0,s.A)("div",{className:Q.season},void 0,K.displayProperties.hasIcon&&(0,s.A)(d.Ay,{height:15,width:15,src:K.displayProperties.icon})," ",K.displayProperties.name," (",(0,p.t)("Armory.Season",{season:K.seasonNumber,year:(0,E.Xx)(z)??"?"}),")",!!J&&" - "+L.f[(0,b.Z)(z)].name)),(0,s.A)(u.P,{item:z}),z.classified&&(0,s.A)("div",{},void 0,(0,p.t)("ItemService.Classified2")),G?.sourceString&&(0,s.A)("div",{className:Q.source},void 0,G?.sourceString),z.description&&(0,s.A)("p",{},void 0,(0,s.A)(h.A,{text:z.description})),$&&(0,s.A)("p",{className:Q.flavor},void 0,$))),c&&Y&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(d.Ay,{width:"100%",src:Y})),a.isDestiny2&&z.itemCategoryHashes.includes(19)&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(k.A,{item:z})),a.isDestiny2&&z.availableMetricCategoryNodeHashes&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(x.A,{availableMetricCategoryNodeHashes:z.availableMetricCategoryNodeHashes})),z.stats&&!z.bucket.inArmor&&(0,s.A)("div",{className:Q.section},void 0,(0,s.A)(S.A,{item:z})),z.sockets&&(0,s.A)("div",{className:Q.section},void 0,(0,s.A)(I.A,{item:z,grid:!0,onPlugClicked:O})),z.pursuit&&(0,W.jsxs)(W.Fragment,{children:[a&&z.objectives&&(0,s.A)("div",{className:Q.section},void 0,z.objectives.map((e=>(0,s.A)(C.A,{objective:e},e.objectiveHash)))),a.isDestiny2&&0!==z.pursuit.rewards.length&&(0,s.A)("div",{className:Q.section},void 0,(0,s.A)("div",{},void 0,(0,p.t)("MovePopup.Rewards")),z.pursuit.rewards.map((e=>(0,s.A)(H.e,{reward:e},e.itemHash)))),z.pursuit?.questLine?.description&&(0,s.A)("p",{},void 0,(0,s.A)(h.A,{text:z.pursuit.questLine.description,ownerId:z.owner})),B.setData?.itemList&&(0,s.A)("ol",{},void 0,B.setData.itemList.map((t=>{const o=(0,y.h4)(_,t.itemHash);return o&&(0,s.A)("li",{style:{fontWeight:t.itemHash===e?"bold":"normal"}},t.itemHash,(0,s.A)(h.A,{text:o.description}))})))]}),!c&&z.wishListEnabled&&(0,s.A)(fe,{item:z}),F.length>0&&(0,W.jsxs)(W.Fragment,{children:[(0,s.A)("h2",{},void 0,(0,p.t)("Armory.YourItems"),F[0].comparable&&(0,s.A)("button",{className:"dim-button",type:"button",onClick:()=>{(0,T.EV)(),n((0,l.YN)(F[0]))}},void 0,pe||(pe=(0,s.A)(P.z9,{icon:P.b9}))," ",(0,p.t)("Compare.Button"))),(0,s.A)(i,{items:F,noLink:!0})]}),z.wishListEnabled&&(0,s.A)(U,{item:z,realAvailablePlugHashes:o}))}},51700:(e,t,o)=>{o.d(t,{A:()=>u});var s=o(10544),n=o(59981),a=o(87411),r=o(36871),i=o(46460),c=o(18374),l=o(88588);const d={sheet:"ArmorySheet-m_sheet-NHnRR1Bv"};function u({item:e,itemHash:t,onClose:o}){const u=(0,c.useMemo)((()=>e?.sockets?Object.fromEntries((0,r.x1)(e.sockets.allSockets,(e=>e.plugged?[e.socketIndex,e.plugged.plugDef.hash]:void 0))):{}),[e?.sockets]),m=(0,c.useMemo)((()=>e?.sockets?.allSockets.flatMap((e=>e.plugOptions.map((e=>e.plugDef.hash))))??[]),[e?.sockets]),h=e?.vendor&&i[e.hash];return(0,s.A)(a.A,{onClose:o,sheetClassName:d.sheet},void 0,(0,s.A)(n.A,{},void 0,(0,s.A)(l.A,{itemHash:t??h??e.hash,realItemSockets:void 0===h?u:void 0,realAvailablePlugHashes:void 0===h?m:void 0})))}},56137:(e,t,o)=>{o.d(t,{H:()=>n});const s=(0,o(54270).A)((e=>{const t={},o=e.InventoryItem.getAll();for(const e in o){const s=o[e];s.crafting&&(t[s.crafting.outputItemHash]=s)}return t}));function n(e,t){return s(e)[t]}},1762:(e,t,o)=>{o.d(t,{Zy:()=>l,iZ:()=>i,px:()=>c}),o(13424),o(89293),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(36871),n=o(57551),a=o(87853),r=o(73308);const i=(0,s.B8)(a,Number);function c(e,t,o){const s={};if(t.sockets)for(const e of t.sockets.allSockets)if(e.isReusable)for(const t of e.plugOptions)s[t.plugDef.hash]=e.socketIndex;const i=o.map((t=>{const[o,n]=(0,r.j)(Array.from(t.recommendedPerks),(t=>function(e){return!(!e||3!==e.inventory.tierType&&!e.itemCategoryHashes?.includes(3708671066)&&!e.itemCategoryHashes?.includes(2237038328))}(e.InventoryItem.get(t))));o.sort(((e,t)=>s[e]-s[t]));const a=o.map((e=>s[e])),i={};for(const e of n)i[s[e]]=e;n.sort(((e,t)=>s[e]-s[t]));const c=n.map((e=>s[e]));return{primaryPerksList:o,primarySocketIndices:a,primaryPerkIdentifier:o.join(),primaryPerkIdentifierNormalized:o.map(d).join(),secondaryPerksMap:i,secondarySocketIndices:c,secondaryPerkIdentifier:n.join()}})),c=Object.groupBy(i,(e=>e.primaryPerkIdentifierNormalized)),l={};for(const e in c){const t=c[e];if(e.includes("/")){const e=Object.groupBy(t,(e=>e.secondaryPerkIdentifier));for(const t in e){const o=e[t],a=[...new Set(o.flatMap((e=>e.primaryPerksList)))].sort((0,n.VE)((e=>s[e]))),r=a.join();if(1===o.length||2===o.length&&o[0].primaryPerksList.some(((e,t)=>e===o[1].primaryPerksList[t]))||4===o.length)(l[r]??={commonPrimaryPerks:a,rolls:[]}).rolls.push(...o);else{const e=Object.groupBy(i,(e=>e.primaryPerkIdentifier));for(const t in e){const o=e[t];(l[t]??={commonPrimaryPerks:o[0].primaryPerksList,rolls:[]}).rolls.push(...o)}}}}else(l[e]??={commonPrimaryPerks:t[0].primaryPerksList,rolls:[]}).rolls.push(...t)}for(const e of Object.values(l))for(const o of e.commonPrimaryPerks){const n=a[o];if(n&&!e.commonPrimaryPerks.includes(n)){const a=s[o];void 0!==a&&t.sockets?.allSockets.some((e=>e.socketIndex===a&&e.plugOptions.some((e=>e.plugDef.hash===n))))&&e.commonPrimaryPerks.push(n)}}return Object.values(l)}function l(e){const t=Array.from(new Set(e.flatMap((e=>e.secondarySocketIndices)))).sort(((e,t)=>e-t)),o=t.map(((e,t)=>t));let s=e.filter((e=>e.secondarySocketIndices.length)).map((e=>t.map((t=>{const o=e.secondaryPerksMap[t];return o?{perks:[o],key:""+o}:{perks:[],key:""}}))));for(const e of o)for(;;){const t=s.find((t=>s.some((s=>t!==s&&o.every((o=>o===e||t[o].key===s[o].key))))));if(!t)break;const[n,a]=(0,r.j)(s,(s=>o.every((o=>o===e||t[o].key===s[o].key))));s=a;const i=t.with(e,u(n.map((t=>t[e]))));s.push(i)}return s.map((e=>e.map((e=>e.perks))))}function d(e){const t=function(e){let t=i[e],o=a[e];if(t||o)return o||(o=a[t]),t||(t=i[o]),{base:t,enhanced:o}}(e);return t?`${t.base}/${t.enhanced}`:""+e}function u(e){const t=[...new Set(e.flatMap((e=>e.perks)))].sort();return{perks:t,key:t.join()}}},29986:(e,t,o)=>{o.d(t,{UV:()=>c,ip:()=>l,yl:()=>d});var s=o(2290),n=o(95840),a=o(40768),r=o(76955),i=o(87362);class c extends Error{constructor(e){super(e),this.name="FatalTokenError"}}async function l(e,t,o=!1){e instanceof Request||(e=new Request(e));try{const t=await d();e.headers.set("Authorization","Bearer "+t.accessToken.value)}catch(e){throw e instanceof c&&(0,n.XX)("bungie auth","Unable to get auth token",e),e}const s=await fetch(e.clone(),t);if(await async function(e){if(401===e.status)return!0;try{const t=await e.clone().json();return!(!t||2111!==t.ErrorCode&&99!==t.ErrorCode&&22!==t.ErrorCode&&2124!==t.ErrorCode&&2123!==t.ErrorCode&&2122!==t.ErrorCode&&2106!==t.ErrorCode)}catch{}return!1}(s)){if(o)throw new c("Access token expired, and we've already tried to refresh. Failing.");return(0,n.zh)("bungie auth","Access token expired, removing access token and trying again"),(0,i.kz)(),l(e,t,!0)}return s}async function d(){const e=(0,i.gf)();if(!e)throw new c("No auth token exists, redirect to login");if(e&&!(0,i.vv)(e.accessToken))return e;if(!e||(0,i.vv)(e.refreshToken))throw new c("Refresh token invalid, clearing auth tokens & going to login");try{return await(0,r._)(e.refreshToken)}catch(e){return function(e){if(e instanceof TypeError)throw(0,n.XX)("bungie auth","Error getting auth token from refresh token because there's no internet connection (or a permissions issue). Not clearing token.",e),e;if(!(e instanceof a.F9))throw(0,n.XX)("bungie auth","Other error getting auth token from refresh token. Not clearing auth tokens",e),e;let t;if(e.responseBody)try{t=JSON.parse(e.responseBody)}catch{}if(t){if("server_error"===t.error)switch(t.error_description){case"SystemDisabled":throw Error((0,s.t)("BungieService.Maintenance"));case"RefreshTokenNotYetValid":case"AccessTokenHasExpired":case"AuthorizationCodeInvalid":case"AuthorizationRecordExpired":case"AuthorizationRecordRevoked":case"AuthorizationCodeStale":throw new c("Refresh token expired or not valid, platform error "+t.error_description);default:throw Error(`Unknown error getting response token: ${t.error}, ${t.error_description}`)}if(t.ErrorCode)switch(t.ErrorCode){case 2110:case 2111:case 2106:case 2123:case 2124:case 2122:throw new c("Refresh token expired or not valid, platform error "+t.ErrorCode)}}switch(e.status){case-1:throw Error("Error getting auth token from refresh token because there's no internet connection. Not clearing token.");case 401:case 403:throw new c("Refresh token expired or not valid, status "+e.status)}throw Error(`Unknown error getting response token. status: ${e.status}, response: ${e.responseBody??"No response body"}`)}(e)}}},99445:(e,t,o)=>{o.d(t,{r:()=>r,z:()=>a});var s=o(16390),n=o(61441);async function a(){return(await(0,s.zK)(n.Ak,{})).Response}async function r(){return(await(0,s.HO)(n.Ak)).Response}},61441:(e,t,o)=>{o.d(t,{Ak:()=>f,Nf:()=>p,ug:()=>y,wi:()=>v});var s=o(2290),n=o(14231),a=o(50507),r=o(95840),i=o(46883),c=o(29986),l=o(10303),d=o(40768),u=o(29461);const m=(0,i.n)(((e,t)=>{navigator.onLine&&Math.abs(Date.now()-(e+t))<=1e3&&(0,n.Ds)({type:"warning",title:(0,s.t)("BungieService.Slow"),body:(0,s.t)("BungieService.SlowDetails"),duration:15e3})}),3e5,{edges:["leading"]}),h=(e,t,o)=>(0,r.zh)("bungie api","Throttled",e,"times, waiting",t,"ms before calling",o),p=g((0,d.N1)((0,d.uT)((0,u.Zw)((0,d.p4)(c.ip,15e3,m)),l.Lq),h)),f=g((0,d.N1)((0,d.uT)((0,d.p4)(fetch,15e3,m),l.Lq),h));function g(e){return async t=>{try{return await e(t)}catch(e){y(e)}}}function y(e){if(e instanceof DOMException&&"AbortError"===e.name)throw(navigator.onLine?new a.X("BungieService.SlowResponse"):new a.X("BungieService.NotConnected")).withError(e);if(e instanceof SyntaxError)throw(0,r.PT)("bungie api","Error parsing Bungie.net response",e),new a.X("BungieService.Difficulties").withError(e);if(e instanceof TypeError)throw(navigator.onLine?new a.X("BungieService.NotConnectedOrBlocked"):new a.X("BungieService.NotConnected")).withError(e);if(e instanceof c.UV)throw new a.X("BungieService.NotLoggedIn").withError(e);if(e instanceof d.F9){if(401===e.status||403===e.status)throw new a.X("BungieService.NotLoggedIn").withError(e);if(e.status>=502&&e.status<=526)throw new a.X("BungieService.Difficulties").withError(e);throw new a.X("BungieService.NetworkError",(0,s.t)("BungieService.NetworkError",{status:e.status,statusText:e.message})).withError(e)}if(e instanceof d.TL)switch(e.code??-1){case 1627:throw new a.X("BungieService.VendorNotFound").withError(e);case 2106:case 2108:throw new a.X("BungieService.AppNotPermitted").withError(e);case 5:throw new a.X("BungieService.Maintenance").withError(e);case 35:case 36:case 37:case 1672:case 54:case 55:case 56:case 57:throw new a.X("BungieService.Throttled").withError(e);case 2111:case 99:case 22:throw new a.X("BungieService.NotLoggedIn").withError(e);case 1601:throw e.endpoint.includes("/Account/")&&!e.endpoint.includes("/Character/")?new a.X("BungieService.NoAccount").withError(e):new a.X("BungieService.Difficulties").withError(e);case 1670:throw new a.X("BungieService.DestinyLegacyPlatform").withError(e);case 1671:throw new a.X("BungieService.DestinyCannotPerformActionAtThisLocation").withError(e);case 1640:throw new a.X("BungieService.DestinyItemUnequippable").withError(e);case 2101:case 2102:case 2107:case 1618:throw new a.X("BungieService.Difficulties").withError(e);default:throw new a.X("BungieService.UnknownError",(0,s.t)("BungieService.UnknownError",{message:e.message})).withError(e)}throw(0,r.PT)("bungie api","No response data:",e),new a.X("BungieService.Difficulties").withError(e)}function v(e,t){if(e instanceof d.TL&&1648===e.code)throw new a.X("BungieService.ItemUniquenessExplanation",(0,s.t)("BungieService.ItemUniquenessExplanation",{name:t.name})).withError(e);throw e}},3710:(e,t,o)=>{o.d(t,{Dv:()=>d,Fh:()=>y,bg:()=>l,h1:()=>f,jd:()=>b,k0:()=>g,v3:()=>v}),o(10131);var s=o(2290),n=o(57551),a=o(50507),r=o(95840),i=o(10303),c=o(61441);async function l(e){const t=await(0,c.Nf)((0,i.nJ)(`/D1/Platform/Destiny/${e.originalPlatformType}/Account/${e.membershipId}/`));if(!t||0===Object.keys(t.Response).length)throw new a.X("BungieService.NoAccountForPlatform",(0,s.t)("BungieService.NoAccountForPlatform",{account:e.platformLabel}));return t.Response.data}async function d(e){const{characters:t,inventory:o}=await l(e),s=t.map((e=>e.characterBase.characterId)),[n,a,i,c]=await Promise.all([m(e),u(e,s),h(e,s).catch((e=>((0,r.PT)("bungie api","Failed to load character progression",e),[]))),p(e,s).catch((e=>((0,r.PT)("bungie api","Failed to load advisors",e),[])))]);return{characters:t.map(((e,t)=>({id:s[t],character:e,inventory:a[t],progression:i[t],advisors:c[t]}))),profileInventory:o,vaultInventory:n}}function u(e,t){const o=t.map((async t=>(await(0,c.Nf)((0,i.nJ)(`/D1/Platform/Destiny/${e.originalPlatformType}/Account/${e.membershipId}/Character/${t}/Inventory/`))).Response.data));return Promise.all(o)}async function m(e){return(await(0,c.Nf)((0,i.nJ)(`/D1/Platform/Destiny/${e.originalPlatformType}/MyAccount/Vault/`))).Response.data}async function h(e,t){const o=t.map((async t=>(await(0,c.Nf)((0,i.nJ)(`/D1/Platform/Destiny/${e.originalPlatformType}/Account/${e.membershipId}/Character/${t}/Progression/`))).Response.data));return Promise.all(o)}async function p(e,t){const o=t.map((async t=>(await(0,c.Nf)((0,i.nJ)(`/D1/Platform/Destiny/${e.originalPlatformType}/Account/${e.membershipId}/Character/${t}/Advisors/V2/`))).Response.data));return Promise.all(o)}async function f(e,t,o){return(await(0,c.Nf)((0,i.nJ)(`/D1/Platform/Destiny/${e.originalPlatformType}/MyAccount/Character/${t.id}/Vendor/${o}/`))).Response.data}async function g(e,t,o,s){try{return await(0,c.Nf)((0,i.S1)("/D1/Platform/Destiny/TransferItem/",{characterId:o.isVault?t.owner:o.id,membershipType:e.originalPlatformType,itemId:t.id,itemReferenceHash:t.hash,stackSize:s||t.amount,transferToVault:o.isVault}))}catch(e){return(0,c.wi)(e,t)}}function y(e,t){return(0,c.Nf)((0,i.S1)("/D1/Platform/Destiny/EquipItem/",{characterId:t.owner,membershipType:e.originalPlatformType,itemId:t.id}))}async function v(e,t,o){const s=o.toSorted((0,n.VE)((e=>e.isExotic))).map((e=>e.id)),a=await(0,c.Nf)((0,i.S1)("/D1/Platform/Destiny/EquipItems/",{characterId:t.id,membershipType:e.originalPlatformType,itemIds:s}));return Object.fromEntries(a.Response.equipResults.map((e=>[e.itemInstanceId,e.equipStatus])))}function b(e,t,o,s,n){let a;switch(n){case"lock":a="SetLockState";break;case"track":a="SetQuestTrackedState"}return(0,c.Nf)((0,i.S1)(`/D1/Platform/Destiny/${a}/`,{characterId:o,membershipType:e.originalPlatformType,itemId:t.id,state:s}))}},99475:(e,t,o)=>{o.d(t,{AA:()=>u,CJ:()=>w,Dv:()=>m,Fh:()=>v,OU:()=>k,SN:()=>g,W6:()=>S,YQ:()=>f,_j:()=>I,bg:()=>h,c2:()=>d,cv:()=>T,k0:()=>y,v3:()=>b,vj:()=>x,zh:()=>A}),o(10131);var s=o(2290),n=o(57551),a=o(50507),r=o(95840),i=o(11209),c=o(44155),l=o(61441);async function d(){return(await(0,i.Ym)(l.Ak)).Response}async function u(e){return(await(0,i._y)(l.Nf,{membershipId:e,membershipType:254,getAllMemberships:!0})).Response}function m(e){return p(e,100,102,103,200,201,202,205,300,301,305,307,800,308,310,309,900,1100,1200,104,1e3,206,700)}function h(e){return p(e,200)}async function p(e,...t){const o=await(0,i.E$)(l.Nf,{destinyMembershipId:e.membershipId,membershipType:e.originalPlatformType,components:t});if(0===Object.keys(o.Response).length)throw new a.X("BungieService.NoAccountForPlatform",(0,s.t)("BungieService.NoAccountForPlatform",{platform:e.platformLabel}));return o.Response}async function f(e,t){return(await(0,i.YQ)(l.Nf,{characterId:t,destinyMembershipId:e.membershipId,membershipType:e.originalPlatformType,components:[400,402,307,600]})).Response}async function g(e,t,o){return(await(0,i.f7)(l.Nf,{characterId:t,destinyMembershipId:e.membershipId,membershipType:e.originalPlatformType,components:[300,301,305,308,310,309],vendorHash:o})).Response}async function y(e,t,o,s){const n={characterId:o.isVault||t.location.inPostmaster?t.owner:o.id,membershipType:e.originalPlatformType,itemId:t.id,itemReferenceHash:t.hash,stackSize:s||t.amount,transferToVault:o.isVault},a=t.location.inPostmaster?(0,i.gm)(l.Nf,n):(0,i.LF)(l.Nf,n);try{return await a}catch(e){return(0,l.wi)(e,t)}}function v(e,t){return"vault"===t.owner?((0,r.PT)("bungie api","Cannot equip to vault!"),(0,c.U)("equipVault",Error("Cannot equip to vault")),Promise.resolve({})):(0,i.Ci)(l.Nf,{characterId:t.owner,membershipType:e.originalPlatformType,itemId:t.id})}async function b(e,t,o){const s=o.toSorted((0,n.VE)((e=>e.isExotic))).map((e=>e.id)),a=await(0,i.v3)(l.Nf,{characterId:t.id,membershipType:e.originalPlatformType,itemIds:s});return Object.fromEntries(a.Response.equipResults.map((e=>[e.itemInstanceId,e.equipStatus])))}function A(e,t,o,s){return(0,i.ic)(l.Nf,{characterId:t,membershipType:e.originalPlatformType,itemId:o.id,state:s})}function k(e,t,o,s){if(!o.trackable)throw Error("Can't track non-trackable items");return(0,i.cN)(l.Nf,{characterId:t,membershipType:e.originalPlatformType,itemId:o.id,state:s})}async function w(e,t,o,s){const n=await(0,i.fA)(l.Nf,{type:t,membershipType:e.originalPlatformType,affectedItemId:s?s.id:void 0,characterId:o});return(await(0,i.ZD)(l.Nf,{correlationId:n.Response.correlationId})).Response}async function I(e,t){return(0,i.jz)(l.Nf,{loadoutIndex:t.index,characterId:t.characterId,membershipType:e.originalPlatformType})}async function S(e,t){return(0,i.je)(l.Nf,{loadoutIndex:t.index,characterId:t.characterId,membershipType:e.originalPlatformType,colorHash:t.colorHash,iconHash:t.iconHash,nameHash:t.nameHash})}async function x(e,t){return(0,i.yd)(l.Nf,{loadoutIndex:t.index,characterId:t.characterId,membershipType:e.originalPlatformType})}async function T(e,t){return(0,i.IF)(l.Nf,{loadoutIndex:t.index,characterId:t.characterId,membershipType:e.originalPlatformType,colorHash:t.colorHash,iconHash:t.iconHash,nameHash:t.nameHash})}},82821:(e,t,o)=>{o.d(t,{$:()=>u,p:()=>m});var s,n,a=o(10544),r=o(2290),i=o(372),c=o(66265),l=o(60440),d=o(94518);function u(e){return{type:"error",title:(0,r.t)("BungieService.ErrorTitle"),body:(0,d.jsxs)(d.Fragment,{children:[e??(0,r.t)("BungieService.Difficulties")," ",(0,a.A)("div",{},void 0,(0,r.t)("BungieService.Twitter")," ",s||(s=(0,a.A)(c.A,{href:i.ij},void 0,i.vt))," ",(0,a.A)(c.A,{href:i.ij},void 0,(0,a.A)("span",{style:{fontSize:"1.5em",verticalAlign:"middle"}},void 0,n||(n=(0,a.A)(l.z9,{icon:l.zk})))))]})}}function m(e,t,o){return{type:"error",title:e,body:(0,d.jsxs)(d.Fragment,{children:[(0,a.A)("div",{},void 0,t),(0,a.A)("div",{},void 0,o)]}),duration:6e4}}},29461:(e,t,o)=>{o.d(t,{C8:()=>r,Zw:()=>i,wR:()=>n});var s=o(11071);class n{pattern;timeLimit;queue=[];count=0;lastRequestTime=window.performance.now();timer;constructor(e,t){this.pattern=e,this.timeLimit=t}matches(e){return e.match(this.pattern)}add(e,t,o){let n=s.lQ,a=s.lQ;const r=new Promise(((e,t)=>{n=e,a=t}));return this.queue.push({fetcher:e,request:t,options:o,resolver:n,rejecter:a}),this.processQueue(),r}scheduleProcessing(){if(!this.timer){const e=Math.max(0,this.timeLimit-(window.performance.now()-this.lastRequestTime));this.timer=window.setTimeout((()=>{this.timer=void 0,this.processQueue()}),e)}}processQueue(){if(this.queue.length)if(this.canProcess()){const e=this.queue.shift();this.count++,this.lastRequestTime=window.performance.now(),e.fetcher(e.request,e.options).finally((()=>{this.count--,this.processQueue()})).then(e.resolver,e.rejecter)}else this.scheduleProcessing()}canProcess(){return window.performance.now()-this.lastRequestTime>=this.timeLimit&&0===this.count}}const a=[];function r(e){a.push(e)}function i(e){return(t,o)=>{const s=t instanceof Request?t.url:""+t;let n;for(const e of a)if(e.matches(s)){n=e;break}return n?n.add(e,t,o):e(t,o)}}},59428:(e,t,o)=>{o.d(t,{D:()=>c});var s=o(10544),n=o(45839),a=o(13526);const r={classIcon:"StoreIcon-m_classIcon-VWRz2oW7",label:"StoreIcon-m_label-xQM8D1vm",dimmedBg:"StoreIcon-m_dimmedBg-xpPAk0QN"};var i=o(94518);function c({store:e,label:t,useBackground:o}){const c=e.color&&`rgb(${[e.color.red,e.color.green,e.color.blue].map(Math.round).join()})`;return(0,i.jsxs)(i.Fragment,{children:[(0,s.A)("img",{src:o?e.background:e.icon,className:(0,a.A)(e.isVault&&t&&r.dimmedBg),style:{backgroundColor:c??"black"}}),t?(0,s.A)("span",{className:r.label},void 0,t):!e.isVault&&(0,s.A)(n.A,{classType:e.classType,className:r.classIcon})]})}},67294:(e,t,o)=>{o.d(t,{$:()=>s,t:()=>n});const s="<a href='https://url.d2clarity.com/websiteDIM' target='_blank' rel='noopener noreferrer'>Clarity</a>",n="<a href='https://url.d2clarity.com/discordDIM' target='_blank' rel='noopener noreferrer'>Clarity Discord Server</a>"},56876:(e,t,o)=>{o.d(t,{C:()=>n,Z:()=>a});var s=o(61898);const n=(0,s.createAction)("CLARITY/LOAD_DESCRIPTIONS")(),a=(0,s.createAction)("CLARITY/LOAD_CHAR_STATS")()},7398:(e,t,o)=>{o.d(t,{A:()=>h});var s=o(10544),n=o(19654),a=o(66265),r=o(2290),i=o(13526),c=o(8935);const l={communityDescription:"Description-m_communityDescription-g_VUWvTe",pvp:"Description-m_pvp-tg23OMcq",pve:"Description-m_pve-ygrtavcm",green:"Description-m_green-mzy7xx9W",yellow:"Description-m_yellow-p68WFxYm",blue:"Description-m_blue-OBF5uFcH",purple:"Description-m_purple-Foz430gl",enhancedArrow:"Description-m_enhancedArrow-ptohDMNo",center:"Description-m_center-FdxrSGDY",descriptionDivider:"Description-m_descriptionDivider-XEF1I3aT",spacer:"Description-m_spacer-pSVAcxJE",bold:"Description-m_bold-m2YvxviY",background:"Description-m_background-QCumvue4",title:"Description-m_title-q4Y8X0he",link:"Description-m_link-wIEOGXme",breakSpaces:"Description-m_breakSpaces-VWHT69Ot"},d=e=>{if(e.link)return(0,s.A)(a.A,{href:e.link},void 0,e.text)},u=e=>e?.map((e=>l[e])).join(" "),m=/(?:^|\b)[+-]?(?:\d*\.)?\d+(?:[xs]|ms|HP)?(?:[%°+]|\b|$)/g;function h({perk:e,className:t}){const o=(0,c.d4)(n.md);if(void 0===e.descriptions)return null;const a=e.descriptions[o]||e.descriptions.en,h=a?.map(((e,t)=>(0,s.A)("div",{className:u(e.classNames)},t,e.linesContent?.map(((e,t)=>(0,s.A)("span",{className:u(e.classNames)},t,e.link?d(e):function(e){if(void 0===e)return;if("🡅"===e)return"";const t=[],o=[...e.matchAll(m)];let n=0,a=0;for(const r of o){if(void 0===r.index)continue;const o=r[0];t.push(e.substring(n,r.index)),t.push((0,s.A)("b",{},a++,o)),n=r.index+o.length}return n<e.length&&t.push(e.substring(n)),t}(e.text)))))));return(0,s.A)("div",{className:(0,i.A)(l.communityDescription,t)},void 0,(0,s.A)("h3",{},void 0,(0,r.t)("MovePopup.CommunityData")),h)}},97113:(e,t,o)=>{o.d(t,{L:()=>s,_:()=>n});const s=e=>e.clarity.descriptions,n=e=>e.clarity.characterStats},68807:(e,t,o)=>{o.d(t,{L9:()=>i,VF:()=>r,YN:()=>n,Z0:()=>c,m3:()=>a,rU:()=>l});var s=o(61898);const n=(0,s.createAction)("compare/ADD_ITEM")(),a=(0,s.createAction)("compare/REMOVE_ITEM")(),r=(0,s.createAction)("compare/END_SESSION")(),i=(0,s.createAction)("compare/UPDATE_QUERY")(),c=(0,s.createAction)("compare/FILTERED_ITEMS",((e,t,o)=>({query:e,filteredItems:t,initialItem:o})))(),l=(0,s.createAction)("compare/SELECTED_ITEMS")()},87447:(e,t,o)=>{o.d(t,{V:()=>r,j:()=>a});var s=o(2290),n=o(97085);const a=e=>e.replace(RegExp((0,s.t)("Filter.Adept"),"gi"),"").replace(RegExp((0,s.t)("Filter.Timelost"),"gi"),"").replace(RegExp((0,s.t)("Filter.Harrowed"),"gi"),"").trim();function r(e){return e.bucket.inWeapons?"name:"+(0,n.Os)(a(e.name)):"name:"+(0,n.Os)(e.name)}},62194:(e,t,o)=>{o.d(t,{JI:()=>m,Lv:()=>h,NS:()=>u,Sk:()=>y,VC:()=>f,zr:()=>p});var s=o(30671),n=o(62447),a=o(44404),r=o(92298),i=o(11519),c=o(18604),l=o(75062),d=o(63150);const u=e=>e.compare.session,m=e=>u(e)?.query,h=e=>!!u(e),p=(0,d.Mz)((e=>e.compare.session?.itemCategoryHashes),n.V0,l.Zd,((e,t,o)=>e?[...t,...o].filter((t=>(!t.vendor||t.vendor.vendorHash)&&e.every((e=>t.itemCategoryHashes.includes(e))))):(0,i.tR)())),f=(0,c.d)((0,d.Mz)(u,p,r.OL,((e,t,o)=>{if(!e)return(0,i.tR)();const s=o(e.query);return t.filter(s)}))),g=[23,22,21,20,1,39],y=(0,d.Mz)(s.sZ,u,((e,t)=>{if(t&&e&&g.includes(t.itemCategoryHashes[0]))return`${(0,a.f)(e)}/organizer?category=${t.itemCategoryHashes.join("~")}&search=${encodeURIComponent(t.query)}`}))},11969:(e,t,o)=>{o.d(t,{W:()=>s});const s={Postmaster:[215593132,1367666825,3161908920],Weapons:[1498876634,2465295065,953998645],Armor:[3448274439,3551918588,14239492,20886954,1585787867],General:[3284755031,434908299,4023194814,1469714392,3865314626,3313201758,4274335291,2973005342,1107761855,284967655,2025709351,3796357825],Progress:[2197472680,1801258597,375726501]}},73799:(e,t,o)=>{o.d(t,{o:()=>a,y:()=>c});var s=o(36871),n=o(11969);const a={3003523923:"Armor",4046403665:"Weapons",138197802:"General"},r={Armor:3003523923,Weapons:4046403665,General:138197802},i={};for(const[e,t]of Object.entries(n.W))for(const o of t)i[o]=e;function c(e){const t={byHash:{},byCategory:{},unknown:{description:"Unknown items. DIM needs a manifest update.",name:"Unknown",hash:-1,equippable:!1,hasTransferDestination:!1,category:1,capacity:Number.MAX_SAFE_INTEGER,sort:"Unknown",accountWide:!1},setHasUnknown(){this.byCategory[this.unknown.sort]=[this.unknown]}};for(const o of Object.values(e.InventoryBucket.getAll()))if(o.enabled){const e=i[o.hash]??a[o.hash],s={description:o.bucketDescription,name:o.bucketName,hash:o.hash,equippable:3===o.category,hasTransferDestination:o.hasTransferDestination,capacity:o.itemCount,accountWide:!1,category:1,sort:e};e&&(s["in"+e]=!0),t.byHash[s.hash]=s}for(const e of Object.values(t.byHash))e.sort&&r[e.sort]&&r[e.sort]!==e.hash&&(e.vaultBucket=t.byHash[r[e.sort]]);for(const[e,o]of Object.entries(n.W))t.byCategory[e]=(0,s.x1)(o,(e=>t.byHash[e]));return t}},58337:(e,t,o)=>{o.d(t,{v:()=>x});var s=o(44155),n=o(58379),a=o(4755),r=(o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060),o(61441)),i=o(40768),c=o(19654),l=o(2290),d=o(49662),u=o(97098),m=o(50507),h=o(69063),p=o(95840),f=o(73618),g=o(14231),y=o(73835);const v="manifest",b=new Set(["en","fr","es","de","it","ja","pt-br"]),A="d1-manifest-version",k="d1-manifest";let w=null;const I=(0,f.P)((e=>e((async e=>{e((0,d.pS)((0,l.t)("Manifest.Load")));try{const t=await e((async(e,t)=>{await y.z;const o=(0,c.t2)(t()).language,s=`/data/d1/manifests/d1-manifest-${b.has(o)?o:"en"}.json?v=2021-12-05`;w=s;try{return await async function(e){const t=localStorage.getItem(A);if(t===e){const e=await(0,u.Jt)(k);if(!e)throw Error("Empty cached manifest file");return e}throw Error(`version mismatch: ${e} ${t}`)}(w)}catch{return e(function(e,t){return async o=>{o((0,d.pS)((0,l.t)("Manifest.Download")));try{const o=await fetch(t),s=await(o.ok?o.json():Promise.reject(await(0,i.YX)(o)));return async function(e,t){try{await(0,u.hZ)(k,e),(0,p.zh)(v,"Successfully stored manifest file."),localStorage.setItem(A,t)}catch(e){(0,p.PT)(v,"Error saving manifest file",e),(0,g.Ds)({title:(0,l.t)("Help.NoStorage"),body:(0,l.t)("Help.NoStorageMessage"),type:"error"})}}(s,e),s}catch(e){(0,r.ug)(e)}finally{o((0,d.MH)((0,l.t)("Manifest.Download")))}}}(w,s))}}));if(!t.DestinyVendorDefinition)throw Error("Manifest corrupted, please reload");return t}catch(e){let t=(0,h.n)(e);throw t instanceof m.X&&t.cause&&(t=t.cause),t.cause instanceof TypeError||t.cause instanceof i.F9||(localStorage.removeItem(A),(0,u.yH)(k)),(0,p.PT)(v,"Manifest loading error",t),(0,s.U)("manifest load",t),new m.X("Manifest.Error",(0,l.t)("Manifest.Error",{error:t.message})).withError(t)}finally{e((0,d.MH)((0,l.t)("Manifest.Load")))}})))),S=["InventoryBucket","Class","Race","Faction","Vendor","InventoryItem","Objective","Stat","TalentGrid","Progression","Record","ItemCategory","VendorCategory","RecordBook","Activity","ActivityType","DamageType"];function x(e=!1){return async(t,o)=>{let r=o().manifest.d1Manifest;if(r&&!e)return r;const i=await t(I);if(r=o().manifest.d1Manifest,r&&!e)return r;const c={isDestiny2:!1};for(const e of S){const t=`Destiny${e}Definition`,o=i[t];c[e]={get(e,a){if(!o)throw Error(`Table ${t} does not exist in the manifest`);const r=o[e];if(!r){const o="object"==typeof a?a.hash:a+"";(0,s.U)("hashLookupFailureD1",new n.x(t,e),{requestingEntryInfo:o,failedHash:e,failedComponent:t})}return r},getAll:()=>o}}return t((0,a.b3)(c)),c}}},11931:(e,t,o)=>{o.d(t,{A:()=>c,d:()=>l});var s=o(65);const n={969832704:"Future War Cult",27411484:"Dead Orbit",2954371221:"New Monarchy"},a={2669659850:"Future War Cult",2794386410:"Dead Orbit",652505621:"New Monarchy"},r={489342053:"Future War Cult",2397602219:"Dead Orbit",3197190122:"New Monarchy"};function i(e){const t=(0,s.VS)(e,375726501).find((e=>n[e.hash]));return t?n[t.hash]??null:null}function c(e,t){if(!t.talentGrid)return!0;const o=t.talentGrid.nodes.find((e=>a[e.hash]));return!o||a[o.hash]===i(e)}function l(e,t){return i(e)===r[t]}},90699:(e,t,o)=>{o.d(t,{j:()=>s});const s={Postmaster:[375726501,215593132,3161908920,1367666825],Weapons:[1498876634,2465295065,953998645],Armor:[3448274439,3551918588,14239492,20886954,1585787867],General:[3284755031,4023194814,4274335291,284967655,2025709351,1107761855,3683254069,1506418338],Inventory:[687325600,1469714392,3313201758]}},7428:(e,t,o)=>{o.d(t,{v6:()=>u});var s=o(5555),n=o(38654),a=o(95840),r=o(44155),i=o(4755),c=o(43688),l=o(58379);const d=["InventoryItem","Objective","SandboxPerk","Stat","StatGroup","DamageType","Progression","ItemCategory","Activity","ActivityModifier","Vendor","SocketCategory","SocketType","MaterialRequirementSet","Season","SeasonPass","Milestone","Destination","Place","VendorGroup","PlugSet","Collectible","PresentationNode","Record","Metric","Trait","BreakerType","EventCard","LoadoutName","LoadoutIcon","LoadoutColor","InventoryBucket","Class","Gender","Race","Faction","ActivityMode","LoadoutConstants"];function u(e=!1){return async(t,o)=>{let u=(0,n.v2)(o());if(u&&!e)return u;const m=await t((0,c.c2)(d));if(u=(0,n.v2)(o()),u&&!e)return u;const h=function(e){!function(e){e.DestinyItemCategoryDefinition[-153950757]={...e.DestinyItemCategoryDefinition[153950757]}}(e);const t={isDestiny2:!0};for(const o of d){const n=`Destiny${o}Definition`,i=e[n];if(!i)throw Error(`Table ${n} does not exist in the manifest`);t[o]={get(e,t){const o=i[e];if(!o)if(e<1||!Number.isSafeInteger(e)){const o="object"==typeof t?t.hash:t;(0,r.U)("invalidHash",new l.x(n,e),{requestingEntryInfo:o,failedHash:e,failedComponent:n})}else e!==s.Ou&&(0,a.i3)("hashLookupFailure",`${n}[${e}]`,t);return o},getOptional:e=>i[e],getAll:()=>i}}return t}(m);return t((0,i.kJ)(h)),h}}},16287:(e,t,o)=>{o.d(t,{D:()=>_,j:()=>V}),o(27350);var s=o(30671),n=o(29986),a=o(82821),r=o(87362),i=o(2290),c=o(14231),l=o(37652),d=o(73835),u=o(61938),m=o(97098),h=o(2430),p=o(69063),f=o(95840),g=o(73618),y=o(74136),v=o(71258),b=o(68284),A=o(70262),k=o(11451),w=o(10544),I=o(70143),S=o(60440);o(18374);const x={buttons:"api-permission-prompt-m_buttons-LXEXiZpg common-m_flexRow-ZPndn63a"};var T,N=o(94518),C=o(69260),H=o(19654);const P="dim sync",D=(0,y.O)((e=>{e((0,h.lB)({id:"api-permission-observer",runInitially:!0,getObserved:e=>e.dimApi.apiPermissionGranted,sideEffect:({current:e})=>{null!==e&&localStorage.setItem("dim-api-enabled",e?"true":"false")}}))})),M=(0,y.O)((e=>{e((0,h.lB)({id:"profile-observer",getObserved:e=>e.dimApi,sideEffect:(0,v.s)((({previous:e,current:t})=>{if(e?.profileLoadedFromIndexedDb&&(t.settings!==e.settings||t.profiles!==e.profiles||t.updateQueue!==e.updateQueue||t.itemHashTags!==e.itemHashTags||t.searches!==e.searches)){const e={settings:function(e,t){const o={};if(e)for(const s in t)void 0===e[s]||(0,b.bD)(e[s],t[s])||(o[s]=e[s]);return o}(t.settings,l.j),profiles:t.profiles,updateQueue:t.updateQueue,itemHashTags:t.itemHashTags,searches:t.searches};(0,f.zh)(P,"Saving profile data to IDB"),(0,m.hZ)("dim-api-profile",e)}}),1e3)})),e((0,h.lB)({id:"queue-observer",getObserved:e=>e.dimApi.updateQueue,sideEffect:(0,v.s)((({current:t})=>{t.length&&e(O())}),1e3)})),u.k.subscribe((()=>e(V())))}));function E(e){return Math.max(1e4,Math.min(6e5,Math.random()*Math.pow(2,e)*3e4))}let R=0,L=!1;function V(e=!1){return async(t,o)=>{D(t);const l=t((async(e,t)=>{if(t().dimApi.profileLoadedFromIndexedDb)return;const o=await(0,m.Jt)("dim-api-profile");e((0,C.At)(o))})),u=t((async(e,t)=>{if(!t().dimApi.globalSettingsLoaded)try{const t=await(0,k.fv)();(0,f.zh)(P,"globalSettings",t),e((0,C.up)(t))}catch(e){(0,f.PT)(P,"Failed to load global settings from DIM API",e)}}));if(L)return;const h=!!(0,r.gf)();if(null===o().dimApi.apiPermissionGranted&&h){L=!0;try{const e=await function(){let e;const t=new Promise((t=>{e=t}));return(0,c.Ds)({type:"success",onClick:()=>!1,promise:t,duration:0,title:(0,i.t)("Storage.ApiPermissionPrompt.Title"),body:(0,N.jsxs)(N.Fragment,{children:[(0,w.A)("div",{},void 0,(0,i.t)("Storage.ApiPermissionPrompt.Description")),(0,w.A)("div",{className:x.buttons},void 0,(0,w.A)(I.A,{onClick:async t=>{t.preventDefault(),e(!0)}},void 0,T||(T=(0,w.A)(S.z9,{icon:S.e6}))," ",(0,i.t)("Storage.ApiPermissionPrompt.Yes")),(0,w.A)(I.A,{onClick:t=>{t.preventDefault(),e(!1)}},void 0,(0,i.t)("Storage.ApiPermissionPrompt.No")))]})}),t}();t((0,C.Jo)(e))}finally{L=!1}}const y=t(A.rR);if(await l,M(t),await u,!o().dimApi.apiPermissionGranted||!o().dimApi.globalSettings.dimApiEnabled)return void(0,d.k)();if(o().dimApi.updateQueue.length>0)try{return void await t(O())}catch{}if(await y,!(0,s.q6)(o()).length)return;const v=(0,s.sZ)(o()),b=(q=o().dimApi,_=v,Date.now()-(_?q.profiles[(0,H.un)(_)]?.profileLastLoaded??0:q.profileLastLoaded)>1e3*o().dimApi.globalSettings.dimProfileMinimumRefreshInterval);var q,_;if(e||b)try{const e=await(0,k.yN)(v);t((0,C.BR)({profileResponse:e,account:v})),R=Math.floor(R/2)}catch(s){if(s instanceof n.UV)return;o().dimApi.profileLoadedError||function(e){(0,c.Ds)((0,a.p)((0,i.t)("Storage.ProfileErrorTitle"),(0,i.t)("Storage.ProfileErrorBody"),(0,p.g)(e)))}(s);const r=(0,p.n)(s);t((0,C.iO)(r)),(0,f.PT)(P,"Unable to get profile from DIM API",r),R++;const l=E(R);(0,f.zh)(P,"Waiting",l,"ms before re-attempting profile fetch"),(0,g.c)(l).then((()=>t(V(e))))}finally{(0,d.k)()}else(0,d.k)();await t(O())}}let q=0;function O(){return async(e,t)=>{let o=t().dimApi;if(!o.globalSettings.dimApiEnabled)return;if(0!==o.updateInProgressWatermark||0===o.updateQueue.length)return;if(e((0,C.LR)()),o=t().dimApi,0===o.updateInProgressWatermark)return;(0,f.zh)(P,"Flushing queue of",o.updateInProgressWatermark,"updates");const s=o.updateQueue.slice(0,o.updateInProgressWatermark);try{const n=s.find((e=>e.platformMembershipId))||s[0],a=await(0,k.tV)(n.platformMembershipId,n.destinyVersion,s);q=Math.floor(q/2),e((0,C.Fp)(a)),o=t().dimApi,o.updateQueue.length>0?e(O()):o.profileLoaded||e(V())}catch(t){0===q&&function(e){(0,c.Ds)((0,a.p)((0,i.t)("Storage.UpdateErrorTitle"),(0,i.t)("Storage.UpdateErrorBody"),(0,p.g)(e)))}(t),(0,f.PT)(P,"Unable to save updates to DIM API",t),q++;const o=E(q);throw(async()=>{(0,f.zh)(P,"Waiting",o,"ms before re-attempting updates"),await(0,g.c)(o),e((0,C._i)()),e(O())})(),t}}}function _(){return async(e,t)=>{const o=await(0,k.Dj)();return(0,H.i$)(t())&&e((0,C.xE)()),o}}},69260:(e,t,o)=>{o.d(t,{At:()=>i,BR:()=>a,Fp:()=>p,Jd:()=>c,Jo:()=>f,LR:()=>m,Mw:()=>u,OY:()=>l,_i:()=>h,iO:()=>r,kd:()=>d,up:()=>n,xE:()=>g});var s=o(61898);const n=(0,s.createAction)("dim-api/GLOBAL_SETTINGS_LOADED")(),a=(0,s.createAction)("dim-api/PROFILE_LOADED")(),r=(0,s.createAction)("dim-api/PROFILE_ERROR")(),i=(0,s.createAction)("dim-api/LOADED_PROFILE_FROM_IDB")(),c=(0,s.createAction)("dim-api/TRACK_TRIUMPH")(),l=(0,s.createAction)("dim-api/SEARCH_USED")(),d=(0,s.createAction)("dim-api/SAVE_SEARCH")(),u=(0,s.createAction)("dim-api/DELETE_SEARCH")(),m=(0,s.createAction)("dim-api/PREPARE_UPDATES")(),h=(0,s.createAction)("dim-api/UPDATES_FAILED")(),p=(0,s.createAction)("dim-api/FINISHED_UPDATES")(),f=(0,s.createAction)("dim-api/SET_API_PERMISSION")(),g=(0,s.createAction)("dim-api/ALL_DATA_DELETED")()},32140:(e,t,o)=>{o.d(t,{Cc:()=>l,Lq:()=>r,gf:()=>d,ph:()=>c,rt:()=>u});var s=o(29986),n=o(73618);const a="https://api.destinyitemmanager.com",r="81f1da78-60b0-4d60-b60c-83c20ff814eb",i="dimApiToken";async function c(e,t){if(!t&&!r)throw Error("No DIM API key configured");let o=`${a}${e.url}`;e.params&&(o=`${o}?${""+new URLSearchParams(e.params)}`);const n={};e.body&&(n["Content-Type"]="application/json"),t||(n["X-API-Key"]=r),n["X-DIM-Version"]="8.50.0.3686";const i=await fetch(new Request(o,{method:e.method,body:e.body?JSON.stringify(e.body):void 0,headers:n}));if(401===i.status)throw u(),new s.UV("Unauthorized call to "+e.url);if(i.ok)return i.json();let c;try{c=await i.json()}catch{}if(c?.error)throw Error(`${c.error}: ${c.message}`);throw Error("Failed to call DIM API: "+i.status)}async function l(e){if(!r)throw Error("No DIM API key configured");const t=await async function(){const e=d();return!e||function(e){if(!e)return!0;const t=e.inception+1e3*e.expiresInSeconds;return Date.now()>t}(e)?m():e}();let o=`${a}${e.url}`;e.params&&(o=`${o}?${""+new URLSearchParams(e.params)}`);const s={Authorization:"Bearer "+t.accessToken,"X-API-Key":r,"X-DIM-Version":"8.50.0.3686"};e.body&&(s["Content-Type"]="application/json");const n=await fetch(new Request(o,{method:e.method,body:e.body?JSON.stringify(e.body):void 0,headers:s}));if(401===n.status&&u(),n.ok)return n.json();let i;try{i=await n.json()}catch{}if(i?.error)throw Error(`${i.error}: ${i.message}`);throw Error("Failed to call DIM API: "+n.status)}function d(){const e=localStorage.getItem(i);return e?JSON.parse(e):void 0}function u(){localStorage.removeItem(i)}const m=(0,n.P)((async()=>{const e=await(0,s.yl)(),t={bungieAccessToken:e.accessToken.value,membershipId:e.bungieMembershipId};try{const e=await c({url:"/auth/token",method:"POST",body:t});return e.inception=Date.now(),localStorage.setItem(i,JSON.stringify(e)),e}catch(e){throw e}}))},11451:(e,t,o)=>{o.d(t,{Dj:()=>d,IE:()=>l,Qx:()=>r,WH:()=>c,fv:()=>n,tV:()=>i,yN:()=>a,zB:()=>u});var s=o(32140);async function n(){return(await(0,s.ph)({url:"/platform_info?flavor=beta",method:"GET"},!0)).settings}async function a(e){return(0,s.Cc)({url:"/profile",method:"GET",params:e?{platformMembershipId:e.membershipId,destinyVersion:""+e.destinyVersion,components:"settings,loadouts,tags,hashtags,searches,triumphs"}:{components:"settings"}})}async function r(e){return(0,s.Cc)({url:"/import",method:"POST",body:e})}async function i(e,t,o){o=o.map((e=>({action:e.action,payload:e.payload})));const n=e&&t?{platformMembershipId:e,destinyVersion:t,updates:o}:{updates:o};return(await(0,s.Cc)({url:"/profile",method:"POST",body:n})).results}async function c(e,t){const o={platformMembershipId:e,loadout:t};return(await(0,s.Cc)({url:"/loadout_share",method:"POST",body:o})).shareUrl}async function l(e){const t={shareId:e};return(await(0,s.ph)({url:"/loadout_share",method:"GET",params:t})).loadout}async function d(){return(await(0,s.Cc)({url:"/delete_all_data",method:"POST"})).deleted}async function u(){return(0,s.Cc)({url:"/export",method:"GET"})}},56400:(e,t,o)=>{o.d(t,{Nl:()=>N,SU:()=>R,ue:()=>T}),o(8068),o(10131),o(77012),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(24367),n=o(2290),a=o(75816),r=o(14231),i=o(20301),c=o(59816),l=o(92298),d=o(88428),u=o(36871),m=o(11519),h=o(95840),p=o(44155),f=o(58808),g=o(87912),y=o(68284),v=o(28233),b=o(61898),A=o(50784),k=o(29368),w=o(24379),I=o(37652),S=o(69260),x=o(19654);const T={globalSettingsLoaded:!1,globalSettings:{...s._0,showIssueBanner:!1},apiPermissionGranted:function(){const e=localStorage.getItem("dim-api-enabled");return null===e?null:"true"===e}(),profileLoaded:!1,profileLoadedFromIndexedDb:!1,profileLastLoaded:0,settings:I.j,itemHashTags:{},profiles:{},searches:{1:[],2:[]},updateQueue:[],updateInProgressWatermark:0},N=(e=T,t,o)=>{switch(t.type){case(0,b.getType)(S.up):return{...e,globalSettingsLoaded:!0,globalSettings:{...e.globalSettings,...t.payload}};case(0,b.getType)(S.At):{e.updateQueue&&(e=e.updateQueue.toReversed().reduce(((e,t)=>(0,v.jM)(e,(e=>q(e,t)))),e));const o=t.payload?[...t.payload.updateQueue??[],...e.updateQueue]:[];return e=o.reduce(((e,t)=>(0,v.jM)(e,(e=>V(e,t)))),e),t.payload?C({...e,profileLoadedFromIndexedDb:!0,settings:{...e.settings,...t.payload.settings},profiles:{...e.profiles,...t.payload.profiles},updateQueue:o,itemHashTags:t.payload.itemHashTags||T.itemHashTags,searches:{...e.searches,...t.payload.searches}}):{...e,profileLoadedFromIndexedDb:!0}}case(0,b.getType)(S.BR):{const{profileResponse:o,account:s}=t.payload,n=s?(0,x.un)(s):"",a=s?e.profiles[n]:void 0,r=C({...e,profileLoaded:!0,profileLoadedError:void 0,profileLastLoaded:Date.now(),settings:{...e.settings,...o.settings},itemHashTags:o.itemHashTags?(0,g.p)(o.itemHashTags,(e=>e.hash)):e.itemHashTags,profiles:s?{...e.profiles,[n]:{profileLastLoaded:Date.now(),loadouts:o.loadouts?(0,g.p)(o.loadouts,(e=>e.id)):a?.loadouts??{},tags:o.tags?(0,g.p)(o.tags,(e=>e.id)):a?.tags??{},triumphs:o.triumphs?o.triumphs.map((e=>parseInt(""+e,10))):a?.triumphs??[]}}:e.profiles,searches:s&&o.searches?{...e.searches,[s.destinyVersion]:o.searches||[]}:e.searches});return s&&o.searches?.length&&!e.searches[s.destinyVersion].length?(0,v.jM)(r,(e=>function(e,t){if(!e.searches[t.destinyVersion].filter((e=>!e.saved&&e.usageCount>0)).length)return;const o=(0,l.ld)(t.destinyVersion);for(const s of e.searches[t.destinyVersion]){if(s.saved||s.usageCount<=0)continue;const{saveInHistory:n}=(0,d.JW)(s.query,o,{customStats:e.settings.customStats??[]});n||E(t,e,s.query,s.type)}}(e,s))):r}case(0,b.getType)(S.iO):return{...e,profileLoadedError:t.payload};case(0,b.getType)(S.Jo):{const o=t.payload;return o?{...e,apiPermissionGranted:o}:{...e,apiPermissionGranted:o,profileLoaded:!1,updateQueue:[],updateInProgressWatermark:0}}case(0,b.getType)(S.LR):return function(e){return(0,v.jM)(e,(t=>{if(!1===e.apiPermissionGranted)return t.updateQueue=(0,m.tR)(),void(t.updateInProgressWatermark=0);let o,s;const n={},a=[];for(const e of t.updateQueue){if(o||s){if(e.platformMembershipId&&(e.platformMembershipId!==o||e.destinyVersion!==s)){a.push(e);continue}}else o=e.platformMembershipId,s=e.destinyVersion;D(n,e)}t.updateQueue=Object.values(n),t.updateInProgressWatermark=t.updateQueue.length,t.updateQueue.push(...a)}))}(e);case(0,b.getType)(S.xE):return{...e,profiles:T.profiles,settings:T.settings,updateQueue:[],updateInProgressWatermark:0};case(0,b.getType)(S.Fp):return function(e,t){const o=Math.min(e.updateInProgressWatermark,t?.length||0);for(let s=0;s<o;s++){const o=e.updateQueue[s],a=t[s];let i="unknown";switch(o.action){case"search":case"delete_search":case"save_search":i=o.payload.query;break;case"delete_loadout":i=o.payload;break;case"tag":i=`${o.payload.id}: ${o.before?.tag}/${o.before?.notes} => ${o.payload.tag}/${o.payload.notes}`;break;case"item_hash_tag":i=`${o.payload.hash}: ${o.before?.tag}/${o.before?.notes} => ${o.payload.tag}/${o.payload.notes}`;break;case"tag_cleanup":i=""+o.payload.length;break;case"loadout":i=o.payload.name;break;case"track_triumph":i=""+o.payload.recordHash}"Success"!==a.status&&"NotFound"!==a.status?((0,r.Ds)({type:"error",title:(0,n.t)("Storage.UpdateInvalid"),body:`${"loadout"===o.action&&o.payload?(0,n.t)("Storage.UpdateInvalidBodyLoadout",{name:o.payload.name}):(0,n.t)("Storage.UpdateInvalidBody")}\n\n${a.status}(${i}): ${a.message}`}),(0,h.PT)("dim sync",o.action,a.status,i,a.message,o),(0,p.U)("dim sync",Error("invalid dim api update"),{action:o.action,status:a.status,message:a.message,update:o,resultMessage:a.message}),e=(0,v.jM)(e,(e=>q(e,o)))):(0,h.zh)("dim sync",o.action,a.status,i,o)}return{...e,updateQueue:e.updateQueue.toSpliced(0,e.updateInProgressWatermark),updateInProgressWatermark:0}}(e,t.payload);case(0,b.getType)(S._i):return{...e,updateInProgressWatermark:0};case(0,b.getType)(w.lH):return H(e,t.payload.property,t.payload.value);case(0,b.getType)(w.Tj):return H(e,"collapsedSections",{...e.settings.collapsedSections,[t.payload]:!e.settings.collapsedSections[t.payload]});case(0,b.getType)(w.Yc):{const o=t.payload;return H(e,"customCharacterSort",e.settings.customCharacterSort.filter((e=>!o.includes(e))).concat(o))}case(0,b.getType)(f._$):return H(e,"wishListSource","");case(0,b.getType)(k.Q8):return function(e,t){return(0,v.jM)(e,(e=>{let o,s;for(const n in e.profiles){const a=e.profiles[n]?.loadouts;if(a[t]){o=n,s=a[t];break}}if(!s||!o)return;const[n,a]=R(o),r={action:"delete_loadout",payload:t,before:s,platformMembershipId:n,destinyVersion:a};V(e,r),e.updateQueue.push(r)}))}(e,t.payload);case(0,b.getType)(k.Ez):return function(e,t,o){if("equipped"===t.id)throw Error("You have to change the ID before saving the equipped loadout");return(0,v.jM)(e,(e=>{const s=L(e,(0,x.$m)(o.membershipId,o.destinyVersion)).loadouts,n={action:"loadout",payload:(0,a.b)(t),platformMembershipId:o.membershipId,destinyVersion:o.destinyVersion,before:s[t.id]};V(e,n),e.updateQueue.push(n)}))}(e,t.payload,o);case(0,b.getType)(A.IB):{const{itemId:s,tag:n,craftedDate:a}=t.payload;return(0,v.jM)(e,(e=>{M(e,s,n,a,o)}))}case(0,b.getType)(A.vF):return(0,v.jM)(e,(e=>{for(const s of t.payload)M(e,s.itemId,s.tag,s.craftedDate,o)}));case(0,b.getType)(A.sL):{const{itemId:s,note:n,craftedDate:a}=t.payload;return(0,v.jM)(e,(e=>{!function(e,t,o,s,n){if(!t||"0"===t)return void(0,h.PT)("setNote","Cannot note a non-instanced item. Use setItemHashNote instead");const a=L(e,(0,x.un)(n)).tags[t],r={action:"tag",payload:{id:t,notes:o||null,craftedDate:s??a?.craftedDate},before:a?{id:t,notes:a.notes||null}:{id:t,notes:null},platformMembershipId:n.membershipId,destinyVersion:n.destinyVersion};V(e,r),e.updateQueue.push(r)}(e,s,n,a,o)}))}case(0,b.getType)(A.bL):return function(e,t,o){return e.profileLoaded?(0,v.jM)(e,(e=>{const s={action:"tag_cleanup",payload:t,platformMembershipId:o.membershipId,destinyVersion:o.destinyVersion,before:void 0};V(e,s),e.updateQueue.push(s)})):e}(e,t.payload,o);case(0,b.getType)(A.y6):return(0,v.jM)(e,(e=>{!function(e,t,o,s){const n=e.itemHashTags[t];if(o){if(n?.tag===o)return}else if(!n?.tag)return;const a={action:"item_hash_tag",payload:{hash:t,tag:o??null},before:n?{hash:t,tag:n.tag??null}:{hash:t,tag:null},platformMembershipId:s.membershipId,destinyVersion:s.destinyVersion};V(e,a),e.updateQueue.push(a)}(e,t.payload.itemHash,t.payload.tag,o)}));case(0,b.getType)(A.Cg):return(0,v.jM)(e,(e=>{!function(e,t,o,s){const n=e.itemHashTags[t],a={action:"item_hash_tag",payload:{hash:t,notes:o||null},before:n?{hash:t,notes:n.notes||null}:{hash:t,notes:null},platformMembershipId:s.membershipId,destinyVersion:s.destinyVersion};V(e,a),e.updateQueue.push(a)}(e,t.payload.itemHash,t.payload.note,o)}));case(0,b.getType)(S.OY):return(0,v.jM)(e,(e=>{!function(e,t,o,s){const n=t.destinyVersion,a=(0,l.ld)(n),{canonical:r,saveInHistory:c}=(0,d.JW)(o,a,{customStats:e.settings.customStats??[]});if(!c)return void(0,h.PT)("searchUsed","Query not eligible to be saved in history",o);const m={action:"search",payload:{query:o=r,type:s},before:void 0,platformMembershipId:t.membershipId,destinyVersion:t.destinyVersion};V(e,m),e.updateQueue.push(m);const p=e.searches[n];if(p.length>300){const o=p.toSorted(i.AO),s=(0,u.U9)(o,(e=>e.usageCount<=0));for(;o.length>300-s;){const s=o.pop();!s.saved&&s.usageCount>0&&E(t,e,s.query,s.type)}}}(e,o,t.payload.query,t.payload.type)}));case(0,b.getType)(S.kd):return(0,v.jM)(e,(e=>{!function(e,t,o,s,n){const a=e.destinyVersion,r=(0,l.ld)(a),{canonical:i,saveable:c}=(0,d.JW)(o,r,{customStats:t.settings.customStats??[]});if(!c&&s)return void(0,h.PT)("searchUsed","Query not eligible to be saved",o);if(o=i,!t.searches[a].find((e=>e.query===o))&&c){const s={action:"search",payload:{query:o,type:n},before:void 0,platformMembershipId:e.membershipId,destinyVersion:e.destinyVersion};V(t,s),t.updateQueue.push(s)}const u={action:"save_search",payload:{query:o,saved:s,type:n},before:{query:o,saved:!s,type:n},platformMembershipId:e.membershipId,destinyVersion:e.destinyVersion};V(t,u),t.updateQueue.push(u)}(o,e,t.payload.query,t.payload.saved,t.payload.type)}));case(0,b.getType)(S.Mw):return(0,v.jM)(e,(e=>{E(o,e,t.payload.query,t.payload.type)}));case(0,b.getType)(S.Jd):return(0,v.jM)(e,(e=>{!function(e,t,o,s){const n={action:"track_triumph",payload:{recordHash:o,tracked:s},before:{recordHash:o,tracked:!s},platformMembershipId:t.membershipId,destinyVersion:t.destinyVersion};V(e,n),e.updateQueue.push(n)}(e,o,t.payload.recordHash,t.payload.tracked)}));default:return e}};function C(e){"string"==typeof e.settings.charCol&&(e=H(e,"charCol",parseInt(e.settings.charCol,10))),"string"==typeof e.settings.charColMobile&&(e=H(e,"charColMobile",parseInt(e.settings.charColMobile,10))),"string"==typeof e.settings.inventoryClearSpaces&&(e=H(e,"inventoryClearSpaces",parseInt(e.settings.inventoryClearSpaces,10))),"string"==typeof e.settings.itemSize&&(e=H(e,"itemSize",parseInt(e.settings.itemSize,10))),void 0===e.settings.itemFeedWatermark&&(e=H(e,"itemFeedWatermark",I.j.itemFeedWatermark));const t=[...new Set(e.settings.itemSortOrderCustom||[])],o=[...new Set(e.settings.itemSortReversals||[])];t.includes("element")&&t.splice(t.indexOf("element"),1,"elementWeapon","elementArmor"),t.length!==(e.settings.itemSortOrderCustom?.length??0)&&(e=H(e,"itemSortOrderCustom",t)),o.includes("element")&&o.splice(o.indexOf("element"),1,"elementWeapon","elementArmor"),o.length!==(e.settings.itemSortReversals?.length??0)&&(e=H(e,"itemSortReversals",o));const s=e.settings.customTotalStatsByClass;if(!(0,u.Im)(s)){const t=[...e.settings.customStats];for(const e in s){const o=parseInt(e,10),a=s[o];if(3!==o&&a?.length>0){const e={};for(const t of a)e[t]=1;t.push({label:(0,n.t)("Stats.Custom"),shortLabel:"custom",class:o,weights:e,statHash:c.Jn+1+o})}}e=H(e,"customStats",t),e=H(e,"customTotalStatsByClass",{})}if(e.settings.customStats.length){const t=(0,u.hS)(e.settings.customStats,(e=>e.statHash));t.length!==e.settings.customStats.length&&(e=H(e,"customStats",t))}return e}function H(e,t,o){return(0,y.bD)(e.settings[t],o)?e:(0,v.jM)(e,(e=>{const s=e.settings[t],n={action:"setting",payload:{[t]:o},before:{[t]:s}};V(e,n),e.updateQueue.push(n)}))}let P=0;function D(e,t){let o;switch(t.action){case"setting":case"tag_cleanup":o=t.action;break;case"loadout":case"tag":o=`${t.action}-${t.payload.id}`;break;case"delete_loadout":o="loadout-"+t.payload;break;case"save_search":o=`${t.action}-${t.payload.query}`;break;case"item_hash_tag":o=`${t.action}-${t.payload.hash}`;break;case"track_triumph":o=`${t.action}-${t.payload.recordHash}`;break;case"search":case"delete_search":o="unique-"+P++}const s=e[o];if(!s)return void(e[o]=t);let n;switch(t.action){case"setting":if("setting"===s.action){const e={...s.payload,...t.payload},o={...t.before,...s.before};for(const t in e){const s=t;e[s]===o[s]&&(delete e[s],delete o[s])}if((0,u.Im)(e))break;n={...s,payload:e,before:o}}break;case"tag_cleanup":"tag_cleanup"===s.action&&(n={...s,payload:[...new Set([...s.payload,...t.payload])]});break;case"loadout":"loadout"===s.action?n={...s,payload:t.payload}:"delete_loadout"===s.action&&(n={...t,before:s.before});break;case"delete_loadout":if("loadout"===s.action){if(!s.before)break;n={...t,before:s.before}}else"delete_loadout"===s.action&&(n=s);break;case"tag":"tag"===s.action&&(n={...s,payload:{...s.payload,...t.payload},before:{...t.before,...s.before}});break;case"item_hash_tag":"item_hash_tag"===s.action&&(n={...s,payload:{...s.payload,...t.payload},before:{...t.before,...s.before}});break;case"track_triumph":"track_triumph"===s.action&&(n={...s,payload:{...s.payload,...t.payload},before:s.before});break;case"save_search":"save_search"===s.action&&(n={...s,payload:{...s.payload,...t.payload},before:s.before})}n?e[o]=n:delete e[o]}function M(e,t,o,s,n){if(!t||"0"===t)return void(0,h.PT)("setTag","Cannot tag a non-instanced item. Use setItemHashTag instead");const a=L(e,(0,x.un)(n)).tags[t];if(o){if(a?.tag===o)return}else if(!a?.tag)return;const r={action:"tag",payload:{id:t,tag:o??null,craftedDate:s??a?.craftedDate},before:a?{id:t,tag:a.tag??null}:{id:t,tag:null},platformMembershipId:n.membershipId,destinyVersion:n.destinyVersion};V(e,r),e.updateQueue.push(r)}function E(e,t,o,s){const n=e.destinyVersion,a=(0,l.ld)(n),{canonical:r}=(0,d.JW)(o,a,{customStats:t.settings.customStats??[]});o=r;const i=t.searches[n].find((e=>e.query===o)),c={action:"delete_search",payload:{query:o,type:s},before:{query:o,saved:i?.saved??!1,type:s},platformMembershipId:e.membershipId,destinyVersion:e.destinyVersion};V(t,c),t.updateQueue.push(c)}function R(e){const t=e.match(/(\d+)-d(1|2)/);if(!t)throw Error("Profile key didn't match expected format");return[t[1],parseInt(t[2],10)]}function L(e,t){return e.profiles[t]||(e.profiles[t]={profileLastLoaded:0,loadouts:{},tags:{},triumphs:[]}),e.profiles[t]}function V(e,t){switch(t.action){case"setting":Object.assign(e.settings,t.payload);break;case"search":{const{destinyVersion:o}=t,{query:s,type:n}=t.payload,a=e.searches[o],r=a.find((e=>e.query===s)),i=Date.now();r?(r.lastUsage=i,r.usageCount++):a.push({query:s,usageCount:1,saved:!1,lastUsage:i,type:n});break}case"delete_search":{const{query:o}=t.payload,{destinyVersion:s}=t;e.searches[s]=e.searches[s].filter((e=>e.query!==o));break}case"delete_loadout":{const{platformMembershipId:o,destinyVersion:s}=t,n=t.payload,a=(0,x.$m)(o,s);delete e.profiles[a]?.loadouts[n];break}case"tag":{const o=t.payload,s=o.id,{platformMembershipId:n,destinyVersion:a}=t,r=L(e,(0,x.$m)(n,a)).tags,i=r[s];i?(null===o.tag?delete i.tag:o.tag&&(i.tag=o.tag),null===o.notes?delete i.notes:o.notes&&(i.notes=o.notes),i.tag||i.notes||delete r[s]):(o.tag||o.notes)&&(r[s]=o);break}case"item_hash_tag":{const o=t.payload,s=e.itemHashTags,n=s[o.hash];n?(null===o.tag?delete n.tag:o.tag&&(n.tag=o.tag),null===o.notes?delete n.notes:o.notes&&(n.notes=o.notes),n.tag||n.notes||delete s[o.hash]):(o.tag||o.notes)&&(s[o.hash]=o);break}case"tag_cleanup":{const{platformMembershipId:o,destinyVersion:s}=t,n=L(e,(0,x.$m)(o,s));for(const e of t.payload)delete n.tags[e];break}case"loadout":{const{platformMembershipId:o,destinyVersion:s,payload:n}=t,a=(0,x.$m)(o,s);n?L(e,a).loadouts[n.id]=t.payload:t.before?.id&&delete L(e,a).loadouts[t.before.id];break}case"track_triumph":{const{platformMembershipId:o,destinyVersion:s}=t,n=L(e,(0,x.$m)(o,s)),{recordHash:a,tracked:r}=t.payload,i=n.triumphs.filter((e=>e!==a));r&&i.push(a),n.triumphs=i;break}case"save_search":{const{query:o,saved:s}=t.payload,{destinyVersion:n}=t,a=e.searches[n],r=a.find((e=>e.query===o)),i=Date.now();r?r.saved=s:a.push({query:o,usageCount:1,saved:s,lastUsage:i,type:t.payload.type});break}}}function q(e,t){try{switch(t.action){case"delete_loadout":{const{platformMembershipId:o,destinyVersion:s}=t,n=t.payload;L(e,(0,x.$m)(o,s)).loadouts[n]=t.before;break}case"delete_search":V(e,{...t,action:"save_search",payload:t.before,before:t.payload});break;case"search":case"tag_cleanup":break;default:V(e,{...t,payload:t.before,before:t.payload})}}catch(e){(0,h.PT)("reverseUpdateLocally",e,t),(0,p.U)("reverseUpdateLocally",e,{update:t})}}},95349:(e,t,o)=>{o.d(t,{_:()=>i});var s=o(10544),n=o(60440),a=o(13526);const r={alertIcon:"AlertIcon-m_alertIcon-It3cw5SO"};function i({className:e,title:t}){return(0,s.A)(n.z9,{className:(0,a.A)(e,r.alertIcon),title:t,icon:n.zp})}},68548:(e,t,o)=>{o.d(t,{A:()=>d});var s=o(10544),n=o(4208),a=o(81511),r=o(67786),i=o(6380),c=o(18374);const l={type:"tween",duration:.3,ease:"easeOut"};function d({value:e}){const t=(0,n.d)(e),o=(0,a.G)(t,(e=>Math.floor(e)));return(0,c.useEffect)((()=>{(0,r.i)(t,e,l)}),[t,e]),(0,s.A)(i.P.span,{},void 0,o)}},20505:(e,t,o)=>{o.d(t,{Ay:()=>r,Tu:()=>l,Yq:()=>i,wj:()=>c});var s=o(13526),n=o(18374),a=o(94518);const r=(0,n.memo)((function(e){const{src:t,...o}=e;return(0,a.jsx)("img",{src:l(t),loading:"lazy",...o,className:(0,s.A)(o.className,"no-pointer-events")})}));function i(e){return{backgroundImage:`url("${l(e)}")`}}function c(e,t,o=1){const s=Array(o).fill(`url("${l(e)}")`);return t&&s.push(t),{backgroundImage:s.join(", ")}}function l(e){return e?e.startsWith("~")?e.substr(1):"https://www.bungie.net"+e:""}},88673:(e,t,o)=>{o.d(t,{A:()=>i});var s=o(10544),n=o(13526);o(18374);const a={checkButton:"CheckButton-m_checkButton-Mrq3drTo dim-button"};var r=o(27888);function i({name:e,onChange:t,className:o,checked:i,children:c}){return(0,s.A)("label",{className:(0,n.A)(a.checkButton,o)},void 0,(0,s.A)("span",{},void 0,c),(0,s.A)(r.A,{name:e,checked:i,onChange:e=>t(e)}))}},45839:(e,t,o)=>{o.d(t,{A:()=>u});var s=o(10544),n=o(60440),a=o(77963);const r=(0,a.F)("HunterProportional",32,22,"m11.297 7 4.703-.016-4.705 7.078 4.705-.016-5.02 7.551h-4.77l4.764-7.062h-4.764l4.762-7.059h-4.762l5.083-7.534 4.707-.017zm9.406 0-4.703-7.075 4.707.017 5.083 7.534h-4.762l4.762 7.059h-4.764l4.764 7.062h-4.77l-5.02-7.551 4.705.016-4.705-7.078z"),i=(0,a.F)("TitanProportional",32,22,"m15.214 10.986-8.925-5.153v10.306zm1.572 0 8.925 5.153v-10.306zm8.109-5.629-8.856-5.193-8.896 5.17 8.896 5.136zm-.023 11.274-8.833-5.101-8.873 5.123 8.873 5.183z"),c=(0,a.F)("WarlockProportional",32,22,"m5.442 18.786 7.255-11.65-2.71-4.322-9.987 15.972zm5.986 0 4.28-6.849-2.717-4.333-6.992 11.182zm7.83-11.611 7.316 11.611h5.426l-10.015-15.972zm-7.26 11.611h8.004l-4.008-6.392zm6.991-11.182-2.703 4.324 4.302 6.858h5.413zm-5.707-.459 2.71-4.331 2.71 4.331-2.703 4.326z"),l={1:n.wy,0:n._u,2:n.XQ,3:n.DO,[-1]:n.DO},d={1:r,0:i,2:c,3:n.DO,[-1]:n.DO};function u({classType:e,proportional:t,className:o}){return(0,s.A)(n.z9,{icon:(t?d:l)[e],className:o})}},28817:(e,t,o)=>{o.d(t,{A:()=>c,j:()=>i});var s=o(88122),n=o(46673),a=o(18374),r=o(94518);const i=(0,a.createContext)(new n.l),c=(0,a.forwardRef)((function({onClickOutside:e,children:t,extraRef:o,onClick:n,...c},l){const d=(0,a.useRef)(null);if(l&&!("current"in l))throw Error("only works with a ref object");const u=l||d,m=(0,a.useContext)(i),h=(0,a.useCallback)((t=>{const s=t.target;!u.current||u.current.contains(s)||o?.current?.contains(s)||e(t)}),[e,u,o]);return(0,s.ef)(m,h),(0,a.useEffect)((()=>{const t=t=>{t.target===document.body&&e(t)};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)})),(0,r.jsx)("div",{ref:u,...c,children:t})}))},59981:(e,t,o)=>{o.d(t,{A:()=>i});var s=o(10544),n=o(46673),a=o(18374),r=o(28817);function i({children:e,className:t}){const[o]=(0,a.useState)((()=>new n.l));return(0,s.A)(r.j.Provider,{value:o},void 0,(0,s.A)("div",{className:t,onClick:e=>{o.next(e)}},void 0,e))}},14565:(e,t,o)=>{o.d(t,{dL:()=>v,ZW:()=>k,hE:()=>g,Ay:()=>y});var s=o(10544),n=o(19654),a=o(92369),r=o(13526),i=o(93192),c=o(6380),l=o(18374),d=o(8935),u=o(24379),m=o(60440);const h={title:"CollapsibleTitle-m_title-vf2OcURS",collapsed:"CollapsibleTitle-m_collapsed-NRY1EK0D",disabled:"CollapsibleTitle-m_disabled-j14NI5CC",collapseIcon:"CollapsibleTitle-m_collapseIcon-xQhtPm73",iconCollapsed:"CollapsibleTitle-m_iconCollapsed-fGMOrPKa",content:"CollapsibleTitle-m_content-Bpepjkbz"};var p=o(39782),f=o(94518);const g=(0,l.forwardRef)((function({title:e,collapsed:t,extra:o,showExtraOnlyWhenCollapsed:n,className:a,disabled:i,style:c,headerId:l,contentId:d,onClick:u},m){return(0,f.jsxs)("h3",{className:(0,r.A)(h.title,a,t&&h.collapsed,i&&h.disabled),style:c,ref:m,children:[(0,s.A)("button",{type:"button","aria-expanded":!t,"aria-controls":d,onClick:u,disabled:i,id:l},void 0,!i&&(0,s.A)(v,{collapsed:t}),e),n?t&&o:o]})}));function y({title:e,defaultCollapsed:t,children:o,extra:r,showExtraOnlyWhenCollapsed:i,className:c,disabled:m,sectionId:h,style:y}){const v=(0,a._)(),b=(0,d.d4)((0,n.Bz)(h)),A=!!m||(b??!!t),w=(0,l.useCallback)((()=>v((0,u.Tj)(h))),[v,h]),I=(0,l.useId)(),S="content-"+I,x="header-"+I;return(0,f.jsxs)(f.Fragment,{children:[(0,s.A)(g,{title:e,collapsed:A,extra:r,showExtraOnlyWhenCollapsed:i,className:c,disabled:m,style:y,headerId:x,contentId:S,onClick:w}),(0,s.A)(k,{collapsed:A,headerId:x,contentId:S},void 0,(0,s.A)(p.A,{name:"collapse-"+h},S,o))]})}function v({collapsed:e}){return(0,s.A)(m.z9,{className:(0,r.A)(h.collapseIcon,e&&h.iconCollapsed),icon:m.DE,ariaHidden:!0})}const b={open:{height:"auto"},collapsed:{height:0}},A={type:"spring",duration:.5,bounce:0};function k({collapsed:e,children:t,headerId:o,contentId:n}){const a=(0,l.useRef)(!0);return(0,l.useEffect)((()=>{a.current=!1}),[a]),(0,s.A)(i.N,{},void 0,!e&&(0,s.A)(c.P.div,{id:n,"aria-labelledby":o,initial:!a.current&&"collapsed",animate:"open",exit:"collapsed",variants:b,transition:A,className:h.content},"content",t))}},82907:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(10544),n=o(76381),a=o(18374);function r({endTime:e,compact:t,className:o}){const[r,i]=(0,a.useState)(e.getTime()-Date.now());return(0,a.useEffect)((()=>{let t=0;const o=()=>{const o=e.getTime()-Date.now();i(o),o<=0&&clearInterval(t)};return t=window.setInterval(o,6e4),o(),()=>clearInterval(t)}),[e]),(0,s.A)("time",{dateTime:e.toISOString(),className:o,title:e.toLocaleString()},void 0,(0,n.qt)(r,t))}},62032:(e,t,o)=>{o.d(t,{H:()=>p,F:()=>h});var s=o(10544),n=o(19654),a=o(20505),r=o(38654),i=o(59816),c=o(36871),l=o(47765),d=o(13526),u=o(8935);const m={statWeightRow:"CustomStatWeights-m_statWeightRow-G3g415_G common-m_flexRow-ZPndn63a",divider:"CustomStatWeights-m_divider-oDq49iF2"};function h({customStatHash:e,className:t}){const o=(0,u.d4)(n.qg).find((t=>t.statHash===e));return o?(0,s.A)(p,{className:t,customStat:o}):null}function p({customStat:e,className:t,singleStatClass:o}){const n=(0,r.I3)(),u=Object.values(e.weights).every((e=>1===e||0===e));return(0,s.A)("div",{className:(0,d.A)(m.statWeightRow,t)},void 0,(0,l.Q)((0,c.x1)(i.BZ,(t=>{const r=n.Stat.get(t),i=e.weights[t]||0;if(i)return(0,s.A)("span",{title:r.displayProperties.name,className:o},t,(0,s.A)(a.Ay,{className:"stat-icon",title:r.displayProperties.name,src:r.displayProperties.icon}),!u&&(0,s.A)("span",{},void 0,i))})),(0,s.A)("span",{className:m.divider})))}},22668:(e,t,o)=>{o.d(t,{P:()=>d});var s=o(10544),n=o(60440),a=o(13526);const r={shapedIcon:"DestinyTooltipText-m_shapedIcon-eeKyDyuD",seasonalExpiration:"DestinyTooltipText-m_seasonalExpiration-dEww0goq"};var i,c=o(99880),l=o(94518);function d({item:e}){return e.tooltipNotifications?(0,l.jsx)(l.Fragment,{children:e.tooltipNotifications.filter((t=>!function(e,t){return"ui_display_style_crafting"===t.displayStyle||"ui_display_style_info"===t.displayStyle&&e.itemCategoryHashes?.includes(1)}(e,t))).map((t=>(0,s.A)("div",{className:(0,a.A)("quest-expiration item-details",u(t)&&r.seasonalExpiration)},t.displayString,u(t)&&(i||(i=(0,s.A)(n.z9,{icon:n.a$}))),function(e){return"ui_display_style_deepsight"===e.displayStyle}(t)&&(0,s.A)(n.z9,{className:r.shapedIcon,icon:n.b0}),(0,s.A)(c.A,{text:t.displayString,ownerId:e.owner}))))}):null}function u(e){return e.displayStyle.endsWith("_expiration")||e.displayStyle.endsWith("_seasonal")}},38042:(e,t,o)=>{o.d(t,{A:()=>p});var s=o(10544),n=o(60440),a=o(1458),r=o(13526),i=o(47609),c=o(18374);const l={button:"Dropdown-m_button-iyP6G2vG dim-button",menu:"Dropdown-m_menu-iom6McO4",menuItem:"Dropdown-m_menuItem-N8scl2V6",highlighted:"Dropdown-m_highlighted-C3f4V8zn",disabled:"Dropdown-m_disabled-G0g1V5Lp",kebabButton:"Dropdown-m_kebabButton-zlU3Uz1e common-m_resetButton-o3oKAnUN",separator:"Dropdown-m_separator-BDnvkAly",arrow:"Dropdown-m_arrow-mgvsHW1t"};var d,u=o(11226),m=o(94518);function h(e){return void 0!==e.content}function p({children:e,kebab:t,className:o,disabled:p,options:f,offset:g,fixed:y,placement:v=(t?"bottom-end":"bottom-start"),label:b}){const{isOpen:A,getToggleButtonProps:k,getMenuProps:w,highlightedIndex:I,getItemProps:S,reset:x}=(0,i.WM)({items:f,itemToString:e=>e?.key||"none",onSelectedItemChange:({selectedItem:e})=>{e&&h(e)&&!e.disabled&&e.onSelected(),x()},isItemDisabled:e=>!h(e)||!!e.disabled}),T=(0,c.useRef)(null),N=(0,c.useRef)(null);return(0,u.E)({contents:N,reference:T,placement:v,offset:g,fixed:y},[A,f]),(0,s.A)("div",{className:o},void 0,(0,m.jsx)("button",{type:"button",...k({ref:T,disabled:p,title:b}),className:t?l.kebabButton:l.button,children:t?d||(d=(0,s.A)(a.A,{icon:n.LK})):(0,m.jsxs)(m.Fragment,{children:[e," ",(0,s.A)(a.A,{icon:n.IJ,className:l.arrow})]})}),(0,m.jsx)("div",{...w({ref:N,className:l.menu}),children:A&&f.map(((e,t)=>h(e)?(0,m.jsx)("div",{className:(0,r.A)(l.menuItem,I===t&&l.highlighted,e.disabled&&l.disabled),...S({item:e,index:t}),children:e.content},e.key):(0,m.jsx)("div",{className:l.separator,...S({item:e,index:t})},e.key)))}))}},44261:(e,t,o)=>{o.d(t,{p:()=>l,A:()=>c});var s=o(10544),n=o(38654),a=o(13526),r=o(20505);const i={element:"ElementIcon-m_element-e0VY8WPa"};function c({element:e,className:t}){if(!e)return null;const o=e.displayProperties?.icon;return o?(0,s.A)("div",{style:(0,r.Yq)(o),title:e.displayProperties.name,className:(0,a.A)(t,i.element)}):null}function l({className:e}){const t=(0,n.I3)().Stat.get(3578062600),o=t?.displayProperties.iconSequences[0].frames[3];return o?(0,s.A)("div",{style:(0,r.Yq)(o),className:(0,a.A)(e,i.element)}):null}},39782:(e,t,o)=>{o.d(t,{A:()=>c});var s=o(10544),n=o(43774),a=o(95840),r=o(18374),i=o(44155);class c extends r.Component{constructor(e){super(e),this.state={}}componentDidCatch(e,t){const{name:o}=this.props;this.setState({error:e}),(0,a.PT)(o,e,t),(0,i.U)(o,e,t)}componentDidUpdate(e){e.name!==this.props.name&&this.setState({error:void 0})}render(){const{error:e}=this.state,{children:t}=this.props;return e?(0,s.A)(n.A,{error:e}):t}}},66265:(e,t,o)=>{o.d(t,{A:()=>n}),o(18374);var s=o(94518);function n({href:e,children:t,...o}){return(0,s.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e,...o,children:t})}},81517:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(10544),n=o(2290),a=o(60440),r=o(66265);const i={helpLink:"HelpLink-m_helpLink-rXN0y5jg"};var c;function l({helpLink:e}){return e&&0!==e.length?(0,s.A)(r.A,{className:i.helpLink,title:(0,n.t)("General.UserGuideLink"),href:e},void 0,c||(c=(0,s.A)(a.z9,{icon:a.$y}))):null}},73899:(e,t,o)=>{o.d(t,{nn:()=>l,cn:()=>d,c3:()=>u});var s=o(10544),n=o(13526);const a={itemCategoryIcon:"ItemCategoryIcon-m_itemCategoryIcon-EezdngDX"};var r=o(51504),i=o(71215),c=o(94518);function l({item:e,className:t}){const o=(0,i.bJ)(e);return o?(0,s.A)(r.Re,{minimal:!0,elementType:"span",tooltip:e.typeName,className:t},void 0,(0,s.A)("img",{src:o.svg,className:a.itemCategoryIcon})):(0,c.jsx)(c.Fragment,{children:e.typeName})}function d({item:e,className:t}){const o=(0,i.M6)(e);return o?(0,s.A)(r.Re,{minimal:!0,elementType:"span",tooltip:e.bucket.name,className:t},void 0,(0,s.A)("img",{src:o.svg,className:(0,n.A)(a.itemCategoryIcon,"dontInvert")})):(0,c.jsx)(c.Fragment,{children:e.bucket.name})}function u({item:e,className:t}){const o=(0,i.Ue)(e);return o?(0,s.A)(r.Re,{minimal:!0,elementType:"span",tooltip:e.typeName,className:t},void 0,(0,s.A)("img",{src:o.svg,className:a.itemCategoryIcon})):(0,c.jsx)(c.Fragment,{children:e.typeName})}},12912:(e,t,o)=>{o.d(t,{A:()=>i});var s=o(10544),n=o(59963),a=o(13526);const r={keyHelp:"KeyHelp-m_keyHelp-oiR5VPwS"};function i({combo:e,className:t}){return(0,s.A)("span",{className:(0,a.A)(r.keyHelp,t)},void 0,(0,n.vP)(e))}},8467:(e,t,o)=>{o.d(t,{R:()=>u});var s=o(10544),n=o(6380),a=o(93192);const r={loading:"Loading-m_loading-Ww7ONze0",container:"Loading-m_container-BoLT5XkB",square:"Loading-m_square-a77OTTle",logoAnimationPop:"Loading-m_logo-animation-pop-_rav5HPy",textContainer:"Loading-m_textContainer-deoW6WQx",text:"Loading-m_text-iDRNfPXM",fadeIn:"Loading-m_fade-in-YA9nspkz"},i={initial:{opacity:0},open:{opacity:1}},c={duration:.5,delay:1},l={initial:{y:-16,opacity:0},open:{y:0,opacity:1},leave:{y:16,opacity:0}},d={duration:.2,ease:"easeOut"};function u({message:e}){return(0,s.A)("section",{className:r.loading},void 0,(0,s.A)("div",{className:r.container},void 0,Array.from({length:16},((e,t)=>(0,s.A)("div",{className:r.square},t)))),(0,s.A)(n.P.div,{className:r.textContainer,initial:"initial",animate:"open",variants:i,transition:c},void 0,(0,s.A)(a.N,{},void 0,e&&(0,s.A)(n.P.div,{className:r.text,initial:"initial",animate:"open",exit:"leave",variants:l,transition:d},e,e))))}},51504:(e,t,o)=>{o.d(t,{Re:()=>v,xw:()=>u,m_:()=>f,Cy:()=>p});var s=o(10544),n=o(20204),a=o(13526),r=o(18374),i=o(80943);const c={control:"PressTip-m_control-JcXmq7TF",tooltip:"PressTip-m_tooltip-SHtI4cRc",wideTooltip:"PressTip-m_wideTooltip-edAAXFfv",header:"PressTip-m_header-w1l90OtE",content:"PressTip-m_content-U0ybf7MG",arrow:"PressTip-m_arrow-qrCkcWym",minimalTooltip:"PressTip-m_minimalTooltip-SO6eEqfl",section:"PressTip-m_section-MNfYMJ_N"};var l=o(11226),d=o(94518);const u=(0,r.createContext)({current:null}),m=(0,r.createContext)(null);function h({tooltip:e,open:t,triggerRef:o,children:h,elementType:p="div",className:f,placement:g,wide:y,minimal:v,...b}){const A=(0,r.useRef)(null),k=(0,r.useContext)(u),[w,I]=(0,r.useState)({className:null});if((0,l.E)({contents:A,reference:o,arrowClassName:c.arrow,placement:g},[t]),!e){const{style:e}=b;return(0,s.A)(p,{className:f,style:e},void 0,h)}return(0,d.jsxs)(p,{ref:o,className:(0,a.A)(c.control,f),...b,children:[h,t&&(0,i.createPortal)((0,d.jsxs)("div",{className:(0,a.A)(c.tooltip,w.className,y&&c.wideTooltip,v&&c.minimalTooltip),ref:A,children:[!(!w.header&&!w.subheader)&&(0,s.A)("div",{className:c.header},void 0,(0,s.A)("h2",{},void 0,w.header),!!w.subheader&&(0,s.A)("h3",{},void 0,w.subheader)),(0,s.A)("div",{className:c.content},void 0,(0,s.A)(m.Provider,{value:I},void 0,"function"==typeof e?e():e)),(0,s.A)("div",{className:c.arrow})]}),k.current||n.W)]})}function p({getHeader:e,getSubheader:t,className:o}){const s=(0,r.useContext)(m);return(0,r.useEffect)((()=>{s&&s((s=>({...s,...e&&{header:e()},...t&&{subheader:t()},...void 0!==o&&{className:o}})))}),[s,e,t,o]),null!==s}const f={Header:({text:e})=>(p({getHeader:(0,r.useCallback)((()=>e),[e])}),null),Subheader:({text:e})=>(p({getSubheader:(0,r.useCallback)((()=>e),[e])}),null),Customize:({className:e})=>(p({className:e}),null),Section:({children:e,className:t})=>(0,r.useContext)(m)?(0,s.A)("div",{className:(0,a.A)(c.section,t)},void 0,e):(0,d.jsx)(d.Fragment,{children:e})},g=100,y=300;function v(e){const t=(0,r.useRef)(0),o=(0,r.useRef)(0),s=(0,r.useRef)(null),n=(0,r.useRef)(),a=(0,r.useRef)(0),[i,c]=(0,r.useState)(!1),l=(0,r.useCallback)((e=>{!n.current||"pointerup"===e.type&&"pointerenter"===n.current||"pointerleave"===e.type&&"pointerdown"===n.current||(c(!1),"pointerdown"===n.current&&performance.now()-o.current>y&&(a.current=performance.now()+100),clearTimeout(t.current),t.current=0,n.current=void 0)}),[]),u=(0,r.useCallback)((e=>{"pointerenter"===e.type&&0!==e.buttons||(e.preventDefault(),(!n.current||"pointerenter"===n.current&&performance.now()-o.current<10)&&(clearTimeout(t.current),n.current=e.type,o.current=performance.now(),t.current=window.setTimeout((()=>{c(!0)}),"pointerenter"===e.type?g:y)))}),[]);(0,r.useEffect)((()=>()=>clearTimeout(t.current)),[]);const m=(0,r.useCallback)((e=>{performance.now()<a.current&&e.stopPropagation()}),[]);return(0,d.jsx)(h,{open:i,triggerRef:s,onPointerEnter:u,onPointerDown:u,onPointerLeave:l,onPointerUp:l,onPointerCancel:l,onLostPointerCapture:l,onClick:m,...e})}},21402:(e,t,o)=>{o.d(t,{A:()=>h});var s=o(10544),n=o(60440),a=o(1458),r=o(13526),i=o(47609),c=o(88122),l=o(18374);const d={button:"Select-m_button-l1OQm99Y dim-button",menu:"Select-m_menu-cmX_pTxG",open:"Select-m_open-O2wxE5PQ",menuItem:"Select-m_menuItem-woaPv1Uc",highlighted:"Select-m_highlighted-LmBufhoe",disabled:"Select-m_disabled-YNMepoL2",arrow:"Select-m_arrow-rmks8W7x"};var u=o(11226),m=o(94518);function h({className:e,disabled:t,maxButtonWidth:o,maxDropdownWidth:h,options:p,onChange:f,value:g,hideSelected:y,children:v}){const{isOpen:b,getToggleButtonProps:A,getMenuProps:k,highlightedIndex:w,getItemProps:I,selectedItem:S}=(0,i.WM)({items:p,selectedItem:p.find((e=>e.value===g)),itemToString:e=>e?.key||"none",onSelectedItemChange:({selectedItem:e})=>f(e?.value),isItemDisabled:e=>!!e.disabled}),x=(0,l.useRef)(null),T=(0,l.useRef)(null),[N,C]=(0,l.useState)((()=>"number"==typeof h?h:void 0)),[H,P]=(0,l.useState)();if((0,u.E)({contents:T,reference:x,placement:"bottom-start",offset:2},[b,p]),!S)throw Error("value must correspond to one of the provided options");let D;(0,l.useEffect)((()=>{if("button"===h&&void 0===N&&x.current){const e=void 0!==o?o:x.current.getBoundingClientRect().width-2;C(e)}}),[N,o,h]),(0,c.e9)(x,P,28,!0);const M={overflowY:"auto",overscrollBehaviorY:"contain",maxHeight:H};return void 0!==o&&(D={maxWidth:o}),(0,s.A)("div",{className:e},void 0,(0,m.jsx)("button",{type:"button",style:D,className:d.button,...A({ref:x,disabled:t}),children:v??(0,m.jsxs)(m.Fragment,{children:[S.content," ",(0,s.A)(a.A,{icon:b?n.F4:n.IJ,className:d.arrow})]})}),(0,m.jsx)("div",{...k({ref:T,className:(0,r.A)(d.menu,b&&d.open)}),children:(0,s.A)("div",{style:M},void 0,b&&p.map(((e,t)=>!(y&&e.value===g)&&(0,m.jsx)("div",{className:(0,r.A)(d.menuItem,w===t&&d.highlighted,e.disabled&&d.disabled),...I({item:e,index:t}),children:e.content},e.key))))}))}},87411:(e,t,o)=>{o.d(t,{A:()=>M,L:()=>D});var s,n=o(10544),a=o(8761),r=o(2290),i=o(40974),c=o(20204),l=o(71684),d=o(13526),u=o(2403),m=o(16737),h=o(1525),p=o(6380),f=o(18374),g=o(60440),y=o(39782),v=o(51504),b=o(66590),A=o(86775),k=o(94518);const w=(0,f.createContext)((()=>{})),I=120,S=.5,x={type:"spring",stiffness:280,damping:20,mass:.2},T={type:"tween",duration:.01},N={close:{y:window.innerHeight},open:{y:0}},C={top:0,bottom:window.innerHeight},H=e=>e.stopPropagation(),P=e=>{"Escape"!==e.key&&e.stopPropagation()};let D=0;function M({header:e,footer:t,children:o,sheetClassName:M,closeButtonClassName:E,headerClassName:R,disabled:L,zIndex:V,freezeInitialHeight:q,allowClickThrough:O,onClose:_}){const B=(0,f.useRef)(null),j=(0,f.useRef)(null),[z,F]=(0,f.useState)(void 0),W=(0,f.useRef)(void 0),[U,G]=function(e){const[t,o]=(0,f.useState)(!1),s=(0,f.useContext)(w),n=e||t;return(0,f.useEffect)((()=>(s(!0),()=>s(!1))),[s]),[n,o]}(L),Q=!!(0,u.I)(),Z=(0,m.s)(),K=(0,h.m)(),J=(0,f.useCallback)((e=>{e?.preventDefault(),Z.start("close")}),[Z]);(0,a.E)("esc",(0,r.t)("Hotkey.ClearDialog"),J);const X=(0,f.useCallback)((e=>{"close"===e&&_()}),[_]),Y=(0,f.useCallback)((e=>{j.current.contains(e.target)&&0!==j.current.scrollTop||K.start(e)}),[K]);(0,A.q)(j);const $=(0,f.useCallback)(((e,t)=>{t.velocity.y>I||B.current&&t.offset.y>S*B.current.clientHeight?J():Z.start("open")}),[Z,J]);(0,f.useLayoutEffect)((()=>{if(clearInterval(W.current),q&&j.current&&!z)if(j.current.clientHeight>0)F(j.current.clientHeight);else{const e=()=>!(!j.current||0===j.current.clientHeight||(F(j.current.clientHeight),W.current=void 0,0));W.current=function(e,t=500,o=5e3){let s=0;return setInterval((()=>{s>o||(e(),s+=t)}),t)}(e)}}),[q,z]),(0,f.useEffect)((()=>{Z.start("open")}),[Z]),(0,f.useEffect)((()=>(D++,()=>{D--})),[]);const ee=(0,k.jsxs)(p.P.div,{initial:"close",transition:Q?T:x,animate:Z,variants:N,onAnimationComplete:X,drag:"y",dragControls:K,dragListener:!1,dragConstraints:C,dragElastic:0,onDragEnd:$,style:{zIndex:V},className:(0,d.A)(b.A.sheet,M,U&&b.A.sheetDisabled),ref:B,role:"dialog","aria-modal":"false",onKeyDown:P,onKeyUp:H,onKeyPress:H,onClick:O?void 0:H,children:[(0,n.A)("button",{type:"button",className:(0,d.A)(b.A.close,E,!e&&b.A.noHeader),onClick:J,"aria-keyshortcuts":"esc","aria-label":(0,r.t)("General.Close")},void 0,s||(s=(0,n.A)(g.z9,{icon:g.WO}))),(0,n.A)("div",{className:b.A.container,onPointerDown:Y},void 0,!!e&&(0,n.A)("div",{className:(0,d.A)(b.A.header,R)},void 0,"function"==typeof e?e({onClose:J}):e),(0,k.jsx)("div",{className:b.A.contents,style:z?{flexBasis:z}:void 0,ref:j,children:(0,n.A)(y.A,{name:"sheet-contents"},void 0,"function"==typeof o?o({onClose:J}):o)}),!!t&&(0,n.A)("div",{className:b.A.footer},void 0,"function"==typeof t?t({onClose:J}):t)),(0,n.A)("div",{className:b.A.disabledScreen,onClick:H,onPointerDown:H})]});return(0,n.A)(c.Z,{},void 0,(0,n.A)(w.Provider,{value:G},void 0,(0,n.A)(v.xw.Provider,{value:B},void 0,(0,n.A)(i.A,{},void 0,(0,n.A)(l.A,{},void 0,ee)))))}},12600:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(49662),n=o(92369),a=o(18374);function r({message:e}){const t=(0,n._)();return(0,a.useEffect)((()=>(t((0,s.pS)(e)),()=>{t((0,s.MH)(e))})),[t,e]),null}},77663:(e,t,o)=>{o.d(t,{Q:()=>u});var s=o(10544),n=o(20505),a=o(38654),r=o(16283),i=o(13526),c=o(51504);const l={specialtyModIcon:"SpecialtyModSlotIcon-m_specialtyModIcon-fYqVTWi_",lowRes:"SpecialtyModSlotIcon-m_lowRes-HDygQv7i"};var d=o(94518);function u({item:e,className:t,lowRes:o,excludeStandardD2ModSockets:u}){const m=(0,a.I3)(),h=(u?r.Ep:r.eL)(e);return h?(0,d.jsx)(d.Fragment,{children:h.map((e=>{const a=m.InventoryItem.get(e.emptyModSocketHash);return(0,s.A)(c.Re,{minimal:!0,tooltip:a.itemTypeDisplayName},a.hash,(0,s.A)("div",{className:(0,i.A)(t,l.specialtyModIcon,o&&l.lowRes),style:(0,n.wj)(a.displayProperties.icon,"linear-gradient(#000b, #000b)",2)}))}))}):null}},78750:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(10544),n=o(13526);o(18374);const a={page:"StaticPage-m_page-yZRwCTQk dim-page"};function r({children:e,className:t}){return(0,s.A)("div",{className:(0,n.A)(a.page,t)},void 0,e)}},27888:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(10544),n=o(13526);o(18374);const a={switch:"Switch-m_switch-CxJBc7Yq"};function r({checked:e,onChange:t,name:o,className:r,disabled:i=!1}){return(0,s.A)("div",{className:(0,n.A)(a.switch,r)},void 0,(0,s.A)("input",{type:"checkbox",id:o,className:"onoffswitch-checkbox",checked:e,onChange:e=>{t(e.target.checked,o)},disabled:i}),(0,s.A)("label",{htmlFor:o}))}},1569:(e,t,o)=>{o.d(t,{A:()=>d});var s,n=o(10544),a=o(2290),r=o(372),i=o(13526),c=o(60440),l=o(66265);function d({topic:e,title:t,className:o}){if(!e||0===e.length)return null;const d=(0,r.JD)(e);return(0,n.A)(l.A,{href:d,className:(0,i.A)("dim-button",o)},void 0,s||(s=(0,n.A)(c.z9,{icon:c.$y}))," ",t||(0,a.t)("General.UserGuideLink"))}},76436:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(10544);const n=/([\uE000-\uF8FF\u{F0000}-\u{F1000}])/u,a={[String.fromCodePoint(57664)]:"ColorDestinySymbols-m_thermal-g2aoNacY",[String.fromCodePoint(57667)]:"ColorDestinySymbols-m_arc-CNGDj_Il",[String.fromCodePoint(57668)]:"ColorDestinySymbols-m_void-EcezRdSl",[String.fromCodePoint(57657)]:"ColorDestinySymbols-m_stasis-uY0DmuOd",[String.fromCodePoint(61198)]:"ColorDestinySymbols-m_strand-NsxCq26S",[String.fromCodePoint(983382)]:"ColorDestinySymbols-m_prismatic-J1juTl4U"};function r({text:e,className:t}){const o=(e??"").split(n).filter(Boolean).map(((e,t)=>function(e,t){const o=a[e];return o?(0,s.A)("span",{className:o},e+t,e):e}(e,t)));return(0,s.A)("span",{className:t},void 0,o)}},99880:(e,t,o)=>{o.d(t,{A:()=>c,q:()=>l});var s=o(10544),n=o(62447),a=(o(18374),o(8935)),r=o(45636);const i=/\{var:\d+\}/g;function c({text:e,ownerId:t="",className:o}){const n=l(t),i=(0,a.d4)(r.Q),c=(e=n(e)).split(r.P).filter(Boolean).map(((e,t)=>function(e,t,o){const n=o[e];return n?(0,s.A)("span",{title:n.plaintext},e+t,n.unicode):e}(e,t,i)));return(0,s.A)("span",{className:o},void 0,c)}function l(e=""){const t=(0,a.d4)(n.vL);return function(o=""){return o.replace(i,(o=>{const s=o.match(/\d+/)[0],n=t?.byCharacter[e]?.[s]??t?.allProfile[s]??(t&&Object.values(t.byCharacter)[0][s]);return n?.toString()??o}))}}},43036:(e,t,o)=>{o.d(t,{C:()=>A});var s=o(10544),n=o(2290),a=o(10419),r=o(20204),i=o(13526),c=o(18374),l=o(80943),d=o(8935),u=o(28817),m=o(51504),h=o(11226),p=o(76436);const f={symbolsWindow:"SymbolsPicker-m_symbolsWindow-NhWwnTzY",symbolsButton:"SymbolsPicker-m_symbolsButton-YONb1SHF common-m_resetButton-o3oKAnUN",wrapperDiv:"SymbolsPicker-m_wrapperDiv-giHUNpEx",buttonDiv:"SymbolsPicker-m_buttonDiv-yTAk_BeT",symbolsSearch:"SymbolsPicker-m_symbolsSearch-U4ZCIPLm",symbolsBody:"SymbolsPicker-m_symbolsBody-IwVIkFmw",symbolsContainer:"SymbolsPicker-m_symbolsContainer-vx1dq7Ib",emojiButton:"SymbolsPicker-m_emojiButton-kGPprue8 common-m_resetButton-o3oKAnUN",symbolsFooter:"SymbolsPicker-m_symbolsFooter-hN3lBaT3"};var g,y=o(94061),v=o(94518);const b=String.fromCodePoint(57671);function A({input:e,setValue:t,className:o,children:n}){return(0,s.A)("div",{className:(0,i.A)(o,f.wrapperDiv)},void 0,(0,v.jsxs)(v.Fragment,{children:[n,(0,s.A)("div",{className:f.buttonDiv},void 0,(0,s.A)(w,{input:e,setValue:t}))]}))}const k=(0,c.memo)((function({onChooseGlyph:e}){const t=(0,d.d4)(y.$),[o,r]=(0,c.useState)(""),[i,l]=(0,c.useState)(void 0);return(0,v.jsx)(v.Fragment,{children:(0,s.A)("div",{className:f.symbolsWindow,onClick:e=>e.stopPropagation()},void 0,(0,s.A)("div",{className:f.symbolsSearch},void 0,(0,s.A)(a.D,{query:o,onQueryChanged:r,placeholder:(0,n.t)("Glyphs.SearchSymbols")})),(0,s.A)("div",{className:f.symbolsBody},void 0,(0,s.A)("div",{className:f.symbolsContainer},void 0,t.map((t=>(t.fullName.includes(o)||t.name.includes(o))&&(0,s.A)("button",{className:f.emojiButton,type:"button",onClick:o=>{o.stopPropagation(),e(t.glyph)},onPointerEnter:()=>l(t)},t.glyph,t.glyph))))),(0,s.A)("div",{className:f.symbolsFooter},void 0,(0,s.A)(p.A,{text:i?.glyph??b}),i&&(0,s.A)("div",{},void 0,(0,s.A)("span",{},void 0,i.fullName),(0,s.A)("span",{},void 0,":",i.name,":"))))})}));function w({input:e,setValue:t}){const o=(0,c.useRef)(null),a=(0,c.useRef)(null),[i,d]=(0,c.useState)(!1),p=(0,c.useContext)(m.xw);(0,h.E)({contents:a,reference:o,arrowClassName:"",placement:"top"},[i,p]);const[y,A]=(0,c.useState)(null),w=(0,c.useCallback)((()=>{A(e?.current?.selectionStart??null)}),[e]);(0,c.useEffect)((()=>{const t=e?.current,o=w;return t?.addEventListener("blur",o),()=>t?.removeEventListener("blur",o)}));const I=(0,c.useCallback)((o=>{const s=e?.current;if(s){const e=s.value,n=y??e.length;t(e.slice(0,n)+o+e.slice(n)),A(n+o.length)}}),[e,y,t]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{type:"button",ref:o,className:f.symbolsButton,onClick:()=>d(!i),title:(0,n.t)("Glyphs.OpenSymbolsPicker"),children:g||(g=(0,s.A)("span",{},void 0,b))}),i&&(0,l.createPortal)((0,v.jsx)("div",{ref:a,children:(0,s.A)(u.A,{onClickOutside:()=>d(!1)},void 0,(0,s.A)(k,{onChooseGlyph:I}))}),p.current??r.W)]})}},94061:(e,t,o)=>{o.d(t,{$:()=>d});var s=o(2290),n=o(38654),a=o(36752),r=o(63150),i=o(45636);const c={57671:(0,s.tl)("Glyphs.Gilded"),57665:(0,s.tl)("Glyphs.Misadventure"),57495:(0,s.tl)("Glyphs.Quickfall"),57654:(0,s.tl)("Glyphs.ScorchCannon"),983359:(0,s.tl)("Glyphs.HiveSword"),57426:(0,s.tl)("Glyphs.LightLevel"),983376:(0,s.tl)("Glyphs.Harmonic"),983269:(0,s.tl)("Glyphs.RespawnRestricted"),983382:(0,s.tl)("Glyphs.Prismatic"),61239:(0,s.tl)("Glyphs.Axe"),61244:(0,s.tl)("Glyphs.LightAbility"),61245:(0,s.tl)("Glyphs.DarkAbility")},l=e=>e.toLowerCase().replace(/[\s-]+/g,"_").replace(/[^\p{L}_]/gu,""),d=(0,r.Mz)(n.v2,i.Q,((e,t)=>{const o=[];if(!e)return o;for(const{codepoint:n,glyph:r,source:i}of a.r){const a=c[n];if(a){const e=(0,s.t)(a);o.push({glyph:r,fullName:e,name:l(e)});continue}const d=t[r];if(d){const e=d.plaintext.slice(1,-1).trim();o.push({glyph:r,fullName:e,name:l(e)})}else{if(i){const t="Objective"===i.tableName?e[i.tableName].get(i.hash)?.progressDescription:e[i.tableName].get(i.hash)?.displayProperties?.name;if(t){o.push({glyph:r,fullName:t,name:l(t)});continue}}o.push({glyph:r,fullName:(0,s.t)("Glyphs.Missing"),name:l((0,s.t)("Glyphs.Missing"))})}}return o}))},45636:(e,t,o)=>{o.d(t,{P:()=>r,Q:()=>i});var s=o(38654),n=o(36752),a=o(63150);const r=/(\[[^\]]+\])/g,i=(0,a.Mz)(s.v2,(e=>{const t={};if(!e)return t;for(const{glyph:o,source:s}of n.r){if(!s?.fromRichText)continue;const n=o,{tableName:a,hash:i}=s,c="Objective"===a?e.Objective.get(i)?.progressDescription:"SandboxPerk"===a?e.SandboxPerk.get(i)?.displayProperties.description:void 0,l=c?.match(r)?.[0],d={unicode:n,plaintext:l??n};t[n]=d,l&&(t[l]=d)}return t}))},6967:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(59816),n=o(13526),a=(o(18374),o(20505));const r={icon:"BucketIcon-m_icon-eCZ99Zqx"};var i=o(71215),c=o(94518);function l(e){const t=function(e){if("icon"in e){const{icon:t,...o}=e;return{icon:t,otherProps:o}}if("bucketHash"in e){const{bucketHash:t,...o}=e;return{icon:(0,i._y)(t),otherProps:o}}{const{itemCategoryHash:t,...o}=e;return{icon:i.Ex[t],otherProps:o}}}(e);return t.icon?(0,c.jsx)("img",{src:t.icon.svg,...t.otherProps,className:(0,n.A)(e.className,r.icon,t.icon.colorized&&"dontInvert")}):(0,c.jsx)(a.Ay,{src:s._O,...t.otherProps})}},71215:(e,t,o)=>{o.d(t,{bJ:()=>b,_y:()=>A,M6:()=>v,Ue:()=>y,SN:()=>g,Ex:()=>p}),o(8068);var s=o(34596),n=o(55310),a=o(65564),r=o(71293);const i=o.p+"static/grenade_launcher-field_forged-fd4888.svg";var c=o(11682);function l(e){return{svg:e,colorized:!1}}function d(e){return{svg:e,colorized:!0}}const u={5:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='89' height='32'%3e%3cpath d='M78.624 8.704h5.632v2.912h-5.632v.544h-10.4v-.544h-.704v1.28l-.384.416h-.64v1.184h1.536v-.448h4.256v2.016h-4.256v-.352h-1.568v.384l-.864.832h-2.496l-1.088.416H47.168l-1.312-.416h-.32v8.512l-.48.416h-8.928l-.576-.576v-2.016l-.864.864v.672l-.416.768-1.28-.416-.48.416-12.224-3.2-.384-.384.96-.544.032-.864.288-1.376.512-1.216 1.152-1.76.96-1.088.448-.352-.128-.32v-.832l-1.824-.832H11.936l-4.8 2.784-.192 1.344-.256.32-2.176.576-.416-.128.224-2.368.128-3.744L4.32 8.64l-.128-1.856.032-.704.224-.352h1.248l.192.192h.864l.32.352v.672H21.92l.288.32 2.464-.608.544-.512.672-.448.608-.128.096.096v.448h.992V4.736l.768-.512h.256V3.072h.672v1.152h.608l1.696.992v.896h6.368l2.112.8h8.448v-.736l.256-.288h5.024l2.144 1.088h4.768l1.024-.96h4.384l.16.16v1.44h1.024l.224.224v.832h.704v-.544h10.4zm-47.36 13.728 2.784-6.976-.096-.512-.256-.352-.544-.128h-3.84l-.128.704.16.96.256.416-.16.224-.224-.16-.352-.544-.256-.768-.096-.832h-.128l-.352.288-.256.576.064.736.32.544.448.448-.16.416h-.672l-.512.16-.416.48-.192.672-.192.704-.448.544-.512.768-.384.928.096.224L29.76 23.2l.608-.096.48-.224z'/%3e%3c/svg%3e"),6:l(c),7:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='87' height='32'%3e%3cpath d='m82.528 9.728.256.288v2.656l-.416.416h-13.92l.512.512h1.28v1.6l-.128.704-.416.736-.576.448-.672.288H45.632l-1.376.352-1.12.704-1.024.8-.448.576-2.304 6.432-.512.992-.672.608-.992.608-1.152.128-1.344-.128-9.92-2.784-.416-.16-.16-.48 1.088-.448.32-1.824.704-1.792 1.12-1.952 1.408-1.664.736-.768.192-.64-.128-.672-.416-.576-1.056-.512-1.248-.16-3.2-.096v.672l-.672.352.96 9.664-.352.576-2.144.256-.448-.32-.448.064-.32.384-3.648.352-.224-.256-.608.064-.192.288-1.76.192-.384-.256-.64-3.968-.608-.032-.128-1.152h-.32l-.544-.704H7.52v.224l-3.264.96-.48-.48.32-4 .064-3.584-.096-4-.096-3.04.192-.832.192-.16h1.536l.224.224h1.376l.384.736h21.696l1.984-.928h-.864l-.416-.384L31.744 1.6l.48-.32h7.136l.608.256.448.512.128.768V4l.384.352v.352l-.736.736h-.832v.704h5.152l1.696.448 22.304.96.416.32v.992l-.64.64.224.224zm-41.248 7.52v-.384l-.128-.448-.32-.256H36.16l-.16.736.192.928.352.576-.288.352-.448-.384-.352-.672-.256-.8-.128-.736-.288.096-.32.32-.32.672.064.672.352.672.736.48-.128.576-.448-.032-.704.064-.48.192-.512.608-.256.896-.16 1.088-.352.16-.448.48-.352.544-.608 1.696 4.16 1.6.896.256h.928l.672-.288.48-.48 3.168-8.704zm23.808-3.904v-.896H51.36v.896z'/%3e%3c/svg%3e"),8:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='99' height='32'%3e%3cpath d='M89.184 9.696h5.408v3.072h-5.344v-.416h-1.024v.416h-1.12v-.448H70.752v1.792h.768l.352.352v.448l-.352.352h-.928l-.768.384-1.536.128-.32.224h-20.32l-1.216.096-1.184.544-1.088.8-.352.384-3.744 8.16-.64.672-.8.544-1.12.448-1.376.064-1.184-.128-1.696-.384-5.952-1.76-.672-.064-.928.064v1.472h-.768v-1.536h-.512v.832l-.256.32h-2.016l-.256-.256-.224.224h-4.832l-.256.288h-1.12l-.288-.32h-1.024v-6.528l-.672.64q-.384-.416-.448-.416v-1.312H7.68v1.856l-.224.352-.448.32-2.624.64-.288-.16v-2.72l.192-3.488.032-2.912-.064-2.912-.16-1.632.256-.928.48-.16h.992l.288.288h1.312l.352.48L14.08 5.12h18.464v-.544h2.144l.64-.64h3.52l.32-.576.128-.544V2.24l.16-.224h1.12l.256.224v.48l.096.544.864 1.248h2.88l.192-.224h.224l.832.832h1.792l.384-.384h6.88l.512.544h14.176l.928.352v1.056h1.216l.512.544v.32l-.48.512h-.832v.832l-.32.32v.832h16.384v-.352h1.184v.544h.928zm-58.016 6.368v-.8l-.224-.384-.416-.384-.64-.224h-1.632l-.512.096-.352.352-.224.576-.128.832.224.8.48.672.672.416h.896l.832-.32.8-.832zm11.904.288.224-.48-.16-.448-.384-.32-.512-.224h-4.192l-.192.768-.064.576.096.48.192.48.224.256-.192.288-.32-.32-.416-.704-.256-.96-.096-.864h-.32l-.768.736v1.376l.192.448.288.256.288.224-.16.736-.96.128-.576.32-.448.64-.224.672-.096.768-.16.384-.48.448-.416.64-.384.864-.448 1.152-.064.192.096.192 2.304.704 1.632.448h.96l.736-.32.832-.64.416-.8 3.36-7.2z'/%3e%3c/svg%3e"),9:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='72' height='32'%3e%3cpath d='M66.944 3.936h.608v5.792l-.448.448v2.4h-.768l-.576.608H52.192l-.576-.64h-1.184l-9.76 7.328v8.864l-.48.512h-8.128l-.416-.448v-3.36l-13.504-3.904-.512-.32-.224-.32v-.48l.64-.192.448-.256.192-1.312.416-1.408.832-1.792 1.024-1.632.992-1.344.256-.32.032-.192-.16-.224H9.408l-2.144 2.272-.128.288v2.368l-.448.992-2.144.768-.256-.16-.16-.736v-.512l.16-2.688.096-2.88-.096-2.88-.16-1.984.096-.672.256-.192.416-.096h.576l.416.384h.704l.352-.352h20.704l1.952-.48.928-.704.512-.768.256-.48h1.856v-.416h1.312l.448-.736 3.232-.16.48-.544.224-1.152h1.088l.16 1.12.672.832v.448h3.68v.48h21.088zM31.648 22.368v-9.696h-3.712l-.128.32-.032.576.128.704.288.64-.288.288-.192-.192-.224-.288-.32-.672-.128-.64-.032-.736h-.576l-.224.288-.16.576.064.736.288.448.608.384v.288l-.384.416-.352-.032-.512.064-.352.224-.288.448-.224.8v.864l-.384.192-.512.544-.416.736-.256.96 8.064 2.336v-.288zm2.016-12.736V6.208h-.64v3.424z'/%3e%3c/svg%3e"),10:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='123' height='32'%3e%3cpath d='M113.312 11.392h5.92v3.328h-5.888v.992H95.136v-.576h-1.664v-.928h-17.12v.512h-5.248v-.352l-1.344.512v1.216h1.344v-.448h3.84v2.048H71.2v-.384h-1.376l-.064.992-.224.288-.384.128H45.824l-.288-.32h-4.32v6.56l-.352.384h-6.528l-.256-.256h-.928l-.16-.192v-4.32l-1.472-1.024-.192-.288v-2.912h-1.216l-.16.448-.096.64.064.8.192.64.096.224-.256.16-.352-.48-.416-.96-.16-.992-.032-.48h-.256l-.352.448-.224.544-.096.576v.544l.16.48.416.352.256.128-.16.576-.672.064-.48.224-.288.416-.224.48-.096.48v.288l-.096.48-.448.384-.256.544-.288.928-.448 1.248.16.512-.448.384-17.984-3.68-.128.288-.32.256L4.736 24l-.32-.064-.16-.256-.128-.448.064-.8.192-3.104.128-3.232-.064-3.68-.16-1.76.096-.896.128-.288.608-.096h.832l.256.256h.864l.224.32.096.352v.544h15.104l.896-.992H25.6v-.96l.256-.256h.768l.16-.16h2.784l.48-.352h3.52V7.104H25.6V6.56h-2.592l-.096-.064 2.816-3.616h2.112l.8-.48h21.376l.448.704v2.144l2.624 1.248V7.2h-2.464l-1.536 1.664h1.92l1.728.96h14.848v1.472h2.112v.576h1.248v-.544h5.408v.544H93.44v-.8h1.856v-.576h18.016zM24.64 16.928v-.608h-9.984l4.736 4.832.864.64.576.288h.544l.448-.128.288-.288v-.608zm21.984-8.096V7.2h-6.976v1.024l.064.032h1.632l1.184.576z'/%3e%3c/svg%3e"),11:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='99' height='32'%3e%3cpath d='M94.272 4.384h.608V7.2h-.512v2.848h-.416V13.6h-.416v1.152h-3.648l-.32.352h-3.904l-.16.832-.192.416-.352.16h-.64l-.64-.128H63.296l-.736-.128-.128-.384.288-.416.416-.64H41.248l-.192.48-.064.512.064.48.064.416.224.416-.256.256-.512-.48-.384-.768-.224-.8-.032-.608h-.928l-.192.576-.192.672-.096.672.032.512.448.384.512.256.16.256-.032.352-.224.352-.48.16-.736.128-.352.192-.288.288-.32.608-.096.48v.576l-.192.512-.256.448-.416.544-1.472 3.648.48.512v.448l-.576.608h-4.8l-.832-.224-.032-.736.128-.288-.224-.864.256-1.952.704-2.208.896-1.888 1.056-1.568.672-.672.416-.48.224-.672-.064-.512-.384-.672-.64-.48-.64-.256-.896-.16h-4.64l-.32-.16-.928-.864v-.352h-.256l-.32.16-.608.256-16.512 3.68-.352.256-1.888.448-.384-.096-.128-.384-.096-1.152.288-2.976.096-2.976-.128-3.168L4.32 5.28l.096-.608.256-.352.384-.16 1.376-.064h.8l.384.416L8 4.096h12.032l.832.096.928.288 1.024.416.736.48.544.288.32.352.224-.256h2.688l.192-.096.256-.16 2.208-1.888.928-.256h.704l.544-.576h11.136l.32.32.736.768h10.592l.416-.416h20.736l.512.544h5.024l.576-.608h9.92v-.608h.96v1.024h.64z'/%3e%3c/svg%3e"),12:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='3075' height='1024'%3e%3cpath d='m122.88 684.032 1.024-28.672h7.168l-5.12-212.992-2.048-2.048 2.048-28.672 5.12-4.096q3.072-118.784 6.144-119.808l9.216-8.192q4.096-4.096 59.392-5.12l1.024-7.168h29.696v9.216h13.312l7.168 8.192h16.384l10.24-12.288 56.32-3.072v-14.336h297.984v17.408l17.408 12.288 59.392 2.048-20.48 32.768h14.336l31.744-50.176h32.768l15.36-22.528h25.6v-3.072h-8.192v-12.288h8.192l2.048-7.168h7.168v-6.144h3.072l2.048 1.024h21.504l2.048-1.024h4.096v18.432h13.312l318.464-72.704h39.936l10.24-3.072h13.312l13.312-12.288h66.56l4.096-4.096 6.144-3.072v-3.072h-50.176v-26.624l29.696-16.384h100.352l8.192 4.096v34.816h-14.336v12.288l11.264 5.12h14.336l11.264 5.12h9.216l2.048 7.168h290.816l483.328 108.544 90.112 21.504h68.608l3.072-5.12v-4.096h39.936l158.72-3.072v-47.104l24.576-24.576v-61.44l6.144-4.096h27.648V281.6h154.624l5.12 7.168h98.304l5.12 12.288h25.6q1.024 1.024 1.024 4.096v47.104q0 2.048-1.024 4.096-2.048 3.072-94.208 3.072l-12.288 28.672-1.024 14.336 1.024 1.024h17.408l5.12 13.312 5.12-2.048h22.528v56.32l-2.048 2.048h-20.48l-3.072-2.048-2.048 2.048-5.12 7.168h-17.408l-1.024-7.168h-7.168l-5.12 2.048h-64.512v4.096h19.456l18.432 20.48v16.384h-37.888l-2.048 4.096h-30.72l-128-39.936h-288.768l-12.288-12.288h-58.368l-6.144-2.048H2022.4l-5.12 7.168h-253.952l19.456 43.008h41.984l12.288 16.384q0 3.072 39.936 3.072h40.96l19.456 9.216 1.024 20.48 78.848-2.048v-5.12h22.528v113.664h-22.528v-5.12l-64.512 4.096v-5.12h-7.168v5.12h-8.192v7.168l-19.456 8.192h-73.728l-9.216-6.144h-218.112l-9.216 6.144h-21.504l-13.312-8.192v-7.168h-1.024l-4.096-11.264-3.072-83.968 4.096-10.24h8.192v-20.48l9.216-9.216 14.336-3.072v-16.384l4.096-3.072h45.056v-2.048q0-3.072-2.048-5.12-3.072 0-3.072-1.024h-44.032l-7.168-10.24-2.048-14.336h-4.096l-1.024 27.648H1408v24.576h28.672v12.288h12.288v267.264l-3.072 2.048h-9.216v7.168h-25.6v-15.36h-203.776l-2.048 3.072v12.288h-25.6v-7.168h-13.312V544.768h13.312v-14.336h25.6v-22.528h-17.408l-32.768-5.12-45.056-3.072 2.048 103.424q-4.096 16.384-12.288 28.672-4.096 6.144-17.408 19.456-11.264 11.264-75.776 6.144-8.192 0-16.384-2.048l-22.528-9.216-8.192-2.048H936.96l-84.992 142.336v1.024q0 2.048 2.048 4.096l22.528 29.696v17.408h-138.24l-5.12-4.096h-34.816l-139.264-55.296v-7.168l-46.08-20.48H253.952l-2.048 6.144-50.176 3.072-5.12-3.072v-6.144l-14.336 9.216q-41.984-3.072-44.032-4.096-4.096-1.024-4.096-6.144 0-3.072-3.072-59.392L128 686.08zm1904.64-382.976 86.016-3.072 6.144-2.048-92.16-19.456zm-166.912 269.312v88.064q0 12.288 12.288 12.288 8.192 0 9.216-4.096 1.024-1.024 1.024-3.072v-93.184q0-9.216-10.24-9.216-12.288 0-12.288 9.216m-276.48-347.136v20.48h98.304v11.264h61.44V281.6h19.456v3.072l6.144 2.048v3.072h91.136v8.192h138.24V281.6q0-7.168-5.12-9.216l-5.12-3.072-243.712-50.176zm-338.944 66.56v15.36h32.768v7.168h80.896l4.096 2.048h17.408v-25.6l-2.048-4.096h-78.848v5.12zm-248.832 358.4h70.656q13.312 0 23.552-22.528 15.36-40.96-6.144-67.584-7.168-7.168-17.408-11.264t-15.872-4.608-19.456 0-14.848.512q-6.144 3.072-9.216 6.144-11.264 8.192-13.312 28.672-2.048 14.336 0 23.552 1.024 9.216 7.168 19.456l3.072 11.264 3.072 3.072q1.024 4.096-4.096 6.144l-6.144 3.072q-1.024 1.024-1.024 0l-14.336-8.192-11.264-4.096 11.264 12.288zm-409.6-98.304L572.416 563.2l1.024 66.56q0 13.312 12.288 22.528 6.144 5.12 68.608 31.744l70.656 29.696 10.24 3.072q5.12 2.048 8.192 0l25.6-20.48q13.312-24.576 27.648-50.688t19.968-36.352 5.632-11.264q1.024-4.096 4.096-7.168-4.096-31.744-6.144-34.816l-6.144-6.144-40.96-4.096-49.152-22.528v-20.48l-86.016-10.24-29.696 15.36-21.504 3.072zm-137.216 56.32v21.504h41.984v-19.456zm-109.568 6.144-5.12 13.312q2.048 2.048 100.352 2.048v-21.504h-93.184z'/%3e%3c/svg%3e"),13:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='91' height='32'%3e%3cpath d='m85.28 6.72 1.216 1.408v7.424l-1.184 1.344h-2.304l-3.168 2.208h-1.184v.64H77.6l-.256-.288-.8.896h-3.936v1.184l.96 1.088h.544l4.864 5.632v.544l.736.832-1.312 1.536-.96-1.088h-.416l-4.896-5.664v-.352l-.928-1.088h-1.088l-.832-.352v-.384h-.8V20.8h.768v-.32h.416v-.288h-2.592l-.992 1.632h-3.072v-1.408h-.544l-.224.832-.416 1.152-.768.896L60 23.84l-1.6.128-.32-1.28h-1.536l-2.4 3.936v1.6h-5.6l-10.56-6.816v-3.456l-.48-.576h-1.856l-.512.608h-1.44v-.768l-3.584-1.344h-.896l-.736-.992H11.488v1.024l-2.112 3.712H6.144l-.384-.448v-2.4H4.64l-.512-.64V8.032l.608-.704h5.632l1.472 1.344 2.496.032.448.32L28.32 8.96l5.792-.608V7.168l-.736-.576-3.84-.64-.704-.288V5.28l5.504-.096h3.296l8.864 2.208v.832l.288.128v-.896l.384-.352h1.6V5.856l-.352-.416h-1.792v-.576h.416v-.608h-.416v-.448h.768l1.12-1.28h5.632l.32.352 1.728-1.792.544-.416.672-.16H70.56l.192.32.736 2.72h3.616v1.824h-3.776l-1.792 2.048.416.512.864-.992h1.728l.448.512h7.424l.64-.736zm-74.528 9.12v-.416l-.832 1.28-3.392.064v1.856l.16.192h2.208zm43.296 5.92v-1.248l-.064-.416-.224-.352-.192-.16-.192-.096h-2.4l-.384.224-.256.384-.192.48v3.456h1.952zm1.824-18.368 2.304.032-.96-1.152h-.352zm4.832 17.632v-.448L60.64 20h-2.304v1.088l.128.512.16.16h1.216l.416-.128.288-.256zm6.88-17.632 1.344-1.824-10.72-.032-.256.32 1.312 1.536z'/%3e%3c/svg%3e"),14:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='44' height='32'%3e%3cpath d='m7.776 7.744-.512-.512v-4l.48-.48h2.496l.64-.64h1.536l.64.64h2.88l.288.256h1.056l.32-.32h17.536v-.352h1.024l.416.416h1.472l.32.32V4.16h.672v2.432h-.704v.672l-.288.288.256.256v1.984h-7.936l-.608.992h-8.224l-.256.8-.096.96.032 1.088.192 1.12.064.32-.544.192-.448-1.024-.352-1.568-.096-1.44-.032-.448-.48.064-.544.736-.352.8-.128.992-.064 1.056.32.96.8.832.608.384-.192.448-1.28.288-.864.416-.768.8-.48.896-.16 1.248-.576.352-.576.8-.512 1.184-.512 1.504-.416 1.44-.032.992.032.672-.32.128h-.8L5.28 25.888l-1.152-.608.064-.864 1.696-.096.096-1.728.48-2.24 1.056-2.496 1.664-2.464.992-1.376.832-1.568-.096-.64-.992-.96-.864-.544-.352-.096H6.72l-.384-.352.736-1.44.96-.352z'/%3e%3c/svg%3e"),54:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='120' height='32'%3e%3cpath d='M80.832 10.368h35.328l-14.944 11.68H43.488l-1.632-2.24-1.248-1.056-1.568-.704-1.44-.256-.96-.128-.608.352-2.336.448-1.472-.768-1.088.224-.576 8.928h-.8l-3.008-9.088-1.92-1.248H8.8l-.48.32-.48.416-.288.416h-2.88l-.736-.864v-5.152l1.44-.736h2.432l.992 1.28h15.84l3.52-1.76h14.752l.448-.672h4.672l1.568 1.76h29.568zM61.76 19.2v-1.248h-9.28V19.2zm3.296 0h33.376l-1.024-1.248H65.056zm34.784-1.728 4-2.976v-.672h-4.032v2.048l-.704.64z'/%3e%3c/svg%3e"),153950757:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2364 744'%3e%3cpath d='m1738 578-14 23-17 12-22 2-21-4-9-14-3-15V385l3-22 10-14 15-5h122l19 4 11 8 3 19-6 25Zm-206 39v34h-490v1H826l-8-6v-13l4-27 10-22 13-25 12-7 4-9v-13l4-13 12-17 15-16h22l4-22-7-13-8-9-7-10v-14l4-19 8-18 11-13 2 18 13 44 18 29 14 12 7-9-11-17-6-20-4-23 5-23 11-14h69l-6 13v241h479V195h-479v-11h501zM711 456l-33 9h-46l-35-15-20-24-7-29 6-35 11-14 18-4 33-4 70 8 12 7 14 17 6 25-6 34Zm1640-302v-35l-48-45h-73v15h-634l-17-17h-211V37h-35v29h-155l-29-29h-142L970 6l-8-6H838l-13 10-21 37h-36V26h-34l-15 21-42 15-529 18-40 27-5-19-13-13H33l-15 6-14 21-4 38 4 67 8 130-4 114-4 104 7 25 7 10 24-1 36-4 14-8 12-27 15 16 607 167 64 11h918l52-5 33-11 29-18 21-26 109-243 24-45 24-21 29-9h54l9-10v-40l-11-11h251l14-23h18V164h-23Z'/%3e%3c/svg%3e"),[-153950757]:l(i),2489664120:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='79' height='32'%3e%3cpath d='M59.776 13.824q.544 0 .944.4t.4.976q0 .544-.4.944t-.944.4H4.096v-2.72zm7.968 1.408 6.24 4.448-7.648-.064 2.4 7.264-6.144-4.544-2.304 7.296-2.304-7.296-6.176 4.544 2.432-7.264.256-.768h5.376q1.504 0 2.576-1.072T63.52 15.2t-1.072-2.576-2.576-1.072h-5.376l-.256-.704-2.432-7.296 6.176 4.576L60.288.8l2.304 7.328 6.144-4.576-2.4 7.296 7.648-.064zm-26.976 4.384v-.768h13.728v.768zm8.192-8.064v-.768h5.536v.768zm-14.656 0v-.768h10.208v.768zm-7.456 0v-.768h2.56v.768zm-7.328 0v-.768h1.056v.768zm-5.92 0v-.768h1.056v.768zm17.76 8.064v-.768h4.096v.768zm-8.608 0v-.768h.928v.768z'/%3e%3c/svg%3e"),1504945536:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='83' height='32'%3e%3cpath d='M47.072 10.752h-1.408v-.576h-.768v.32h-.32v.768h2.432l.8.416h30.016l.736.064.128.16v.128l-.128.16-1.088.672q-.768.384-.96 1.12l-.48 4h-.512l-.192-.224-.512-1.824q-.288-.736-.832-.96-.224-.096-1.264-.144t-1.968-.048H62.08l-6.24.128-5.472.16-3.648.192-1.696.224-.928.288-.544.256-.352.32-.32.576-.448 1.056-.512 1.504-.384 1.344-.192 1.056-.096.896.064.544.096.256 1.184 1.216-.064.608-.16.224-3.328-2.592-.864-.608q-.672-.416-1.184-.416-1.28-.064-2.176.384l-.864.512.096 1.632-.032.128-.064.128q-1.024.8-1.888 1.408l-1.76 1.152q-3.008-.192-6.176-.8l-3.84-.736q-.576-.288-.8-.736l-.16-.896.512-.32.032-1.28.736-.256-.032-.16-.704-.256q0-1.408 1.024-2.912.288-.448.928-1.28t.864-1.248.128-.64q-.192-.48-.848-.832t-1.712-.384q-.704-.032-1.808-.048t-2.704-.048-2.592-.064l-4.736-.128-.96 5.728-.32.736-.352.192h-.896l-.992-1.12-.128-5.696-.608-3.36L4.416 8q.16-.544.992-.704l1.568-.256q6.368-.256 10.56-.8l10.912-1.664-1.92-.992.768-.416 1.024-.064.128-.064.096-.128V1.344l.16-.576h1.152l.288.608.448 1.152.928.32.16.288 1.856.288 3.136-.416.32-.16.32-.32.224-.288.096.128v1.376L37.568 4q2.176.128 4.704.608.96.192 2.064.432t1.776.368 1.216.192 2.064.112 2.768.048h1.248l.8.736v.544h23.648l.448.224v.192h-.224l-.128.512H47.84l-.768.48h-2.496v.768h.32v.288h.768V8.96h1.408l.8-.48h30.016l.288.544h.896v1.664h-.864l-.352.544H47.968zm-11.584 6.88q.608-.32.608-1.056 0-.352-.288-.72t-.544-.56l-.288-.224q-.8-.8-2.496-.8-1.088 0-2.56-.064.064.608.16.864.096.288.288.608t.352.512l.16.16-.32.384q-.864-.448-1.376-1.216-.384-.512-.64-1.408-.48.096-.672.384-.224.288-.4.816t-.144.752q0 .064.096.304t.144.432.032.384-.176.256q-1.728.992-1.92 1.696-.096.352-.064.752t-.16.464q-.64.832-.64 1.504l4.768-.096h.288z'/%3e%3c/svg%3e"),3954685534:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='69' height='32'%3e%3cpath d='m63.84 6.144.352.192v3.072l-.256.288h-9.984v.576l-.288.352h-5.792v.608h5.248l.192.32v.736l-.128.256h-1.856l.416.608.032.32-.064.192-.16.096-.48.032H44.8l-.32-.32h-.32l-.416.384-.48.896-1.056 2.336L40 22.528l-.416.608-.544.288-.704.256-.896.16-1.024.096h-5.472v6.016l-.448.448h-1.984l-.192-.224h-.736l-.256-.256v-6.016l-.832-.192-.576-1.184-.352-1.216-.16-2.048.16-2.176.352-1.44.64-1.248.32-1.088.032-.928-.224-.416-2.144-.288-.64-.512h-5.696l-.512.128-2.08.192h-.768l-.288-.288-.608.128-.64.576-4.448 5.952-.512.384-.704.32-.768.16h-.448l-.192.544-1.44.48-.384-.16-.128-.384v-.64l.096-3.232.032-4.128-.128-4.224V5.312l.256-.704.384-.32h1.44l.384.736h.512l.416.416h.384l.16-.16h19.2V4.128l.192-.512h.224V3.04h.416l.736.896.288.992.224.032v.32h.288v-.384l.352-.384h7.232V4h-1.152l-.288-.16h-.8V1.024l.416-.416h.704l.48-.384h.416v.32h6.112l.16.128v.384h.416v2.592l-.192.192h-.512v.224h-.384v.544h2.688v.384h6.048l.416.384h1.6l.416.352v.416zm-23.52 7.008V12.8l-.224-.192-.352-.128h-6.272l-.192.48-.064.544.032.512.128.416.256.352-.16.288-.448-.448-.416-.832-.16-.832v-.48h-.672l-.256.096-.16.352-.16.448-.096.736v.608l.224.416.448.32-.032.352-.544.288v5.184l.096.224.256.256.448.096h4.032l.544-.16.448-.384.416-.704 2.752-6.944z'/%3e%3c/svg%3e"),3317538576:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='3198' height='1024'%3e%3cpath d='m3065.856 955.392-8.192 3.072q-55.296-63.488-172.032-169.984H1819.648v40.96q0 6.144-5.12 8.192-20.48 0-22.528-6.144l-9.216-43.008h-496.64l-10.24 43.008q-2.048 6.144-22.528 6.144-4.096-1.024-4.096-8.192v-40.96H283.648q-96.256 83.968-142.336 163.84-3.072 5.12-6.144 2.048-4.096-1.024-4.096-8.192v-2.048l1.024-2.048q19.456-109.568 40.96-165.888 36.864-99.328 61.44-106.496 1.024 0 6.656 5.632t11.264 12.288 6.656 7.68q21.504 36.864 55.296 8.192l28.672-23.552q11.264-8.192 67.072-54.784t104.96-84.992 139.264-96.256T839.68 337.92q248.832-126.976 698.368-220.16h2.048l2.048-223.232 8.192-19.456q2.048-3.072 3.072-3.072t27.136 139.264 26.112 142.336v4.096h-12.288q-25.6 6.144-27.648 10.24-7.168 17.408-7.168 52.224v176.128l-21.504 5.12V389.12l-1.024-3.072q-3.072-8.192-7.168-8.192-5.12 0-11.264 21.504v2.048h-8.192v-77.824h-7.168l-5.12-1.024q-60.416 1.024-120.32 6.656t-111.104 13.312-99.84 17.408-88.064 20.48-74.24 20.992-60.928 19.968-45.056 16.896-28.16 11.264l-10.24 4.096q-6.144 0-84.48 34.304T566.272 594.944 336.896 744.448h912.384v-6.144q0-9.216 5.12-9.216h30.72q6.144 0 6.144 9.216v6.144h486.4v-6.144q0-9.216 5.12-9.216h30.72q6.144 0 6.144 9.216v6.144H2836.48q-60.416-48.128-95.232-73.728-134.144-88.064-267.264-151.552Q2169.856 382.976 1792 361.472q-14.336-1.024-26.112 12.288t-16.896 34.816q-14.336 63.488-14.336 205.824 0 11.264-16.384 27.648l-4.096 5.12-6.144 8.192V131.072h4.096q290.816 39.936 496.128 122.88t440.832 260.096q115.712 83.968 241.664 209.92 10.24 11.264 22.016 10.752t29.184-19.968q3.072-3.072 9.216-10.24t10.24-10.752 5.12-3.584q4.096 0 11.776 9.216t21.504 37.376 29.184 70.144q21.504 62.464 30.72 109.568 5.12 23.552 6.144 38.912M1577.984 395.264V238.592q0-28.672 5.12-38.912 1.024-3.072 9.728-4.608t11.776-.512h1.024v2.048q8.192 45.056 14.336 54.272 20.48 23.552 66.56 32.768h1.024v171.008l-3.072-13.312q-1.024-4.096-3.584-13.312t-4.608-13.312q-25.6-58.368-48.128-66.56-16.384-5.12-30.72 18.432-4.096 9.216-9.216 26.624v2.048z'/%3e%3c/svg%3e"),3871742104:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='120' height='32'%3e%3cpath d='M31.52 18.176h.096v.032h-.096zm-5.376.352h.192v.064h-.192zM78.4 14.24h37.92c-.224.256-7.936 8.704-13.888 9.088-.32 0-.64.032-.992.064-.384.064-.736-.032-1.12.032-.352.032-.672 0-.992 0H72.544c-.128.096-.224.192-.32.256-.064.064-.16.128-.224.192h-1.024c-.096.064-.288.16-.48.288-.096-.384-.32-.512-.544-.64-.736-.352-1.44-.512-2.208-.48-.544.032-1.024.32-1.408.832-.096.128-.16.288-.224.384-.416.096-.672-.224-.992-.288-1.504.608-3.616.352-3.744-2.336-1.568 0-1.696 0-3.04-.032-.032-.384-.032-2.08-.032-2.464 0-.576-.128-.736-.544-.768-.384 0-.768-.032-1.152-.032-.352 0-.736.032-1.088.032-.32.032-.64-.032-.96 0s-.576.032-.896 0c-.48-.032-.992 0-1.504.032-.288 0-.576-.096-.864-.032s-.608 0-.896 0c-.288.032-.544-.064-.832 0a4 4 0 0 1-.864 0c-.448-.032-.928 0-1.408 0-.32.032-.672-.032-.992 0s-.672 0-.992 0c-.256.032-.512-.064-.768 0s-.512 0-.768 0c-.32.032-.672-.032-.992 0s-.608.032-.928 0c-.512-.032-1.056.064-1.536 0-.224.128-.384.256-.576.352l-.096-.224-.384-.032c-.064-.128-.096-.288-.192-.416h-6.368c0 .288 0 .576-.032.896-.512.16-1.056.16-1.472.768-.224-.16-.448-.288-.576-.672-.416-.416-.928-.256-1.44-.448.064.096.096.192.128.288.224.448.224 1.056.064 1.536 0 .032-.032.064-.032.096-.128.384-.32.64-.64.768-.448.192-.928 0-1.216-.608-.096-.224-.224-.48-.352-.736h-5.024c-.032-.16-.064-.288-.096-.448h4.064c.064-.16.096-.288.16-.448-.224-.128-.448-.064-.64-.064-.224-.032-.416-.096-.64-.128l-.16-.224H10.336c-.288.16-.48.256-.704.352-.192.128-.416 0-.608.032-.224.064-.448.16-.576 0l-.544.064-.128.16c-.224-.096-.448-.032-.672 0-.096 0-.224.096-.32.192s-.16.128-.192.384c-.032.128 0 .224 0 .352l.224.032c0 .192 0 .48-.032.672-.032-.032-.128 0-.192-.032v.992H5.056c0-.096-.032-.192-.032-.32 0-.288-.064-.288-.16-.544-.448-1.024-.768-1.728-.928-2.88-.096-.864-.128-1.152-.032-2.016.128-1.024.32-1.728.64-2.656.032-.128.512-.992.512-1.632.48-.064.992 0 1.472 0 .032.352-.032.672 0 .896l.256.064.032.512-.224.032c-.032.48.128.896.576 1.024l.224-.096.128.16.352-.064.224.224.224-.128.256.16.352-.224.544.192c.352-.192.672-.032 1.024.256h18.368c.608 0 1.184.096 1.76-.352l.064-.256c.16-.128.32-.256.48-.416.448.512.96.704 1.536.704v1.056h.32c1.888 0 3.744 0 5.632-.032.16 0 .32-.032.48-.064.032-.16.064-.256.096-.384h.416l.096-.224c.192-.16.32.096.448.224.32 0 .64-.032.96 0 .288.032.608 0 .896 0h.832c.384 0 .736.032 1.12 0 .288-.032.608.032.896 0 .352-.032.736 0 1.12 0h.704c.352 0 .704-.032 1.024 0s.608 0 .928 0 .64-.032.992 0c.256.032.512 0 .768 0h1.024c.32 0 .64.032.992 0 .32-.032.64.032.96 0 .288-.032.608 0 .928 0h3.808c.064-.192.16-1.024.256-1.248.032 0 .128-.032.192-.032a.5.5 0 0 0 .128-.224h5.312c2.176 0 4.352 0 6.528.032.384 0 .896-.064 1.056-.224.256-.288.448-.448.672-.576h.832c0 .384.064.384-.096.768.416.256 1.056.128 1.632.256.032.096.064.224.096.32h1.504c.224 0 .896-.672 1.024-.96.096-.16.16-.32.224-.48h.896c.096.64-.064.928 0 1.568m-51.904 4.864c.064-.032.128-.032.192-.032v-.064h-.192zm1.888 1.728c.416 0 .704-.448.704-.992 0-.576-.288-1.024-.704-1.024-.384 0-.704.448-.704 1.024 0 .544.32.992.704.992m3.488-2.144H32s0-.032-.032-.032h-.096zM64.8 23.136c.416-.288.608-.832.576-1.504h-3.168c.064.64.16.992.32 1.28.288.48 1.504.8 2.272.224'/%3e%3c/svg%3e")},m={2:d("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='white' d='M4.466 7q0 .002.002.004l.002-.002zm.002.004c-.052.04-.06.092-.08.137q-.348.773-.7 1.547c-.114.25-.202.278-.441.15q-.006-.004-.011-.01c-.935-.524-1.904-.98-2.87-1.441C.334 7.369.3 7.334.254 7.355c-.015.04.02.067.034.096q.324.633.653 1.264c.277.533.558 1.067.851 1.595.123.22.091.312-.135.424-.023.01-.045.017-.068.03q-.742.348-1.479.7c-.039.018-.091.021-.109.083q.569.264 1.137.523c.172.078.35.145.523.22q.277.123.152.4l-.034.068c-.536.928-.98 1.904-1.431 2.875-.011.026-.055.055-.02.092h.009a.1.1 0 0 0 .066-.024c.934-.488 1.87-.975 2.797-1.478a2 2 0 0 1 .15-.079c.13-.05.214-.023.288.094q.039.06.072.135l.537 1.15q.111.239.227.477c.048-.03.055-.074.07-.11q.314-.697.625-1.396l.004-.018c.034-.078.072-.156.108-.218.087-.151.157-.173.314-.106l.004.002c.03.015.065.03.09.045.923.525 1.886.97 2.844 1.426.034.018.068.047.132.03-.49-.97-.969-1.941-1.501-2.883-.165-.29-.137-.377.17-.514.483-.217.97-.43 1.453-.649.042-.017.098-.02.119-.078l-.084-.045c-.512-.252-1.023-.507-1.543-.744-.244-.11-.267-.197-.143-.431.002-.006.004-.008.008-.014q.14-.25.274-.504l-.68-.472q-.386.846-.838 1.667l1.072.528c-.09.069-.177.094-.258.13q-.349.157-.699.311c-.12.055-.12.057-.059.168.3.544.578 1.1.856 1.656l.011.053a26 26 0 0 1-1.84-.904l-.5 1.111-.523-1.107-1.777.933-.027-.023c.271-.615.556-1.225.89-1.826-.358-.164-.72-.32-1.09-.512l1.085-.516q-.409-.781-.813-1.562c-.04-.076-.091-.147-.105-.234-.015-.002-.027-.012-.015-.024.011-.012.023 0 .026.012.074.006.134.047.198.076.544.256 1.087.515 1.627.815l.511-1.133v.004l.514 1.134c.54-.3 1.081-.575 1.635-.841l-.738-.51-.186.103c-.252.142-.346.11-.467-.146q-.01-.028-.026-.057l-.444-.99q-.14-.314-.287-.633zm4.101.318c-.022.005-.04.022-.06.032q-.787.396-1.569.8c.125.46.394 1.114.555 1.489.377-.726.722-1.468 1.068-2.21.016-.033.051-.065.03-.11a.04.04 0 0 0-.022 0zm-4.1 3.274a.895.895 0 1 0 .002 0zm.003.642h.002a.254.254 0 0 1 .25.246.256.256 0 0 1-.239.254h-.01a.253.253 0 0 1-.253-.242v-.008c0-.137.113-.249.25-.25z'/%3e%3cpath fill='%234d88ff' d='M13.315 7v4.194l1.296 1.602L16 10.958zm-2.544.707-2.168 2.968L12.208 16l.589-.801v-4.948z'/%3e%3cpath fill='%2335e366' d='M8.17 0 6.133 1.764a1.572 1.572 0 0 0 0 2.375l.572.496.998-.865-.26-.225a.787.787 0 0 1 0-1.188l.729-.628.726.628a.785.785 0 0 1 0 1.188l-.26.225-.466.404-.998.865-.469.404-.572.496a1.572 1.572 0 0 0 0 2.375l.787.68a1.342 1.342 0 0 1 .008-2.017l.514-.444.26-.226.468-.405.998-.863.467-.406.002.002.572-.494a1.572 1.572 0 0 0 0-2.375zm1.466 5.443-.998.866.26.224.513.446c.296.256.449.61.46.968l.83-1.209a1.56 1.56 0 0 0-.491-.797l-.002-.002z'/%3e%3c/svg%3e"),3:d("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='%23f0631e' d='M8.002 0 8 .002c-.019.035-.051.08-.074.117a94 94 0 0 1-1.797 2.799c-.36.54-.74 1.07-1.002 1.67-.273.625-.392 1.268-.193 1.94.185.628.592 1.096 1.1 1.488l-.008-.004q.407.322.947.488c-.027-.053-.073-.061-.107-.082a2.4 2.4 0 0 1-.852-.84c-.396-.685-.344-1.366.041-2.035.594-1.033 1.287-2 1.92-3.01.008-.01.023-.015.039-.023q.163.258.326.512c.539.834 1.106 1.652 1.604 2.513.54.933.378 1.903-.434 2.61l.008-.004q-.11.091-.229.178l.06.062c.4-.175.746-.43 1.051-.748.694-.719.92-1.558.66-2.527-.147-.548-.426-1.032-.732-1.5-.75-1.15-1.521-2.288-2.234-3.463C8.067.099 8.014.02 8.002 0zM8 4.408c-.015.032-.019.045-.026.057-.349.591-.708 1.174-1.03 1.781-.293.555-.177 1.1.303 1.504q.211.177.451.246L7.68 6.67l1.07 1.096c.467-.373.604-.91.36-1.432-.144-.307-.32-.595-.492-.887l-.611-1.039z'/%3e%3cpath fill='%238e749e' d='M4.25 7.5A4.25 4.25 0 0 0 0 11.75 4.25 4.25 0 0 0 4.25 16a4.25 4.25 0 0 0 4.162-3.385l-.732-.332-.395-.783A3.3 3.3 0 0 1 7 12.607a2.3 2.3 0 0 1-.428.614 1.6 1.6 0 0 1-.62.379c.193-.138.353-.307.476-.496.12-.191.211-.396.264-.614.12-.427.127-.88.076-1.316a2.95 2.95 0 0 0-.404-1.205 2.8 2.8 0 0 0-.875-.889 2 2 0 0 0-.551-.266c-.194-.072-.4-.1-.613-.115a5 5 0 0 0-.65.006 2.7 2.7 0 0 0-.632.13c-.831.264-1.56.875-2.097 1.659a3.52 3.52 0 0 1 1.908-2.158v.01q.351-.16.738-.225c.256-.048.502-.064.762-.064q.324.002.65.082a4.344 4.813 0 0 1-.543-.633 4 4 0 0 0-.21-.006zm2.295 1.611q.216.248.375.537c.25.455.367.965.377 1.46l1.16.048a4.2 4.2 0 0 0-.705-1.818 4.344 4.813 0 0 1-1.207-.227zm-4.125.672a1.9 1.9 0 0 0-.479.496q-.182.288-.263.614c-.12.427-.128.882-.077 1.318.053.435.185.85.405 1.203.217.356.523.66.876.889.181.12.35.205.55.265.193.072.4.1.613.116.21.01.44.01.652-.007.213-.015.422-.063.629-.13.831-.264 1.56-.873 2.097-1.657a3.52 3.52 0 0 1-1.906 2.157v-.008q-.35.16-.738.224a4 4 0 0 1-.764.063 3 3 0 0 1-.777-.113 2.6 2.6 0 0 1-.725-.34 3.24 3.24 0 0 1-1.062-1.137 3.2 3.2 0 0 1-.38-1.49 3.44 3.44 0 0 1 .3-1.469c.111-.226.252-.439.428-.613.178-.175.392-.31.62-.381zm1.83.406a1.56 1.56 0 1 1 0 3.123 1.563 1.563 0 0 1 0-3.123'/%3e%3cpath fill='%2379bbe8' d='M11.488 15.859v-1.465c0-.354-.039-.379-.34-.212q-1.023.563-2.043 1.128c-.194.108-.408.145-.624.175a5.7 5.7 0 0 1-.98.071c.043-.08.116-.115.168-.166.304-.29.614-.575.916-.867q.714-.692 1.426-1.385c.067-.061.054-.094-.027-.133-.53-.276-1.045-.588-1.59-.834-.316-.142-.538-.378-.731-.658.059-.03.107-.019.153-.019q.689.002 1.378 0c.25 0 .285-.062.168-.27-.378-.692-.755-1.383-1.142-2.068-.12-.213-.165-.443-.198-.676-.044-.317-.089-.636-.069-.98.15.157.287.297.42.441q.984 1.056 1.998 2.082c.083.081.11.062.156-.019.281-.545.6-1.07.857-1.628.133-.29.377-.48.627-.666.039.061.026.105.026.151v1.393c0 .255.044.284.265.163q1.043-.57 2.082-1.147c.195-.11.407-.156.62-.184.267-.03.537-.062.806-.081.055-.008.112 0 .19 0-.074.123-.167.192-.249.267q-1.12 1.044-2.207 2.119c-.094.094-.084.131.03.191.54.281 1.061.597 1.616.85.262.118.445.335.617.559.018.018.043.045.03.071-.015.02-.063.02-.094.02h-1.378l-.16.002c-.118 0-.148.061-.097.159q.182.348.37.69c.281.511.567 1.021.847 1.534.145.265.161.564.2.854.026.158.039.34.039.524l-.002.155v-.008c-.116-.105-.254-.206-.377-.329-.217-.22-.42-.454-.636-.675-.464-.48-.932-.956-1.394-1.436-.078-.072-.116-.081-.175.019-.271.522-.578 1.027-.82 1.567-.134.304-.37.52-.665.724zm.268-4.886c-.03.019-.05.03-.07.062q-.331.336-.667.666c-.066.061-.054.107.008.165q.326.32.646.647c.058.061.096.071.162.008q.328-.34.667-.668c.05-.056.062-.072.003-.136q-.342-.336-.679-.676c-.026-.019-.044-.031-.07-.062z'/%3e%3c/svg%3e"),4:d(a)},h={45:l(n),46:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M40.1 30.03c.39-.47.59-1.11.42-1.8-.18-.76-.81-1.39-1.58-1.55-.81-.17-1.54.14-2.01.68 0 0-.03.04-.05.07l-.12.15c-.47.61-1.95 2.37-3.29 2.45-1.62.1 2.51-16.14 2.51-16.14h-.01c.04-.15.07-.31.07-.48 0-.98-.79-1.77-1.77-1.77-.81 0-1.49.55-1.69 1.29h-.01s-.01.03-.01.05l-.03.15c-.24 1.21-1.68 8.2-2.81 8.89-1.24.75-1.22-13.23-1.22-13.23 0-.98-.79-1.77-1.77-1.77s-1.77.79-1.77 1.77c0 0-.35 12.85-1.73 12.73-1.37-.12-2.47-10.67-2.47-10.67 0-.98-.79-1.77-1.77-1.77s-1.77.79-1.77 1.77c0 .15.02.28.06.42.27 2.06 1.36 11.12-.06 11.12-1.6 0-3.68-6.35-3.68-6.35a1.62 1.62 0 0 0-3.14.56c0 .09.01.17.03.25l-.03.01s.02.07.07.19c.02.09.05.17.09.25.99 2.71 6.28 17.46 7.26 26.23.03.25.24.44.49.44H30.5a.5.5 0 0 0 .5-.45c.1-1.04.52-3.68 2.09-5.54 1.8-2.14 6.06-6.89 6.86-7.79.02-.02.03-.04.05-.06.07-.06.11-.1.1-.1'/%3e%3c/svg%3e"),47:l(s),48:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M13 7.6h13.96c1.73 0 2.99 1.64 2.54 3.32l-5.44 20.46c-.07.28.03.57.28.72.99.62 4.64 2.57 8.15 5.78.12.11 2.92-.03 3.09-.01 2.31.2 3.97-.08 5.05 4.7.09.42-.21.82-.64.82H11.82c-.34 0-.63-.26-.66-.61-.15-1.82-.4-7.23 1.74-9.32a.62.62 0 0 0 .2-.6c-.39-1.74-2.09-9.83-2.74-22.48-.07-1.5 1.12-2.78 2.64-2.78'/%3e%3c/svg%3e"),49:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M43.12 7.12c-4.13 2.33-17.62 1.9-17.62 1.9s-13.49.43-17.62-1.9c-.37-.21-.85-.03-.94.39-.36 1.49-.87 4.42.09 5.86.09.13.22.21.38.25 1.23.3 7.36 1.65 18.09 1.65s16.86-1.35 18.09-1.65c.15-.04.29-.12.38-.25.96-1.44.45-4.37.1-5.86-.1-.42-.58-.6-.95-.39M9.27 28.34s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.73c-1.93-.22-3.45-.45-4.55-.65v13.26zM16.3 34.8s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V16.24c-1.66-.06-3.18-.16-4.55-.27V34.8zM37.18 28.34s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.08c-1.09.2-2.61.44-4.55.65v12.61zM30.15 34.8s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.97c-1.36.11-2.88.21-4.55.27V34.8zM23.23 16.31v25.31s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V16.31c-.74.01-1.49.02-2.27.02-.78.01-1.54 0-2.27-.02'/%3e%3c/svg%3e")},p={...h,...m,...u,1:l(c),39:l(r),43:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' viewBox='0 0 1024 1024'%3e%3cpath d='m63.199 961.01-27.777 1.128 15.482-35.113-15.393 4.625L10.18 957.06l-3.929-3.121 23.66-29.437-.509-67.228-13.412-2.313-1.926-46.966s-43.037-31.539 21.447-70.703c64.23-39.009 73.459 10.557 79.955 5.334 9.34-7.503 37.006-38.323 45.261-39.54 8.123-1.184-9.274 22.42-1.682 24.59 7.58 2.157 33.753-2.557 47.21-11.587 21.844-14.674 51.458-43.502 83.894-76.469 18.967-18.304 1.682-37.139-26.527-35.81-16.677.774-31.251-179.93-28.208-210.251 3.055-30.322 25.409-48.538 52.853-54.956s189.79-2.39 227.968-22c38.19-19.62 256.862-189.457 265.56-208.89 8.71-19.443 8.411-68.257 15.084-78.637C810.292 8.237 832.015.003 832.015.003l62.48 53.362C740.066 203.337 568.68 371.48 444.68 503.093c53.517-27.589 156.656-133.77 180.46-139.846l1.549 33.033 31.362 2.578c-6.075 23.793-112.257 126.943-139.846 180.45 131.613-124 299.767-295.374 449.727-449.817l53.363 62.481s-8.234 21.723-29.072 35.136c-10.38 6.673-59.194 6.374-78.638 15.083-19.432 8.71-189.268 227.382-208.878 265.56-19.62 38.191-15.581 200.535-22 227.969-6.418 27.444-24.645 49.81-54.967 52.853-30.322 3.054-211.025-11.531-210.24-28.208 1.318-28.198-17.517-45.494-35.821-26.527-32.956 32.447-61.795 62.05-76.469 83.906-9.03 13.445-13.744 39.618-11.575 47.21 2.158 7.58 25.773-9.817 24.578-1.694-1.217 8.255-32.037 35.921-39.54 45.273-5.224 6.496 44.343 15.725 5.334 79.954-39.164 64.484-70.703 21.447-70.703 21.447l-46.966-1.937-2.313-13.401-67.228-.51-29.437 23.66-3.12-3.939 25.408-25.32 4.625-15.404-35.113 15.482zm160.286 41.753c-7.426-17.208 20.495-16.655 15.636-42.484-5.079-26.99-8.144-43.015 21.016-40.414 19.886 1.781 21.28 11.918 17.816 38.334-3.375 25.674-47.054 61.772-54.468 44.564m100.892-229.185c-35.29 36.84-52.123 63.045-41.975 73.713-13.39 31.561-37.04 53.75-67.24 69.973-9.904 8.344-31.793-3.95-9.782-28.175 40.226-46.468 79.844-84.315 118.997-115.511m-73.968-76.657c-36.84 35.29-63.045 52.123-73.713 41.986-31.561 13.38-53.75 37.039-69.962 67.228-8.355 9.916 3.94 31.794 28.164 9.783 46.468-40.227 84.315-79.844 115.511-118.997M21.224 797.824c17.22 7.415 16.655-20.506 42.495-15.648 26.991 5.08 43.004 8.156 40.403-21.015-1.77-19.875-11.918-21.28-38.334-17.817-25.674 3.376-61.772 47.055-44.564 54.48m519.003-127.828c-11.819 19.378-28.496 31.008-50.042 34.904l2.025-32.325zm-99.63-29.16c4.946 5.047-1.373 14.398-9.983 21.447-8.598 7.06-19.487 11.83-23.682 7.713-8.388-8.211 23.76-39.274 33.664-29.16m-14.94-74.587 31.107 32.214-24.733 28.507-35.69-36.63zm-42.495 14.464c-5.058-4.947-14.409 1.372-21.458 9.97-7.06 8.61-11.819 19.5-7.713 23.694 8.211 8.388 39.285-23.771 29.17-33.664M353.99 481.07c-19.366 11.819-31.008 28.507-34.904 50.042l32.325-2.025z'/%3e%3c/svg%3e"),42:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' viewBox='0 0 1024 1024'%3e%3cpath d='m.008 307.385 326.616-99.158 46.246-38.561 4.375 26.074 229.31-79.426S708.524 14.702 709.913 14.702c-1.39 0 16.815 2.65 16.815 2.65L653.263 96.72s325.818-126.598 363.778-86.323-91.451 368.475-91.451 368.475l93.73-83.627 4.144 13.795-110.86 103.834-80.502 232.145 27.868 16.538-36.906 24.385-102.55 335.585c-68.258-7.257-152.984-31.618-181.686-78.327 12.43-60.064 34.257-125.545 73.536-152.221l-182.6 4.282-32.012 30.622-9.57-47.403-144.873-140.486-45.922-7.985 28.354-39.916 1.864-168.458c-44.95 49.556-98.904 55.493-158.425 62.622C31.695 448.727 10.24 374.382.008 307.385m414.27 124.585s168.343-74.137 124.7-140.532c-43.653-66.395-124.7 140.532-124.7 140.532m175.333 179.95s79.461-165.9 144.433-120.152S589.61 611.92 589.61 611.92m106.936-282.58C768.937 395.908 1009.576 73.678 982.1 42.21 954.627 10.732 624.17 262.771 696.547 329.34m-531.854 6.84c4.143-3.878 13.54-.59 20.994 7.337 7.441 7.939 10.138 17.533 5.995 21.41-4.132 3.888-13.54.602-20.982-7.337-7.453-7.928-10.138-17.522-6.007-21.41m498.141 498.626c4.132-3.888 13.54-.601 20.982 7.338 7.453 7.927 10.138 17.521 6.007 21.398-4.143 3.889-13.54.602-20.994-7.337-7.441-7.928-10.138-17.522-5.995-21.399'/%3e%3c/svg%3e"),19:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' viewBox='0 0 1024 1024'%3e%3cpath d='m512.075 299.302 268.047 268.614v-426.84H244.029v426.84zm0 532.583c63.518.063 191.855-92.607 189.375-95.087 2.48 2.48-189.375-192.17-189.375-192.17S320.22 739.278 322.7 736.798c-2.48 2.48 125.858 95.15 189.375 95.087m0 36.656c97.42 0 292.28-149.588 292.28-195.744v-559.57h-584.56v559.57c0 46.156 194.86 195.744 292.28 195.744m0 46.03c158.268 0 353.234-195.113 353.234-232.63V117.367c0-51.495 40.418-67.343 40.418-67.343H118.424s40.418 15.848 40.418 67.343V681.94c0 37.518 194.966 232.63 353.233 232.63m0 59.398c-89.348 0-230.297-93.133-268.046-156.04 85.124 70.495 195.575 130.797 268.046 130.797s182.923-60.302 268.047-130.797c-37.75 62.907-178.698 156.04-268.047 156.04m416.31-727.023c52.86 8.155 52.21 43.528 43.087 51.032-2.438 1.997-12.442 9.017-17.277 1.66-6.074-9.269 11.497-10.34 6.558-22.216-4.666-11.203-22.09-22.321-35.773-23.057-2.733 6.894-4.288 16.037-4.288 28.038l-1.723 254.028c-.484 23.876 6.873 36.929 20.303 41.595-19.82 3.216-47.795-8.092-47.795-28.144l1.093-282.654c1.429-30.897 36.698-55.215 70.474-51.81 20.913 2.102 54.879 26.546 60.953 59.755-15.364-24.444-47.46-40.229-63.055-40.712-12.085-.379-25.117 3.53-32.557 12.485m-832.745 0c-52.861 8.155-52.23 43.528-43.109 51.032 2.438 1.997 12.464 9.017 17.277 1.66 6.075-9.269-11.497-10.34-6.557-22.216 4.666-11.203 22.11-22.321 35.773-23.057 2.732 6.894 4.287 16.037 4.287 28.038l1.724 254.028c.483 23.876-6.873 36.929-20.283 41.595 19.8 3.216 47.775-8.092 47.775-28.144l-1.093-282.654c-1.408-30.897-36.677-55.215-70.453-51.81-20.935 2.102-54.9 26.546-60.974 59.755 15.385-24.444 47.459-40.229 63.054-40.712 12.086-.379 25.117 3.53 32.579 12.485'/%3e%3c/svg%3e"),23:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3e%3cpath d='M9.055 10.446 16 10.423 9.052 20.874 16 20.85 8.588 32H1.543l7.036-10.428H1.543L8.575 11.15H1.543L9.05.024 16 0zm13.89 0L16 0l6.95.024 7.507 11.126h-7.032l7.032 10.422h-7.036L30.457 32h-7.045L16 20.85l6.948.024L16 10.423z'/%3e%3c/svg%3e"),22:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3e%3cpath d='M14.839 15.979 1.661 8.37v15.218zm2.322 0 13.178 7.609V8.37zm5.485-12.175L16.057 0 2.879 7.609l13.178 7.609 13.179-7.609zm0 16.784-6.589-3.805-13.178 7.609L16.057 32l13.179-7.608-6.59-3.805z'/%3e%3c/svg%3e"),21:l("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3e%3cpath d='m5.442 23.986 7.255-11.65-2.71-4.322L0 23.986zm5.986 0 4.28-6.849-2.717-4.333-6.992 11.182zm7.83-11.611 7.316 11.611H32L21.985 8.014zm-7.26 11.611h8.004l-4.008-6.392zm6.991-11.182-2.703 4.324 4.302 6.858h5.413zm-5.707-.459 2.71-4.331 2.71 4.331-2.703 4.326z'/%3e%3c/svg%3e")},f={1498876634:2,2465295065:3,953998645:4,3448274439:45,3551918588:46,14239492:47,20886954:48,1585787867:49,4023194814:39,2025709351:43,284967655:42,4274335291:19};function g(e){for(const t of e.toReversed()){const e=u[t];if(e)return e}}function y(e){return g(e.itemCategoryHashes)}function v(e){for(const t of e.itemCategoryHashes.toReversed()){const e=m[t];if(e)return e}}function b(e){for(const t of e.itemCategoryHashes.toReversed()){const e=h[t];if(e)return e}}function A(e){const t=f[e];if(t)return p[t]}},24416:(e,t,o)=>{o.d(t,{m:()=>p});var s=o(6907),n=o(16673),a=o(58769),r=o(13526),i=o(18374),c=o(8935),l=o(94061),d=o(20204);const u={dropdownMenu:"text-complete-m_dropdownMenu-TmZRcKSv"};function m(e,t){return{match:/#(\w*)$/,search:(o,s)=>{const n=o.toLowerCase(),r=(0,a.VT)(e.current.value).map((e=>e.toLowerCase())),i=[];for(const e of t){const t=e.toLowerCase();r.includes(t)||(t.startsWith("#"+n)?i.unshift(e):t.includes(n)&&i.push(e))}s(i)},replace:e=>e+" "}}function h(e){return{match:/\B:(\p{L}*)$/u,search:(t,o)=>{const s=t.toLowerCase(),n=[];for(const t of e){const e=t.name;e.startsWith(s)?n.unshift([t.glyph,e]):e.includes(s)&&n.push([t.glyph,e])}o(n)},template:([e,t])=>`${e} :${t}:`,replace:([e])=>e+" "}}function p(e,t,o){const a=(0,c.d4)(l.$);(0,i.useEffect)((()=>{if(e.current){const i=new n.a(e.current),c=new s.Textcomplete(i,[m(e,t),h(a)],{dropdown:{className:(0,r.A)(u.dropdownMenu,"textcomplete-dropdown"),parent:o?.current??d.W}});return()=>{c.destroy()}}}),[o,a,t,e])}},36900:(e,t,o)=>{o.d(t,{A:()=>S});var s=o(10544),n=o(86385),a=o(2290),r=o(50784),i=o(58769),c=o(62447),l=o(83793),d=o(86119),u=o(92369),m=o(49629),h=o(18374),p=o(8935),f=o(86335),g=o(51504),y=o(43036),v=o(24416);const b={form:"useBulkNote-m_form-zzrc1mEE",body:"useBulkNote-m_body-d2qzFACg",radios:"useBulkNote-m_radios-Q80kjTfu",preview:"useBulkNote-m_preview-PINeSwjS"};var A,k,w=o(64395),I=o(94518);function S(){const[e,t]=(0,w.Ay)(((e,t)=>(0,s.A)(x,{close:t,items:e}))),o=(0,u._)();return[e,(0,h.useCallback)((async e=>{const s=await t(e);if(null!==s&&e?.length)for(const t of e)switch(s.appendMode){case"replace":o((0,r.bS)(t,s.note));break;case"append":o((0,r.b$)(t,s.note));break;case"remove":o((0,r.ZA)(t,s.note))}}),[o,t])]}function x({close:e,items:t}){const[o,n]=(0,h.useState)(""),[r,l]=(0,h.useState)("replace"),d=(0,h.useCallback)((()=>e(null)),[e]),u=(0,h.useCallback)((()=>e({note:o,appendMode:r})),[r,e,o]),f=(0,s.A)("button",{className:"dim-button dim-button-primary",type:"button",onClick:u},void 0,(0,a.t)("BulkNote.Confirm")),g=(0,s.A)("button",{className:"dim-button",type:"button",onClick:d},void 0,(0,a.t)("Dialog.Cancel")),y=[{value:"replace",label:(0,a.t)("BulkNote.Replace")},{value:"append",label:(0,a.t)("BulkNote.Append")},{value:"remove",label:(0,a.t)("BulkNote.Remove")}],v=(0,p.d4)(c.vX),S=t.find((e=>e.taggable&&v(e)))??t.find((e=>e.taggable)),x=S&&v(S),N="replace"===r?o:"append"===r?(0,i.du)(x,o):(0,i.Vj)(x,o);return(0,I.jsxs)(I.Fragment,{children:[(0,s.A)(w.hE,{},void 0,(0,s.A)("h2",{},void 0,(0,a.t)("BulkNote.Title",{count:t.length}))),(0,s.A)(w.nB,{className:b.body},void 0,(0,s.A)(T,{notes:o,onNotesChanged:n}),(0,s.A)("div",{className:b.radios},void 0,y.map((e=>(0,s.A)("label",{},e.value,(0,s.A)("input",{type:"radio",name:"appendmode",checked:r===e.value,onChange:()=>l(e.value)}),e.label)))),S&&(0,s.A)("div",{className:b.preview},void 0,A||(A=(0,s.A)("div",{},void 0,"Before:")),(0,s.A)("div",{},void 0,x),k||(k=(0,s.A)("div",{},void 0,"After:")),(0,s.A)("div",{},void 0,N))),(0,s.A)(w.yp,{},void 0,(0,m.uF)()?(0,I.jsxs)(I.Fragment,{children:[g,f]}):(0,I.jsxs)(I.Fragment,{children:[f,g]}))]})}function T({notes:e,onNotesChanged:t}){const o=(0,h.useRef)(null),r=(0,h.useRef)(null),i=(0,d.Jn)(),u=(0,p.d4)(c.d6);(0,v.m)(o,u,r);const A=!i&&!(0,m.QM)();return(0,h.useLayoutEffect)((()=>{if(!r.current)return;const e=(0,n.calculateElementOffset)(r.current),t=r.current.querySelector(".textcomplete-dropdown");t&&t instanceof HTMLElement&&t.style.left&&(t.style.left=parseInt(t.style.left,10)-e.left+"px",t.style.top=parseInt(t.style.top,10)-e.top+"px")}),[e]),(0,I.jsx)("form",{name:"notes",ref:r,className:b.form,children:(0,s.A)(g.xw.Provider,{value:r},void 0,(0,s.A)(y.C,{input:o,setValue:e=>t(e)},void 0,(0,I.jsx)(f.A,{ref:o,name:"data",placeholder:(0,a.t)("Notes.Help"),autoFocus:A,maxLength:l.R,value:e,onChange:e=>t(e.target.value)})))})}},64395:(e,t,o)=>{o.d(t,{nB:()=>f,yp:()=>p,hE:()=>h,Ay:()=>m});var s=o(10544);const n={dialog:"useDialog-m_dialog-gyFDHFsr",title:"useDialog-m_title-x7Tq91rL",buttons:"useDialog-m_buttons-_jbJkzRV",body:"useDialog-m_body-k_HhA4jN"};var a=o(20204),r=o(13526),i=o(18374),c=o(59981),l=o(94518);class d extends Error{constructor(e){super(e),this.name="DialogError"}}const u=(0,i.forwardRef)((function({children:e},t){const o=(0,i.useRef)(null),[r,u]=(0,i.useState)(),m=(0,i.useCallback)((e=>{let t,s;r&&r.reject(new d("another dialog shown while this one is open"));const n=new Promise(((e,o)=>{t=e,s=o}));return u({args:e,promise:n,resolve:t,reject:s}),o.current.showModal(),n}),[r]);return(0,i.useImperativeHandle)(t,(()=>({showDialog:m})),[m]),(0,s.A)(a.Z,{},void 0,(0,l.jsx)("dialog",{className:n.dialog,ref:o,onClose:()=>{r&&(r.reject(new d("canceled")),u(void 0))},onClick:e=>e.stopPropagation(),children:(0,s.A)(c.A,{},void 0,r&&e(r.args,(e=>{r&&(r.resolve(e),u(void 0),o.current?.close())})))}))}));function m(e){const t=(0,i.useRef)(null),o=(0,i.useCallback)((e=>t.current.showDialog(e)),[]);return[(0,l.jsx)(u,{ref:t,children:e}),o]}function h({children:e}){return(0,s.A)("div",{className:n.title},void 0,e)}function p({children:e}){return(0,s.A)("div",{className:n.buttons},void 0,e)}function f({children:e,className:t}){return(0,s.A)("div",{className:(0,r.A)(n.body,t)},void 0,e)}},86775:(e,t,o)=>{o.d(t,{q:()=>n});var s=o(81014);function n(e){(0,s.A)(e,(e=>{const t=e.target;t.scrollHeight>t.clientHeight?(t.style.overflowY="auto",t.style.touchAction=""):(t.style.overflowY="hidden",t.style.touchAction="none")}))}},11226:(e,t,o)=>{o.d(t,{E:()=>v});var s=o(57028),n=o(92322),a=o(51649),r=o(7887),i=o(95474),c=o(78034),l=o(49847),d=o(7349),u=o(97006),m=o(71814);const h={name:"computeSidecarPosition",fn:function({state:e}){const t=e.elements.sidecar,o=e.modifiersData.arrow;if(!t||!o)return;const s=e.rects.popper.height,n=(0,u.A)(t).height,a=(0,m.q)((o.y||0)+5-n/2,0,s-n);e.styles.sidecar={...e.styles.sidecar,marginTop:Math.round(a)+"px"}},effect:function({state:e,options:t}){let o=t.element;o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o),o))&&(e.elements.sidecar=o)},enabled:!0,phase:"beforeWrite",requires:["arrow"]};var p=o(36871),f=o(18374);const g=(0,s.UD)({defaultModifiers:[n.A,a.A,r.A,i.A,c.A,l.A,d.A,h]}),y=(e="auto",t,o,s,n=(t?8:0),a=!1,r)=>{const i=parseInt(document.querySelector("html").style.getPropertyValue("--header-height"),10),c=s&&document.querySelector(s);return r??={left:10,top:i+(c?c.clientHeight:0)+5,right:10,bottom:10},{strategy:a?"fixed":"absolute",placement:e,modifiers:(0,p.oE)([{name:"preventOverflow",options:{priority:["bottom","top","right","left"],boundariesElement:"viewport",padding:r}},{name:"flip",options:{behavior:["top","bottom","right","left"],boundariesElement:"viewport",padding:r}},{name:"offset",options:{offset:[0,n]}},!!t&&{name:"arrow",options:{element:"."+t}},!!o&&{name:"computeSidecarPosition",options:{element:"."+o}}])}};function v({contents:e,reference:t,arrowClassName:o,menuClassName:s,boundarySelector:n,placement:a,offset:r,fixed:i,padding:c},l=[]){const d=(0,f.useRef)(),u=()=>{if(d.current){try{d.current.destroy()}catch{}d.current=void 0}};(0,f.useLayoutEffect)((()=>{if(!e.current||!t.current)return u();if(d.current)d.current.update();else{const l=y(a,o,s,n,r,i,c);d.current=g(t.current,e.current,l),d.current.update()}return u}),[e,t,o,s,n,a,r,i,c,...l])}},91484:(e,t,o)=>{o.d(t,{L:()=>k,c:()=>w});var s=o(19654),n=o(62447),a=o(65),r=o(51077),i=o(59343),c=o(61938),l=o(2430),d=o(99946),u=o(95840),m=o(73618),h=o(34966),p=o(6723),f=o(79055),g=o(85737);const y="farming-observer",v=[1498876634,2465295065,953998645,3448274439,3551918588,14239492,20886954,1585787867,434908299,4023194814,1469714392,3865314626],b=3e4;let A=0;function k(e){return async(t,o)=>{t(f.ni(e));const r=(0,g.h)(o());if(!r||r.id!==e)return;(0,u.zh)("farming","Started farming",r.name);const h=(0,m.P)((async(e,r)=>{if(!(0,g.c)(o()))return(0,a.L4)(e)?t(function(e,t){return async(o,a)=>{await o(function(e,t){const o=e.items.filter((e=>!e.equipped&&!e.notransfer&&(e.isEngram||e.equipment&&4274335291!==e.bucket.hash&&"Uncommon"===e.tier||i.S5.includes(e.hash))));return 0===o.length?()=>Promise.resolve():S(e,o,[],t)}(e,t)),(0,s.t2)(a()).farmingMakeRoomForItems&&await o(function(e,t){return async(o,s)=>{const a=(0,n.HN)(s()),r=v.map((e=>a.byHash[e]));return o(I(e,r,t))}}(e,t))}}(e,r)):t(function(e,t){return(o,s)=>{const a=(0,n.HN)(s()),r=Object.values(a.byHash).filter((e=>3===e.category&&e.vaultBucket));return o(I(e,r,t))}}(e,r));(0,u.zh)("farming","Farming interrupted, will resume when tasks are complete")}));t((0,l.lB)({id:y,runInitially:!0,getObserved:e=>(0,g.h)(e),sideEffect:({current:o})=>{const[s,n]=(0,d.Fb)();if(!o||o.id!==e)return t((0,l.OV)(y)),void n();h(o,s)}})),window.clearInterval(A),A=window.setInterval(c.O,b)}}function w(){return async e=>{e(f.ds()),window.clearInterval(A)}}function I(e,t,o){return async(i,c)=>{const l=(0,n.Wh)(c()),d=[],u=(0,n.Mj)(c()),m=(0,r.Hz)(c()),p=(0,s.A2)("inventoryClearSpaces")(c());for(const o of t){const t=(0,a.VS)(e,o.hash);if(t.length>0){const o=(0,a.j)(e,t[0])-p+1;if(t.length>=o){const o=t.filter((e=>!e.equipped&&!e.notransfer)),s=(0,h.kE)(o,e,(0,a.Px)(l),u,m)[0];s&&d.push(s)}}}if(0!==d.length)return i(S(e,d,t,o))}}function S(e,t,o,s){const n={};n[e.id]={};for(const t of o)n[e.id][t.hash]=1;return(0,p.e)(e,t,(0,h.cz)(s,t),n)}},79055:(e,t,o)=>{o.d(t,{WY:()=>r,ds:()=>a,mF:()=>i,ni:()=>n});var s=o(61898);const n=(0,s.createAction)("farming/START")(),a=(0,s.createAction)("farming/STOP")(),r=(0,s.createAction)("farming/INTERRUPT")(),i=(0,s.createAction)("farming/RESUME")()},85737:(e,t,o)=>{o.d(t,{c:()=>a,h:()=>n});var s=o(62447);const n=(0,o(63150).Mz)(s.Wh,(e=>e.farming.storeId),((e,t)=>e.find((e=>e.id===t)))),a=e=>e.farming.numInterruptions>0},80857:(e,t,o)=>{o.d(t,{$m:()=>i,OY:()=>c,VP:()=>r});var s=o(87362),n=o(10742);function a(...e){window.dataLayer.push(arguments)}function r(e,t){a("event","page_view",{page_title:t,page_location:window.location.origin+e,page_path:e})}function i(e,t){a("event",e,t)}function c(){a("js",new Date);const e=(0,s.gf)();a("config","G-MYWW38Z3LR",{allow_ad_personalization_signals:!1,allow_google_signals:!1,send_page_view:!1,user_id:e?.bungieMembershipId,dim_version:"8.50.0.3686",dim_flavor:"beta",browser_name:n.C0,browser_version:n.n5});const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-MYWW38Z3LR",document.head.appendChild(t)}window.dataLayer||=[]},59963:(e,t,o)=>{o.d(t,{kj:()=>m,rq:()=>u,t_:()=>h,vP:()=>l}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(2290),n=o(49629),a=o(57551),r=o(11071);const i={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓",return:"⏎",backspace:"⌫"},c={tab:(0,s.tl)("Hotkey.Tab"),enter:(0,s.tl)("Hotkey.Enter")};function l(e){return e.split("+").map((e=>("mod"===e&&(e=(0,n.cX)()?"command":"ctrl"),c[e]?(0,s.t)(c[e]):i[e]||e.toUpperCase()))).join(" ")}const d={};function u(e,t){if(!t?.length)return r.lQ;for(const o of t)g(e,o)}function m(e,t){if(t)y(e,t);else for(const t of Object.keys(d))y(e,t)}function h(){const e={};for(const t in d){const o=d[t].at(-1);e[l(o.combo)]=o.description}return e}const p=["ctrl","alt","shift","meta"];function f(e){return e.split("+").map((e=>"mod"===e?(0,n.cX)()?"meta":"ctrl":e)).sort((0,a.hn)(p,(e=>e))).join("+")}function g(e,t){const o=d[f(t.combo)]??=[],s=o.findIndex((t=>t.id===e));s>=0?o[s]={...t,id:e}:o.push({...t,id:e})}function y(e,t){const o=f(t),s=d[o],n=s?.findIndex((t=>t.id===e))??-1;n>=0&&s.splice(n,1),s?.length||delete d[o]}const v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},b=["Escape"];for(let e=0;e<=9;++e)v[e+96]=""+e;function A(e,t){const o=d[e];return!!o&&(o.at(-1)?.callback(t),t.preventDefault(),!0)}document.addEventListener("keydown",(function(e){const t=e.target instanceof HTMLElement&&(e.target.isContentEditable||["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)&&"checkbox"!==e.target.type)&&!b.includes(e.key);if(e.isComposing||e.repeat||t)return;const o=new Set;e.ctrlKey&&"ctrl"!==e.key&&o.add("ctrl"),e.altKey&&"alt"!==e.key&&o.add("alt"),e.shiftKey&&"shift"!==e.key&&o.add("shift"),e.metaKey&&"meta"!==e.key&&o.add("meta");const s=v[e.which]??String.fromCharCode(e.which).toLowerCase();o.add(s),A([...o].join("+"),e)||(o.delete("shift"),o.delete(s),o.add(e.key),A([...o].join("+"),e))}))},8761:(e,t,o)=>{o.d(t,{E:()=>a,v:()=>r});var s=o(18374),n=o(59963);function a(e,t,o,a){const r=(0,s.useId)();(0,s.useEffect)((()=>{a?(0,n.kj)(r,e):(0,n.rq)(r,[{combo:e,description:t,callback:o}])}),[r,e,t,o,a]),(0,s.useEffect)((()=>()=>(0,n.kj)(r,e)),[e,r])}function r(e){const t=(0,s.useId)();(0,s.useEffect)((()=>(0,n.rq)(t,e)),[e,t]),(0,s.useEffect)((()=>()=>(0,n.kj)(t)),[t])}},74217:(e,t,o)=>{o.d(t,{Y:()=>s,a:()=>n});const s=new(o(46673).l);function n(e){s.next(e)}},50279:(e,t,o)=>{o.d(t,{A:()=>h});var s=o(10544),n=o(19654),a=o(92298),r=o(11071),i=o(18374),c=o(8935),l=o(90789),d=o(99450),u=o(62447);const m=(0,n.A2)("autoLockTagged");function h({item:e,onClick:t,onShiftClick:o,onDoubleClick:n,hideSelectedSuper:h,dimArchived:p,allowFilter:f,innerRef:g}){var y;const v=(0,c.d4)((0,u.Y2)(e)),b=(0,c.d4)(a.iP),A=(0,c.d4)(a._D),k=(0,c.d4)(m),w=b===r.vF,I=(0,c.d4)((0,u.qi)(e)),S=(0,c.d4)((0,u.l2)(e)),x=(0,c.d4)((0,l.Zd)(e)),T=p&&w&&"archive"===v||f&&A&&!b(e);return(0,i.useMemo)((()=>y||(y=(0,s.A)(d.A,{item:e,isNew:I,tag:v,hasNotes:S,wishlistRoll:x,onClick:t,onShiftClick:o,onDoubleClick:n,searchHidden:T,hideSelectedSuper:h,innerRef:g,autoLockTagged:k}))),[g,I,e,S,t,n,o,T,h,v,x,k])}},28535:(e,t,o)=>{o.d(t,{A:()=>d});var s=o(20169),n=o(13526),a=(o(18374),o(322));const r={engram:"DraggableInventoryItem-m_engram-BlmgtRCV",cantDrag:"DraggableInventoryItem-m_cantDrag-Q3dOPgdG"};var i=o(13455),c=o(94518);let l=null;function d({children:e,item:t,anyBucket:o=!1}){const d=t.location.inPostmaster&&2!==t.destinyVersion||!t.notransfer?t.equipment||t.bucket.hasTransferDestination:t.equipment,[u,m]=(0,a.i)((()=>({type:t.location.inPostmaster||o?"postmaster":t.notransfer?`${t.owner}-${t.bucket.hash}`:""+t.bucket.hash,item:()=>((0,s.EV)(),l=requestAnimationFrame((()=>{l=null,document.body.classList.add("drag-perf-show")})),i.g.next(!0),t),end:()=>{null!==l&&cancelAnimationFrame(l),document.body.classList.remove("drag-perf-show"),i.g.next(!1)},canDrag:d})),[t]);return(0,c.jsx)("div",{ref:m,className:(0,n.A)("item-drag-container",t.isEngram&&r.engram,!d&&r.cantDrag),children:e})}},99450:(e,t,o)=>{o.d(t,{A:()=>R});var s=o(10544),n=o(47490),a=o(13526),r=o(18374),i=o(20505),c=o(60440),l=o(59816),d=o(1458),u=o(16283),m=o(68363),h=o(8935),p=o(44261);const f={badge:"BadgeInfo-m_badge-SLO2oppG",badgeContent:"BadgeInfo-m_badgeContent-COfeaEwS",engram:"BadgeInfo-m_engram-Qoa4o0JY",shapedIcon:"BadgeInfo-m_shapedIcon-pUWnXIPG",quality:"BadgeInfo-m_quality-njp8by6v",fullstack:"BadgeInfo-m_fullstack-LM5lXZDB",capped:"BadgeInfo-m_capped-s1HTP46u",masterwork:"BadgeInfo-m_masterwork-h7clG37L",deepsight:"BadgeInfo-m_deepsight-sci0Q4Me",energyCapacity:"BadgeInfo-m_energyCapacity-XvpsTGeC",fixContrast:"BadgeInfo-m_fixContrast-tH425UZ4"};var g=o(2290);const y={godroll:"RatingIcon-m_godroll-Ix_a_6E_",trashlist:"RatingIcon-m_trashlist-hoMvUHFR"};function v({uiWishListRoll:e}){return(0,s.A)(c.z9,2===e?{className:y.trashlist,icon:c.pu,title:(0,g.t)("Item.ThumbsDown")}:{className:y.godroll,icon:c.ms,title:(0,g.t)("Item.ThumbsUp")})}var b=o(62447),A=o(94518);function k({item:e,isCapped:t,wishlistRoll:o}){const r=!(e.primaryStat||!e.objectives),i=!!(e.maxStackSize>1),h=!r&&!i,g=e.bucket?.inArmor&&e.vendor&&e.stats?.find((e=>e.statHash===l.Tt));if(3284755031===e.location.hash||e.isEngram&&375726501===e.location.hash||r&&(e.complete||e.hidePercentage)||i&&1===e.amount||h&&!e.primaryStat?.value&&!e.classified)return null;const y=r&&Math.floor(100*e.percentComplete)+"%"||i&&""+e.amount||g&&""+g.value||h&&e.primaryStat?.value.toString()||e.classified&&(0,s.A)(w,{item:e}),b=e.element&&(2===e.element.enumValue||4===e.element.enumValue||7===e.element.enumValue),A=(0,m.yD)(o),k=e.crafted?(0,s.A)(d.A,{className:f.shapedIcon,icon:"enhanced"===e.crafted?c.K1:c.b0}):A&&(0,s.A)(v,{uiWishListRoll:A});return(0,s.A)("div",{className:(0,a.A)(f.badge,i&&e.amount===e.maxStackSize&&f.fullstack,t&&f.capped,e.masterwork&&f.masterwork,e.deepsightInfo&&f.deepsight,e.isEngram&&f.engram)},void 0,(0,u.Ne)(e)&&e.quality&&(0,s.A)("div",{className:f.quality,style:(0,n.oU)(e.quality.min,"backgroundColor")},void 0,e.quality.min,"%"),k,e.energy?(0,s.A)("span",{className:f.energyCapacity},void 0,e.energy.energyCapacity):e.element&&!(e.bucket.inWeapons&&1===e.element.enumValue)&&(0,s.A)(p.A,{element:e.element,className:(0,a.A)(b&&f.fixContrast)}),(0,s.A)("span",{className:f.badgeContent},void 0,y))}function w({item:e}){const t=(0,h.d4)((0,b.fC)(e));return(0,A.jsx)(A.Fragment,{children:t??"???"})}const I={searchHidden:"InventoryItem-m_searchHidden-N6WN8t9c",hasBadge:"InventoryItem-m_hasBadge-uEXdHeTm",subclassBase:"InventoryItem-m_subclassBase-fjRl31WF",subclass:"InventoryItem-m_subclass-DScMOkSr",subclassSuperIcon:"InventoryItem-m_subclassSuperIcon-Hx0QnbcS",xpBar:"InventoryItem-m_xpBar-QZxyrDOa",xpBarAmount:"InventoryItem-m_xpBarAmount-d3JucRxQ",icons:"InventoryItem-m_icons-TRM0_BvX",icon:"InventoryItem-m_icon-a5PkxlJx"};var S=o(87545);const x={placeholderBadge:"ItemIconPlaceholder-m_placeholderBadge-ibyibXI7"},T=new WeakMap,N="IntersectionObserver"in window?new IntersectionObserver((e=>{for(const t of e)if(t.isIntersecting){const e=t.target,o=T.get(e);o&&(o(),T.delete(e),N.unobserve(e))}}),{root:null,rootMargin:"16px",threshold:0}):{observe:()=>{},unobserve:()=>{}};function C({item:e,children:t,hasBadge:o}){const[s,n]=(0,r.useState)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=i.current;if(e)return T.set(e,(()=>n(!0))),N.observe(e),()=>N.unobserve(e)}),[]),s?(0,A.jsx)(A.Fragment,{children:t}):(0,A.jsx)("div",{className:(0,a.A)((0,S.H_)(e),o&&x.placeholderBadge),ref:i})}var H,P=o(76479),D=o(27699),M=o(7778),E=o(74941);function R({item:e,isNew:t,tag:o,hasNotes:l,searchHidden:d,autoLockTagged:u,wishlistRoll:m,hideSelectedSuper:h,onClick:p,onShiftClick:f,onDoubleClick:g,innerRef:y}){var v;let b=p;f&&(b=e=>{e.shiftKey?f(e):p&&p(e)});const w=2===e?.destinyVersion&&3284755031===e.bucket.hash,x=w&&!h?(0,E.y)(e):null,T=function(e){const t=!(e.primaryStat||!e.objectives),o=!!(e.maxStackSize>1);return!(3284755031===e.location.hash||e.isEngram&&375726501===e.location.hash||t&&(e.complete||e.hidePercentage)||o&&1===e.amount||!(t||o||e.primaryStat?.value||e.classified))}(e),N=(0,a.A)("item",d&&I.searchHidden,w&&I.subclass,T&&I.hasBadge),R=2===e.destinyVersion&&e.isEngram?e.power:e.typeName,L=(0,r.useMemo)((()=>{if(x)return(0,A.jsxs)(A.Fragment,{children:[x.base?(0,s.A)("img",{src:x.base,className:(0,a.A)("item-img",I.subclassBase),alt:""}):(0,s.A)(S.Ay,{className:I.subclassBase,item:e}),x.super&&(0,s.A)(i.Ay,{src:x.super,className:I.subclassSuperIcon,alt:""})]});const r=e.maxStackSize>1&&e.amount===e.maxStackSize&&e.uniqueStack;return(0,A.jsxs)(A.Fragment,{children:[e.percentComplete>0&&!e.complete&&(0,s.A)("div",{className:I.xpBar},void 0,(0,s.A)("div",{className:I.xpBarAmount,style:{width:(0,n.KN)(e.percentComplete)}})),v||(v=(0,s.A)(S.Ay,{item:e})),(0,s.A)(k,{item:e,isCapped:r,wishlistRoll:m}),(o||e.locked||l)&&(0,s.A)("div",{className:I.icons},void 0,e.locked&&(!u||!o||!(0,D.u)(e))&&(0,s.A)(c.z9,{className:I.icon,icon:c.hz}),o&&(0,s.A)(M.A,{className:I.icon,tag:o}),l&&(0,s.A)(c.z9,{className:I.icon,icon:c.vw})),t&&(H||(H=(0,s.A)(P.A,{})))]})}),[t,e,l,x,o,m,u]);return(0,A.jsx)("div",{id:e.index,onClick:b,onDoubleClick:g,title:`${e.name}\n${R}`,className:N,ref:y,children:(0,s.A)(C,{item:e,hasBadge:T},void 0,L)})}},87545:(e,t,o)=>{o.d(t,{Wj:()=>A,Ay:()=>b,H_:()=>v});var s=o(10544),n=o(20505),a=o(6967),r=o(71215),i=o(59816),c=o(16283),l=o(95840),d=o(72549),u=o(13526),m=o(95396);const h={legendary:"ItemIcon-m_legendary-xdcPty3_",exotic:"ItemIcon-m_exotic-Dn7GcKqq",basic:"ItemIcon-m_basic-GFF9SJtH",rare:"ItemIcon-m_rare-gPiPDJXr",common:"ItemIcon-m_common-MorLquvc",masterwork:"ItemIcon-m_masterwork-YmXpk9ek",deepsight:"ItemIcon-m_deepsight-V_X34hvJ",complete:"ItemIcon-m_complete-zX6XwK9v",borderless:"ItemIcon-m_borderless-TIoMB1x9",backgroundOverlay:"ItemIcon-m_backgroundOverlay-WLdhObOO",legendaryMasterwork:"ItemIcon-m_legendaryMasterwork-EJ0gVh8G",shinyMasterwork:"ItemIcon-m_shinyMasterwork-UJqPRAEm",exoticMasterwork:"ItemIcon-m_exoticMasterwork-ocMSkp02",deepsightBorder:"ItemIcon-m_deepsightBorder-rF59AvCY",iconOverlay:"ItemIcon-m_iconOverlay-F9dGwKBh",energyCostOverlay:"ItemIcon-m_energyCostOverlay-_1OGMMbf",energyCost:"ItemIcon-m_energyCost-vwxdvP6M",highlightedObjective:"ItemIcon-m_highlightedObjective-Ly0LfZzc",inverted:"ItemIcon-m_inverted-xYSn7b1Q",strandColorFix:"ItemIcon-m_strandColorFix-NYZjVLDP"};var p=o(45680),f=o(94518);const g={Legendary:h.legendary,Exotic:h.exotic,Common:h.basic,Rare:h.rare,Uncommon:h.common,Unknown:h.common,Currency:h.common},y=[2480042224,2552562702,2200902275,2139679542,1979332108,3728449707];function v(e,t){const o=e.maxStackSize>1&&e.amount===e.maxStackSize&&e.uniqueStack,s=2===e?.destinyVersion&&(3284755031===e.bucket.hash||e.itemCategoryHashes.includes(268598612))||e.isEngram;return(0,u.A)("item-img",t,(e.complete||o)&&h.complete,s?h.borderless:!e.plug&&g[e.tier],e.masterwork&&h.masterwork,e.deepsightInfo&&h.deepsight)}function b({item:e,className:t}){const o=e.icon===i._O&&e.classified&&(0,r._y)(e.bucket.hash),l=v(e,t),d=(0,c.Ir)(e);return(0,f.jsxs)(f.Fragment,{children:[o?(0,s.A)(a.A,{icon:o,className:(0,u.A)(l,!o.colorized&&h.inverted)}):(0,s.A)("div",{style:(0,n.Yq)(e.icon),className:l}),e.iconOverlay&&(0,s.A)("div",{className:h.iconOverlay,style:(0,n.Yq)(e.iconOverlay)}),(e.masterwork||e.deepsightInfo)&&(0,s.A)("div",{className:(0,u.A)(h.backgroundOverlay,e.masterwork&&(e.isExotic?h.exoticMasterwork:!d&&h.legendaryMasterwork),d&&h.shinyMasterwork,e.deepsightInfo&&h.deepsightBorder)}),void 0!==e.plug?.energyCost&&e.plug.energyCost>0&&(0,f.jsxs)(f.Fragment,{children:[(0,s.A)("div",{className:h.energyCostOverlay}),(0,s.A)("svg",{viewBox:"0 0 100 100",className:h.energyCost},void 0,(0,s.A)("text",{x:"87",y:"26",fontSize:"18px",textAnchor:"end"},void 0,e.plug.energyCost))]}),e.highlightedObjective&&!e.deepsightInfo&&(0,s.A)("img",{className:h.highlightedObjective,src:m})]})}function A({itemDef:e,className:t,borderless:o}){if(!e)return(0,l.PT)("temp-deficon",Error("DefItemIcon was called with a missing def")),null;const a=e.itemCategoryHashes||[];o||=1744546145===e.plug?.plugCategoryHash||a.includes(268598612)||a.includes(34);const r=e.plug&&y.includes(e.plug.plugCategoryHash),c=(0,u.A)("item-img",t,o?h.borderless:!e.plug&&e.inventory&&g[i.Dj[e.inventory.tierType]],r&&h.strandColorFix),m=function(e){if((0,p.rH)(e)&&(0,d.ei)(e))return e.plug.energyCost.energyCost}(e),v=e.iconWatermark||e.iconWatermarkShelved||void 0;return(0,f.jsxs)(f.Fragment,{children:[(0,s.A)(n.Ay,{src:e.displayProperties.icon,className:c,alt:""}),v&&(0,s.A)(n.Ay,{src:v,className:h.iconOverlay,alt:""}),void 0!==m&&m>0&&(0,f.jsxs)(f.Fragment,{children:[(0,s.A)("div",{className:h.energyCostOverlay}),(0,s.A)("svg",{viewBox:"0 0 100 100",className:h.energyCost},void 0,(0,s.A)("text",{x:"87",y:"26",fontSize:"18px",textAnchor:"end"},void 0,m))]})]})}},34554:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(68807),n=o(62194),a=o(92369),r=o(18374),i=o(20169),c=o(50784);function l({item:e,extraData:t,children:o,noCompare:l}){const d=(0,r.useRef)(null),u=(0,a._)(),m=(0,r.useCallback)((o=>{o.stopPropagation(),u(function(e,t,o,a){return async(r,l)=>{r((0,c.TQ)(e.id)),!a&&(0,n.Lv)(l())?r((0,s.YN)(e)):t.current&&(0,i.h3)(e,t.current,o)}}(e,d,t,l))}),[u,t,e,l]);return(0,r.useEffect)((()=>()=>{i.$Z.getCurrentValue()?.item?.index===e.index&&(0,i.EV)()}),[e.index]),o(d,m)}},6598:(e,t,o)=>{o.d(t,{Yl:()=>I,I$:()=>w,ky:()=>T});var s=o(10544),n=(o(89293),o(95349)),a=o(2290),r=o(57942),i=o(70055),c=o(38654),l=o(14231),d=o(60440),u=o(36871),m=o(50507),h=o(69063),p=o(88122),f=o(13526),g=o(18374),y=o(50279),v=o(87545);const b={progressIcon:"MoveNotifications-m_progressIcon-vz3XUY7y",succeeded:"MoveNotifications-m_succeeded-HRTBj5_3",failed:"MoveNotifications-m_failed-ybahFxou",loadoutDetails:"MoveNotifications-m_loadoutDetails-xAk35dKZ",iconList:"MoveNotifications-m_iconList-UcBJNkXI",loadoutItemPending:"MoveNotifications-m_loadoutItemPending-e0O_jzG6",loadoutItemFailed:"MoveNotifications-m_loadoutItemFailed-ae46ZVXq",errorList:"MoveNotifications-m_errorList-feIGX8GH",warning:"MoveNotifications-m_warning-aTq8POqW",warningIcon:"MoveNotifications-m_warningIcon-qSI74tNh"};var A=o(94518);const k=2e3;function w(e,t,o,n){return{promise:o,duration:k,title:e.name,icon:(0,s.A)(y.A,{item:e}),trailer:(0,s.A)(C,{completion:o}),body:(0,a.t)("ItemMove.MovingItem",{name:e.name,target:t.name,context:t.genderName}),onCancel:n}}function I(e,t,o,n){var c;return{promise:o.catch((e=>{throw new l.mo((0,h.g)(e),{body:c||(c=(0,s.A)(x,{stateObservable:t})),type:t.getCurrentValue().inGameLoadoutInActivity?"warning":"error"})})),duration:5e3,title:(0,a.t)("Loadouts.NotificationTitle",{name:e.name}),icon:(0,i.C)(e)&&(0,s.A)(r.Ay,{loadout:e}),body:(0,s.A)(x,{stateObservable:t}),onCancel:n}}const S={0:(0,a.tl)("Loadouts.NotStarted"),1:(0,a.tl)("Loadouts.Deequip"),2:(0,a.tl)("Loadouts.MoveItems"),3:(0,a.tl)("Loadouts.EquipItems"),4:(0,a.tl)("Loadouts.SocketOverrides"),5:(0,a.tl)("Loadouts.ApplyMods"),6:(0,a.tl)("Loadouts.ClearingSpace"),7:(0,a.tl)("Loadouts.EquipInGameLoadout"),8:(0,a.tl)("Loadouts.Succeeded"),9:(0,a.tl)("Loadouts.Failed")};function x({stateObservable:e}){const{phase:t,equipNotPossible:o,itemStates:r,socketOverrideStates:i,modStates:l,inGameLoadoutInActivity:h}=(0,p.Pf)(e,100),g=(0,c.I3)(),y=8===t?d.SG:9===t?d.tU:d.he,k=Object.values(r),w=Object.values(i),I=e=>Object.groupBy(e.filter((({error:e})=>e)),(({error:e})=>(e instanceof m.X?e.bungieErrorCode()?.toString()??e.cause?.message:void 0)??e?.message??"Unknown")),x=I(k),T=I(l);return(0,A.jsxs)(A.Fragment,{children:[(0,s.A)("div",{className:b.loadoutDetails},void 0,(0,s.A)(d.z9,{icon:y,spinning:y===d.he}),(0,a.t)(S[t])),o&&(0,s.A)("div",{className:b.warning},void 0,(0,s.A)(n._,{className:b.warningIcon}),(0,a.t)("BungieService.DestinyCannotPerformActionAtThisLocation")),h&&(0,s.A)("div",{className:b.warning},void 0,(0,s.A)(n._,{className:b.warningIcon}),(0,a.t)("Loadouts.ApplyInGameLoadoutInGame")),k.length>0&&(0,s.A)("div",{className:b.iconList},void 0,k.map((({item:e,state:t})=>(0,s.A)("div",{className:(0,f.A)("item",(0===t||2===t||3===t)&&b.loadoutItemPending,(5===t||7===t||6===t)&&b.loadoutItemFailed)},e.index,(0,s.A)(v.Ay,{item:e}))))),!(0,u.Im)(x)&&(0,s.A)("div",{className:b.errorList},void 0,Object.values(x).map((e=>(0,s.A)("div",{},e[0].item.index,(0,s.A)("b",{},void 0,(0,a.t)("Loadouts.ItemErrorSummary",{count:e.length}))," ",e[0].error instanceof m.X&&e[0].error.cause?e[0].error.cause.message:e[0].error?.message??"Unknown")))),w.length>0&&(0,s.A)("div",{className:b.iconList},void 0,w.map((({item:e,results:t})=>(0,s.A)("div",{className:b.iconList},e.index,Object.entries(t).map((([e,{plugHash:t,state:o}])=>(0,s.A)("div",{className:(0,f.A)("item",0===o&&b.loadoutItemPending,2===o&&b.loadoutItemFailed)},e,(0,s.A)(v.Wj,{itemDef:g.InventoryItem.get(t)})))))))),l.length>0&&(0,s.A)("div",{className:b.iconList},void 0,l.map((({modHash:e,state:t},o)=>(0,s.A)("div",{className:(0,f.A)("item",(1===t||3===t)&&b.loadoutItemFailed,0===t&&b.loadoutItemPending)},o,(0,s.A)(v.Wj,{itemDef:g.InventoryItem.get(e)}))))),!(0,u.Im)(T)&&(0,s.A)("div",{className:b.errorList},void 0,Object.values(T).map((e=>(0,s.A)("div",{},e[0].modHash,(0,s.A)("b",{},void 0,(0,a.t)("Loadouts.ModErrorSummary",{count:e.length}))," ",e[0].error instanceof m.X&&e[0].error.cause?e[0].error.cause.message:e[0].error?.message??"Unknown"))))]})}function T(e,t,o,n){return{promise:o,duration:k,title:(0,a.t)("Loadouts.PullFromPostmasterPopupTitle"),trailer:(0,s.A)(C,{completion:o}),body:(0,a.t)("Loadouts.PullFromPostmasterNotification",{count:e,store:t.name,context:t.genderName}),onCancel:n}}const N={1:b.failed,2:b.succeeded};function C({completion:e}){const[t,o]=(0,g.useState)(0);(0,g.useEffect)((()=>{let t=!1;return e.then((()=>!t&&o(2))).catch((()=>!t&&o(1))),()=>{t=!0}}),[e]);const n=0===t?d.he:2===t?d.SG:d.tU;return(0,s.A)("div",{className:(0,f.A)(b.progressIcon,N[t])},void 0,(0,s.A)(d.z9,{icon:n,spinning:0===t}))}},76479:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(10544),n=o(13526);const a={newItem:"NewItemIndicator-m_newItem-q_BtCwjv"};function r({className:e}){return(0,s.A)("div",{className:(0,n.A)(a.newItem,e)})}},28098:(e,t,o)=>{o.d(t,{E:()=>p});var s=o(10544),n=o(19654),a=o(2290),r=o(92369),i=o(18374),c=o(8935),l=o(48371),d=o(60440),u=o(58128);const m={badge:"PullFromPostmaster-m_badge-WY3h5QS7",button:"PullFromPostmaster-m_button-fSMOITFv dim-button"};var h=o(62447);function p({store:e}){const[t,o]=(0,i.useState)(!1),p=(0,r._)(),f=(0,c.d4)((0,n.A2)("hidePullFromPostmaster")),g=(0,c.d4)((t=>(0,l.Kj)(e,(0,h.Wh)(t)).length));return f||0===g?null:(0,s.A)("button",{type:"button",className:m.button,onClick:()=>{(0,u.A)((async()=>{o(!0);try{await p((0,l.gm)(e))}finally{o(!1)}}))}},void 0,(0,s.A)(d.z9,{spinning:t,icon:t?d.he:d.AO}),(0,s.A)("span",{className:m.badge},void 0,g),(0,s.A)("span",{},void 0,(0,a.t)("Loadouts.PullFromPostmaster")))}},27699:(e,t,o)=>{o.d(t,{A:()=>h,u:()=>d}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(92369),n=o(95840),a=o(18374),r=o(8935),i=o(63150),c=o(34966),l=o(62447);function d(e){return e.lockable&&e.taggable&&"crafted"!==e.crafted}const u=(0,i.Mz)(l.V0,l.Mj,l.VK,((e,t,o)=>o?[]:function(e,t){for(const o of e)if(d(o))switch(t(o)){case"favorite":case"keep":case"archive":if(!o.locked)return[o,!0];break;case"infuse":case"junk":if(o.locked)return[o,!1]}return[]}(e,t))),m=new Set,h=(0,a.memo)((function(){const e=(0,s._)(),[t,o]=(0,r.d4)(u);return(0,a.useEffect)((()=>{t&&void 0!==o&&!m.has(t.id)&&(async()=>{(0,n.zh)("autoLockTagged",o?"Locking":"Unlocking",t.name,"to match its tag"),m.add(t.id);try{await e((0,c.ic)(t,o))}catch(e){(0,n.PT)("autoLockTagged","Failed to ",o?"lock":"unlock",t.name,"to match its tag:",e)}finally{m.delete(t.id)}})()}),[t,o,e]),null}))},7778:(e,t,o)=>{o.d(t,{A:()=>c});var s=o(10544),n=o(2290),a=o(60440),r=o(12462);const i={};for(const e of r.eB)e.type&&(i[e.type]=e.icon);function c({className:e,tag:t}){return i[t]?(0,s.A)(a.z9,{className:e,icon:i[t],title:(0,n.t)(r.bR[t].label)}):null}},50784:(e,t,o)=>{o.d(t,{$u:()=>I,BR:()=>p,Cg:()=>H,Ed:()=>h,IB:()=>x,Ip:()=>g,Iy:()=>A,Lx:()=>v,NA:()=>P,TQ:()=>w,ZA:()=>E,b$:()=>M,bL:()=>L,bS:()=>D,s5:()=>f,sL:()=>N,tg:()=>b,v8:()=>S,vF:()=>T,vH:()=>V,y6:()=>C,yo:()=>m,z3:()=>y,zH:()=>k});var s=o(30671),n=o(19654),a=o(2290),r=o(14231),i=o(97098),c=o(95840),l=o(61898),d=o(58769),u=o(62447);const m=(0,l.createAction)("inventory/UPDATE")(),h=(0,l.createAction)("inventory/CLEAR_STORES")(),p=(0,l.createAction)("inventory/PROFILE_LOADED")(),f=(0,l.createAction)("inventory/PROFILE_ERROR")(),g=(0,l.createAction)("inventory/CHARACTERS")(),y=(0,l.createAction)("inventory/ERROR")(),v=(0,l.createAction)("inventory/MOVE_ITEM")(),b=(0,l.createAction)("inventory/AWA_CHANGE")(),A=(0,l.createAction)("inventory/ITEM_LOCK")(),k=(0,l.createAction)("new_items/SET")(),w=(0,l.createAction)("new_items/CLEAR_NEW")(),I=(0,l.createAction)("new_items/CLEAR_ALL")();function S(e){return async(t,o)=>{if(o().inventory.newItemsLoaded)return;const n=`newItems-m${e.membershipId}-d${e.destinyVersion}`,a=await(0,i.Jt)(n);if(a){if(e!==(0,s.sZ)(o()))return;t(k(a))}}}const x=(0,l.createAction)("tag_notes/SET_TAG")(),T=(0,l.createAction)("tag_notes/SET_TAG_BULK")(),N=(0,l.createAction)("tag_notes/SET_NOTE")(),C=(0,l.createAction)("tag_notes/SET_HASH_TAG")(),H=(0,l.createAction)("tag_notes/SET_HASH_NOTE")();function P(e,t){return async o=>{e.taggable&&(o(R()),o(e.instanced?x({itemId:e.id,tag:"clear"===t?void 0:t,craftedDate:e.craftedInfo?.craftedDate}):C({itemHash:e.hash,tag:"clear"===t?void 0:t})))}}function D(e,t){return async o=>{e.taggable&&(o(R()),o(e.instanced?N({itemId:e.id,note:t,craftedDate:e.craftedInfo?.craftedDate}):H({itemHash:e.hash,note:t})))}}function M(e,t){return async(o,s)=>{if(!e.taggable||!t)return;const n=(0,u.fC)(e)(s());o(D(e,(0,d.du)(n,t)))}}function E(e,t){return async(o,s)=>{if(!e.taggable||!t)return;const n=(0,u.fC)(e)(s());o(D(e,(0,d.Vj)(n,t)))}}function R(){return async(e,t)=>{(0,n.i$)(t())||"true"===localStorage.getItem("warned-no-sync")||("storage"in navigator&&"persist"in navigator.storage&&(await navigator.storage.persist()?(0,c.zh)("storage","Persisted storage granted"):(0,c.XX)("storage","Persisted storage not granted")),localStorage.setItem("warned-no-sync","true"),(0,r.Ds)({type:"warning",title:(0,a.t)("Storage.DataIsLocal"),body:(0,a.t)("Storage.DimSyncNotEnabled"),duration:6e4}))}}const L=(0,l.createAction)("tag_notes/CLEANUP")(),V=(0,l.createAction)("inventory/MOCK_PROFILE")()},13933:(e,t,o)=>{o.d(t,{M:()=>p,Q:()=>y});var s=o(30671),n=o(2290),a=o(38654),r=o(10349),i=o(59816),c=(o(97098),o(50507)),l=o(11209),d=o(61441),u=(o(99475),o(14231),o(50784)),m=o(62447),h=o(52040);function p(e,t,o,s){return g(e,t,o,s)}function f(e,t){return!!t.plug?.insertionMaterialRequirementHash&&e.MaterialRequirementSet.get(t.plug?.insertionMaterialRequirementHash).materials.some((e=>0!==e.count))}function g(e,t,o,s){const n=(e.actuallyPlugged||e.plugged)?.plugDef;if(n&&(o?.insertPlugFreeProtectedPlugItemHashes||[]).includes(n.hash)||(o?.insertPlugFreeBlockedSocketTypeHashes||[]).includes(e.socketDefinition.socketTypeHash))return!1;const a=s.InventoryItem.get(t);return!(!(e.socketDefinition.reusablePlugItems.length>0||e.socketDefinition.reusablePlugSetHash||e.socketDefinition.randomizedPlugSetHash)||f(s,a)||n&&f(s,n))}function y(e,t,o){return async(l,d)=>{const p=(0,s.sZ)(d()),f=(0,a.v2)(d()),y=d().manifest.destiny2CoreSettings;o===e.hash&&(o=t.emptyPlugItemHash??o);const A=g(t,o,y,f),k="vault"===e.owner?(0,m.ux)(d()).id:e.owner,w=function(e,t,o){const s=e.actuallyPlugged||e.plugged;if(s?.plugDef.itemCategoryHashes?.includes(41)&&s.plugDef.hash!==i.aV&&!i.W.includes(s.plugDef.hash)){const n=e.socketDefinition.reusablePlugSetHash,a=n&&o&&(0,r.e)(o,n,t).has(s.plugDef.hash),i=e.reusablePlugItems?.some((e=>e.enabled&&e.plugItemHash===s.plugDef.hash));if(!a&&!i)return{protected:!0,plug:s}}return{protected:!1}}(t,k,(0,m.yu)(d()));if(w.protected&&w.plug)throw new c.X("AWA.IrreversiblePlugging",(0,n.t)("AWA.IrreversiblePlugging",{plug:w.plug.plugDef.displayProperties.name}));const I=A?v:b,S=await I(p,k,e,t,o);var x;await l((x=S.Response,async(e,t)=>{const o=(0,m.cb)(t()),s=(0,m.Wh)(t()),n=(0,h.a6)(o,x.item,s);e((0,u.tg)({item:n,changes:x,itemCreationContext:o}))}))}}async function v(e,t,o,s,n){return(0,l.l1)(d.Nf,{itemId:o.id,plug:{socketIndex:s.socketIndex,socketArrayType:0,plugItemHash:n},characterId:t,membershipType:e.originalPlatformType})}async function b(e,t,o,s,n){throw Error("AWA.NotSupported")}},55915:(e,t,o)=>{o.d(t,{$:()=>v,Y:()=>b});var s,n=o(10544),a=o(19654),r=o(2290),i=o(70143),c=o(14231),l=o(60440),d=o(69063),u=o(73308),m=o(27699),h=o(50784),p=o(12462),f=o(34966),g=o(62447),y=o(94518);function v(e,t,o=!0){return async(a,d)=>{const m=(0,g.Mj)(d()),f=new Map;for(const t of e)f.set(t,m(t));const[v,b]=(0,u.j)(e,(e=>e.instanced));v.length&&a((0,h.vF)(v.map((e=>({itemId:e.id,tag:"clear"===t?void 0:t,craftedDate:e.craftedInfo?.craftedDate})))));for(const e of b)a((0,h.y6)({itemHash:e.hash,tag:"clear"===t?void 0:t}));o&&(0,c.Ds)({type:"success",duration:3e4,title:(0,r.t)("Header.BulkTag"),body:(0,y.jsxs)(y.Fragment,{children:["clear"===t?(0,r.t)("Filter.BulkClear",{count:e.length}):(0,r.t)("Filter.BulkTag",{count:e.length,tag:(0,r.t)(p.bR[t].label)}),(0,n.A)(i.A,{onClick:async()=>{if(v.length&&a((0,h.vF)(v.map((e=>({itemId:e.id,tag:f.get(e),craftedDate:e.craftedInfo?.craftedDate}))))),b.length)for(const e of b)a((0,h.y6)({itemHash:e.hash,tag:f.get(e)}));(0,c.Ds)({type:"success",title:(0,r.t)("Header.BulkTag"),body:(0,r.t)("Filter.BulkRevert",{count:e.length})})}},void 0,s||(s=(0,n.A)(l.z9,{icon:l._X}))," ",(0,r.t)("Filter.Undo"))]})})}}function b(e,t){return async(o,s)=>{const n=(0,a.A2)("autoLockTagged")(s());e=n?e.filter((e=>!(0,g.Y2)(e)(s())||!(0,m.u)(e))):e;try{for(const s of e)await o((0,f.ic)(s,t));(0,c.Ds)({type:"success",title:(0,r.t)(t?"Filter.LockAllSuccess":"Filter.UnlockAllSuccess",{num:e.length})})}catch(e){(0,c.Ds)({type:"error",title:(0,r.t)(t?"Filter.LockAllFailed":"Filter.UnlockAllFailed"),body:(0,d.g)(e)})}}}},61542:(e,t,o)=>{o.d(t,{X:()=>J,u:()=>Z});var s=o(63163),n=o(27350),a=o(70262),r=o(30671),i=o(97098),c=o(36871),l=o(95840),d=o(73618),u=o(56876);const m="https://database-clarity.github.io/",h={descriptions:m+"Live-Clarity-Database/descriptions/dim.json",characterStats:e=>`${m}Character-Stats/versions/${e}/CharacterStatInfo-NI.json`,version:m+"Live-Clarity-Database/versions.json",statsVersion:m+"Character-Stats/update.json"},p="1.9",f=async(e,t)=>{const o=h[e],s=await fetch("function"==typeof o?o(t):o);if(!s.ok)throw Error("failed to fetch "+e);const n=await s.json();if(!n||(0,c.Im)(n))throw Error("empty response JSON for "+e);return n},g=async e=>{const t=await f("descriptions");return(0,i.hZ)("clarity-descriptions",t),localStorage.setItem("clarityDescriptionVersion",""+e),t},y=(0,d.P)((async e=>{const t=+(localStorage.getItem("clarityDescriptionVersion")??"0");let o;try{if(o=await f("version"),t!==o.descriptions)return await g(o.descriptions)}catch(e){(0,l.PT)("clarity","failed to load remote descriptions",e)}if(e)return await(0,i.Jt)("clarity-descriptions")??(o&&await g(o.descriptions))})),v=async e=>{const t=await f("characterStats",e.schemaVersion);return(0,i.hZ)("clarity-characterStats",t),localStorage.setItem("clarityStatsVersion2",JSON.stringify(e)),t},b=(0,d.P)((async e=>{const t=localStorage.getItem("clarityStatsVersion2"),o=null!==t?JSON.parse(t):void 0;let s;try{if(s=await f("statsVersion"),s.schemaVersion===p&&(!o||o.lastUpdate!==s.lastUpdate))return await v(s)}catch(e){(0,l.PT)("clarity","failed to load remote character stats",e)}if(e){if(o?.schemaVersion===p){const e=await(0,i.Jt)("clarity-characterStats");if(e)return e}return v(s?.schemaVersion===p?s:{schemaVersion:p,lastUpdate:0})}})),A=36e5;let k=0,w=0;var I=o(19654),S=o(2290),x=o(69770),T=o(75816),N=o(4755),C=o(43688),H=o(38654),P=o(57840),D=o(50507),M=o(69063),E=o(3710),R=o(99475),L=o(82821),V=o(7428),q=o(20505),O=o(14231),_=o(44155),B=o(50784),j=o(12462),z=o(62447),F=o(16342),W=o(2868),U=o(47775),G=o(65);const Q="d2-stores";function Z(){return async(e,t)=>{const o=(0,r.sZ)(t());if(!o)return;if(!(0,H.Ph)(t()))return;let s=[];if(2===o.destinyVersion){const e=await(0,R.bg)(o);s=e.characters.data?Object.values(e.characters.data).map((e=>({characterId:e.characterId,level:e.levelProgression.level,powerLevel:e.light,background:(0,q.Tu)(e.emblemBackgroundPath),icon:(0,q.Tu)(e.emblemPath),stats:(0,W.$3)((0,H.v2)(t()),e.stats),color:e.emblemColor}))):[]}else s=(await(0,E.bg)(o)).characters.map((e=>{const o=e.characterBase;return{characterId:o.characterId,level:e.characterLevel,powerLevel:o.powerLevel,percentToNextLevel:e.percentToNextLevel/100,background:(0,q.Tu)(e.backgroundPath),icon:(0,q.Tu)(e.emblemPath),stats:(0,F.$3)(t().manifest.d1Manifest,o)}}));o===(0,r.sZ)(t())&&e((0,B.Ip)(s))}}let K=!0;function J(){return async(e,t)=>{let o=(0,r.sZ)(t());if(o||(await e(a.rR),o=(0,r.sZ)(t()),o&&2===o.destinyVersion))return e((0,N.L)()),e((async(e,t)=>{const{descriptions:o,characterStats:s}=t().clarity;if(!o||Date.now()-k>A){const t=await y(!o);t&&e(u.C(t)),k=Date.now()}if(!s||Date.now()-w>A){const t=await b(!s);t&&e(u.Z(t)),w=Date.now()}})),await e((0,B.v8)(o)),K&&(await e(te(o,K)),K=!1),await e(te(o,K))}}const X=15e3,Y=9e4;function $(e,t){return async(o,s)=>{const a=s().inventory.mockProfileData;if(a)return{profile:a,live:!1,readOnly:!0};const r="profile-"+e.membershipId;let c=s().inventory.profileResponse;if(!c)try{if(c=await(0,i.Jt)(r),s().inventory.profileResponse)c=s().inventory.profileResponse;else if(c){const e=(Date.now()-new Date(c.responseMintedTimestamp??0).getTime())/1e3;if((0,l.zh)(Q,`Loaded cached profile from IndexedDB, using it until new data is available. It is ${e}s old.`),o((0,B.BR)({profile:c,live:!1})),t)return{profile:c,live:!1}}}catch(e){(0,l.PT)(Q,"Failed to load profile response from IDB",e)}let d=new Date(0);if(c){d=new Date(c.responseMintedTimestamp??0);const e=Date.now()-d.getTime();if(!(0,z.Br)(s())&&e>0&&e<X)return(0,l.XX)(Q,`Cached profile is only ${e/1e3}s old, skipping remote load.`,e),{profile:c,live:!1}}try{const t=await(0,R.Dv)(e),n=Date.now(),a=new Date(t.responseMintedTimestamp??0),u=(n-a.getTime())/1e3;if(c){const e=(n-d.getTime())/1e3;if(a.getTime()<=d.getTime()){const t=a.getTime()===d.getTime(),n=(0,z.Br)(s()),r=n?"Skipping update.":"Using the cached profile.";return t?(0,l.zh)(Q,`Profile from Bungie.net is is ${u}s old, which is the same age as the cached profile.`,r):(0,l.XX)(Q,`Profile from Bungie.net is ${u}s old, while the cached profile is ${e}s old.`,r),o((0,B.s5)(void 0)),n?void 0:{profile:c,live:!1}}(0,l.zh)(Q,`Profile from Bungie.net is is ${u}s old, while the cached profile is ${e}s old.`,"Using the new profile from Bungie.net.")}else(0,l.zh)(Q,`No cached profile, using profile from Bungie.net which is ${u}s old.`);return(0,i.hZ)(r,t),o((0,B.BR)({profile:t,live:!0})),{profile:t,live:!0}}catch(e){if(o((0,n.wE)(e)),o((0,B.s5)((0,M.n)(e))),c)return(0,l.PT)(Q,"Error loading profile from Bungie.net, falling back to cached profile",e),(0,z.Br)(s())?void 0:{profile:c,live:!1};throw e}}}let ee=0;function te(e,t){return async(o,a)=>{const i=(async()=>{if(e===(0,r.sZ)(a()))return(0,s.Lk)({name:"loadStoresD2"},(async()=>{(0,U.w)();try{const[n,i]=await Promise.all([o((0,V.v6)()),o($(e,t))]);let c=n;if(e!==(0,r.sZ)(a()))return;for(let t=0;t<2;t++){if(!c||!i)return;const{profile:t,live:n,readOnly:d}=i,u=(0,l.O1)(Q,"Process inventory"),m=(0,z.Np)(a()),h=(0,I.qg)(a()),p=(0,W.tw)({defs:c,buckets:m,customStats:h,profileResponse:t});if(p.some((e=>e.hadErrors))){if(ee-Date.now()<3e5)return;if(ee=Date.now(),await(0,C.tm)()){c=await o((0,V.v6)(!0));continue}}if(d)for(const e of p){e.hadErrors=!0;for(const t of e.items)t.lockable=!1,t.trackable=!1,t.notransfer=!0,t.taggable=!1}const f=oe(t,c),g=(0,T.gA)(t,c);return u(),(0,s.Lk)({name:"updateInventoryState"},(()=>{const s=(0,l.O1)(Q,"Inventory state update");if(e!==(0,r.sZ)(a()))return;if(!(0,G.ZS)(p))return(0,l.PT)(Q,"No characters in profile"),void o((0,B.z3)(new D.X("Accounts.NoCharactersTitle",(0,S.t)("Accounts.NoCharacters")).withNoSocials()));const i=new Date(t.responseMintedTimestamp??0);n&&Date.now()-i.getTime()<Y&&o((0,j.VH)(p)),o((0,B.yo)({stores:p,currencies:f})),o((0,x.t4)(g)),s()})),p}}catch(t){if((0,l.PT)(Q,"Error loading stores",t),(0,_.U)("d2stores",t),e!==(0,r.sZ)(a()))return;return o((0,n.wE)(t)),void((0,z.Br)(a())?(0,O.Ds)((0,L.$)((0,M.g)(t))):o((0,B.z3)((0,M.n)(t))))}}))})();return P.f.addPromise(i),i}}function oe(e,t){return(e.profileCurrencies.data?e.profileCurrencies.data.items:[]).map((e=>({itemHash:e.itemHash,quantity:e.quantity,displayProperties:t.InventoryItem.get(e.itemHash)?.displayProperties??{name:"Unknown",description:"Unknown item"}})))}},12462:(e,t,o)=>{o.d(t,{CS:()=>b,Qq:()=>f,Tw:()=>g,VH:()=>y,bH:()=>v,bR:()=>d,dy:()=>h,eB:()=>p,i:()=>m,zs:()=>u}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(2290),n=o(36871),a=o(95840),r=o(87912),i=o(60440),c=o(50784),l=o(62447);const d={favorite:{type:"favorite",label:(0,s.tl)("Tags.Favorite"),sortOrder:0,hotkey:"shift+1",icon:i.O1},keep:{type:"keep",label:(0,s.tl)("Tags.Keep"),sortOrder:1,hotkey:"shift+2",icon:i.et},junk:{type:"junk",label:(0,s.tl)("Tags.Junk"),sortOrder:2,hotkey:"shift+3",icon:i.Hu},infuse:{type:"infuse",label:(0,s.tl)("Tags.Infuse"),sortOrder:3,hotkey:"shift+4",icon:i.hR},archive:{type:"archive",label:(0,s.tl)("Tags.Archive"),sortOrder:4,hotkey:"shift+5",icon:i.Az}},u=["archive","infuse","none","junk","keep","favorite"],m=["junk","none","keep","favorite","infuse","archive"],h=["favorite","keep","none","infuse","junk","archive"],p=Object.values(d),f=(0,n.x1)(p,(e=>e.type)),g=[{label:(0,s.tl)("Tags.TagItem")},...Object.values(d)];function y(e){return async(t,o)=>{if(!e.length||e.some((e=>0===e.items.length||e.hadErrors)))return;const s=(0,l.G7)(o());if((0,n.Im)(s))return;const i=Object.values(s).filter((e=>e.craftedDate)),d=(0,r.p)(i,(e=>e.craftedDate));let u=0n;const m=new Set(Object.keys(s));for(const o of e)for(const e of o.items){const o=BigInt(e.id);o>u&&(u=o);const n=s[e.id];if(n&&(void 0!==n.tag||n.notes?.length))m.delete(e.id);else if(e.craftedInfo?.craftedDate){const o=d[e.craftedInfo.craftedDate];o&&(o.tag&&t((0,c.IB)({itemId:e.id,tag:o.tag,craftedDate:e.craftedInfo.craftedDate})),o.notes&&t((0,c.sL)({itemId:e.id,note:o.notes,craftedDate:e.craftedInfo.craftedDate})))}}if(m.size>0){const e=Array.from(m).filter((e=>BigInt(e)<u));m.size>e.length&&(0,a.XX)("cleanInfos",m.size-e.length+" infos have IDs newer than the newest ID in inventory"),(0,a.zh)("cleanInfos",`Purging tag/notes from ${e.length} deleted items`),t((0,c.bL)(e))}}}function v(e,t,o){return e.taggable&&(e.instanced?t[e.id]?.tag:o?.[e.hash]?.tag)||void 0}function b(e,t,o){return e.taggable&&(e.instanced?t[e.id]?.notes:o?.[e.hash]?.notes)||void 0}},13455:(e,t,o)=>{o.d(t,{g:()=>s});const s=new(o(46673).c)(!1)},34966:(e,t,o)=>{o.d(t,{UE:()=>L,cz:()=>I,fg:()=>N,ic:()=>S,kE:()=>q,v3:()=>C}),o(10131),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(63163),n=o(27350),a=o(30671),r=o(2290),i=o(51077),c=o(36871),l=o(50507),d=o(69063),u=o(16283),m=o(95840),h=o(39973),p=o(3710),f=o(99475),g=o(57551),y=o(50784),v=o(12462),b=o(1930),A=o(62447),k=o(65);const w="move";function I(e,t){const o=new Set;for(const e of t)o.add(e.instanced?e.id:e.hash);return{bucketsFullOnCurrentStore:new Set,involvedItems:o,cancelToken:e}}function S(e,t,o="lock"){return async(s,n)=>{const r=(0,a.sZ)(n()),i="vault"===e.owner?(0,A.ux)(n()).id:e.owner;2===e.destinyVersion?"lock"===o?await(0,f.zh)(r,i,e,t):await(0,f.OU)(r,i,e,t):1===e.destinyVersion&&await(0,p.jd)(r,e,i,t,o),s((0,y.Iy)({item:e,state:t,type:o}))}}function x(e){return 2===e.destinyVersion?f.k0:p.k0}function T(e,t,o,n,a=e.amount){return(r,i)=>(0,s.Lk)({name:"updateItemModel"},(()=>{const s=(0,m.O1)(w,"itemMovedUpdate");try{return r((0,y.Lx)({item:e,source:t,target:o,equip:n,amount:a})),function(e,t){for(const o of e)for(const e of o.items)if(t.id===e.id&&t.hash===e.hash&&t.notransfer===e.notransfer&&t.amount===e.amount)return e}((0,A.Wh)(i()),e)||e}finally{s()}}))}function N(e,t,o,{exclusions:s,excludeExotic:n=!1}={}){const a=(0,k.KA)(t,o.owner),r=t.toSorted((0,g.VE)((e=>a.id===e.id?0:e.isVault?1:2)));let i;for(const t of r)if(i=O(e,o,t,s,a,n),i)break;return i}function C(e,t,o,s){return async(i,d)=>{const u=()=>(0,A.Wh)(d()),m=(0,c.x1)(t,(n=>{if(n.equippingLabel){const a=M(n,e);if(a&&!t.find((e=>e.bucket.hash===a.bucket.hash))){const t=N(d,u(),a,{excludeExotic:!0,exclusions:o});if(!t)return Promise.reject(new l.X("ItemService.Deequip",(0,r.t)("ItemService.Deequip",{itemname:a.name})));const n=(0,k.KA)(u(),t.owner);return e.id===n.id?Promise.resolve(t):i(L(t,e,{equip:!0},s)).then((()=>t))}}})),h=await Promise.all(m);if(0===(t=t.concat(h)).length)return{};if(1===t.length)try{return await i(H(t[0],s.cancelToken)),{[t[0].id]:1}}catch(e){return{[t[0].id]:e instanceof l.X&&e.bungieErrorCode()||3}}s.cancelToken.checkCanceled();try{const o=await(g=t[0],2===g.destinyVersion?f.v3:p.v3)((0,a.sZ)(d()),e,t);for(const[s,n]of Object.entries(o))if(1===n){const o=t.find((e=>e.id===s));o&&i(T(o,e,e,!0))}return o}catch(e){throw i((0,n.wE)(e)),e}var g}}function H(e,t){return async(o,s)=>{try{const n=(0,k.KA)((0,A.Wh)(s()),e.owner);return(0,m.zh)("equip","Equip",e.name,e.typeName,"to",n.name),t.checkCanceled(),await function(e){return 2===e.destinyVersion?f.Fh:p.Fh}(e)((0,a.sZ)(s()),e),o(T(e,n,n,!0))}catch(e){throw o((0,n.wE)(e)),e}}}function P(e,t,{excludeExotic:o=!1}={excludeExotic:!1}){return async(s,n)=>{const a=(0,A.Wh)(n()),i=N(n,a,e,{excludeExotic:o});if(!i)throw new l.X("ItemService.Deequip",(0,r.t)("ItemService.Deequip",{itemname:e.name}));const c=(0,k.KA)(a,e.owner);return await s(L(i,c,{equip:!0},t)),e}}function D(e,t,o,s,r){return async(i,d)=>{const u=()=>(0,A.Wh)(d()),h=(0,k.KA)(u(),e.owner);e.location.inPostmaster?(0,m.zh)(w,"Pull",s,e.name,e.typeName,"to",t.name,"from Postmaster"):(0,m.zh)("move","Move",s,e.name,e.typeName,"to",t.name,"from",h.name);const p=e.lockable&&(0,c.U9)((0,k.VS)(h,e.location.hash),(t=>t.hash===e.hash))>1?e.locked:void 0;r.cancelToken.checkCanceled();try{await x(e)((0,a.sZ)(d()),e,t,s)}catch(o){if(i((0,n.wE)(o)),!(o instanceof l.X&&1656===o.bungieErrorCode()))throw o;await i(P(e,r)),await x(e)((0,a.sZ)(d()),e,t,s)}const f=(0,k.KA)(u(),e.owner),g=i(T(e,f,t,!1,s));return e="vault"!==g.owner&&o?await i(H(g,r.cancelToken)):g,void 0!==p&&(async()=>{(0,m.zh)("move","Resetting lock status of",e.name,"to",p,"when moving to",t.name,"to work around Bungie.net lock state bug");try{await i(S(e,p))}catch(e){(0,m.PT)(w,"Lock state override failed",e)}})(),e}}function M(e,t){if(e.equippingLabel)return t.items.find((t=>t.equipped&&t.equippingLabel===e.equippingLabel&&t.bucket.hash!==e.bucket.hash))}function E(e,t,o,s,n){return async(a,c)=>{const{excludes:d=[],reservations:u={},numRetries:p=0}=s;function f(t,o){let s=(0,k.o$)(t,o,(0,A.Wh)(c()));return u[t.id]?.[o.bucket.hash]&&(s-=u[t.id][o.bucket.hash]),t.id!==e.owner||o.bucket.hash!==e.bucket.hash||e.location.inPostmaster||s--,1469714392!==o.bucket.hash||n.involvedItems.has(o.hash)||(s-=o.maxStackSize),Math.max(0,s)}if(e.owner===t.id&&!e.location.inPostmaster)return!0;if(e.uniqueStack&&(0,k.Fh)(t,e)+o>e.maxStackSize)throw new l.X("no-space",(0,r.t)("ItemService.StackFull",{name:e.name}));const y=(0,A.Wh)(c()),v={};v[t.id]=o,"vault"===e.owner||t.isVault||e.owner===t.id||(v.vault=o);const b={};for(const t of y)v[t.id]&&(b[t.id]=Math.max(0,v[t.id]-f(t,e)));if(Object.values(b).every((e=>0===e)))return!0;{const w={originalItemType:e.bucket.hash,excludes:d,spaceLeft(e,t){let o=f(e,t);return t.bucket.hash===this.originalItemType&&v[e.id]&&(o-=v[e.id]),Math.max(0,o)}},[I]=Object.entries(b).findLast((([e,t])=>t>0)),S=(0,k.KA)(y,I),{item:x,target:T}=function(e,t,o,s){const n=(0,A.Wh)(e()),a=n.filter((e=>e.id!==t.id));let c;try{c=t.isVault?t.items.filter((e=>e.bucket.vaultBucket&&o.bucket.vaultBucket&&e.bucket.vaultBucket.hash===o.bucket.vaultBucket.hash)):(0,k.VS)(t,o.bucket.hash)}catch(e){throw t.isVault&&!o.bucket.vaultBucket?(0,m.PT)("move","Item",o.name,"has no vault bucket, but we're trying to move aside room in the vault for it"):t.items.some((e=>!e.bucket.vaultBucket))&&(0,m.PT)("move","The vault has items with no vault bucket: ",t.items.filter((e=>!e.bucket.vaultBucket)).map((e=>e.name))),e}const d=c.filter((function(e){return!e.notransfer&&!s.excludes.some((t=>t.id===e.id&&t.hash===e.hash))}));if(0===d.length)throw new l.X("no-space",(0,r.t)("ItemService.NotEnoughRoom",{store:t.name,itemname:o.name})).withError(new l.X("ItemService.NotEnoughRoomGeneral"));let u;const p=d.find((e=>(e.maxStackSize>1&&(u=a.find((t=>t.items.some((t=>t.hash===e.hash&&!t.location.inPostmaster&&e.maxStackSize-t.amount>=e.amount))))),!!u)));if(p&&u)return{item:p,target:u};const f=(0,A.Mj)(e()),y=(0,i.Hz)(e()),v=(0,h.B)((([e,t])=>s.spaceLeft(e,t)),{getCacheKey:([e,t])=>t.maxStackSize>1?e.id+t.hash:e.id+t.bucket.hash}),b=(0,k.Px)(n);let w=(()=>{const e=a.filter((e=>!e.isVault)).sort((0,g.VE)((e=>e.lastPlayed.getTime())));for(const s of e){const e=q(d,t,s,f,y,o);for(const o of e){const e=v([s,o]);if(t.isVault){if(o.amount<=e)return{item:o,target:s}}else{const t=v([b,o]);if(1===Math.floor(t/o.maxStackSize)&&0===Math.max(0,Math.floor((t-o.amount)/o.maxStackSize))&&e)return{item:o,target:s}}}}})();if(w||t.isVault||(w={item:d[0],target:b}),!w)throw new l.X("no-space",(0,r.t)("ItemService.NotEnoughRoom",{store:t.name,itemname:o.name})).withError(new l.X("ItemService.NotEnoughRoomGeneral"));return w}(c,S,e,w);if(!T||!T.isVault&&(0,k.o$)(T,x,y)<=0){const e=T.isVault?1===x.destinyVersion?x.bucket.sort:"":x.typeName;throw new l.X("no-space",T.isVault?(0,r.t)("ItemService.BucketFull.Vault",{itemtype:e,store:T.name}):(0,r.t)("ItemService.BucketFull.Guardian",{itemtype:e,store:T.name,context:T.genderName}))}try{const r={equip:!1,amount:x.amount,excludes:d,reservations:u};return await a(L(x,T,r,n)),await a(E(e,t,o,s,n))}catch(r){if(p<3)return d.push(x),s.excludes=d,s.numRetries=p+1,(0,m.PT)("move",`Unable to move aside ${x.name} to ${T.name}. Trying again.`,r),a(E(e,t,o,s,n));throw r}}}}function R(e,t,o,s,n,a,i){return async c=>(e&&(function(e,t){if(!(0,u.BE)(e,t)){if(e.classified)throw new l.X("ItemService.Classified");{const t=3===e.classType?(0,r.t)("ItemService.OnlyEquippedLevel",{level:e.equipRequiredLevel}):(0,r.t)("ItemService.OnlyEquippedClassLevel",{class:e.classTypeNameLocalized.toLowerCase(),level:e.equipRequiredLevel});throw new l.X("wrong-level",t)}}}(o,t),o.equippingLabel&&await c(function(e,t,o){return async s=>{const n=M(e,t);if(!n)return!0;try{return await s(P(n,o,{excludeExotic:!0})),!0}catch(t){throw Error((0,r.t)("ItemService.ExoticError",{itemname:e.name,slot:n.typeName,error:(0,d.g)(t)}))}}}(o,t,i))),c(E(o,t,s,{excludes:n,reservations:a},i)))}function L(e,t,{equip:o=!1,amount:s=e.amount||1,excludes:n=[],reservations:a={}},r){return async(i,c)=>{const d=()=>(0,A.Wh)(c());let u=(0,k.KA)(d(),e.owner);if(!t.isVault&&e.bucket.accountWide&&(t=(0,k.ZS)(d())),(u.isVault||e.location.inPostmaster&&(u.id===t.id||e.bucket.accountWide))&&t.current&&!r.bucketsFullOnCurrentStore.has(e.bucket.hash)&&1469714392!==e.bucket.hash)try{return(0,m.zh)(w,"Try blind move of",e.name,"to",t.name),await i(D(e,t,o,s,r))}catch(o){if(!(o instanceof l.X&&1642===o.bungieErrorCode()))throw o;(0,m.XX)("move","Tried blindly moving",e.name,"to",t.name,"but the bucket is really full"),r.bucketsFullOnCurrentStore.add(e.bucket.hash)}return(u.isVault||t.isVault||u.id===t.id||e.bucket.accountWide)&&(await i(R(o,t,e,s,n,a,r)),t=(0,k.KA)(d(),t.id),u=(0,k.KA)(d(),e.owner)),e.location.inPostmaster&&(u.id===t.id||e.bucket.accountWide?e=await i(D(e,t,o,s,r)):(e=await i(L(e,u,{equip:o,amount:s,excludes:n,reservations:a},r)),t=(0,k.KA)(d(),t.id),u=(0,k.KA)(d(),e.owner))),u.isVault||t.isVault?u.isVault&&t.isVault||(u.isVault||t.isVault)&&(e.equipped&&(e=await i(P(e,r))),e=await i(D(e,t,o,s,r))):(u.id===t.id||e.bucket.accountWide||(e.equipped&&(e=await i(P(e,r))),await i(R(!1,(0,k.Px)(d()),e,s,n,a,r)),t=(0,k.KA)(d(),t.id),u=(0,k.KA)(d(),e.owner),e=await i(function(e,t,o){return async(s,n)=>s(D(e,(0,k.Px)((0,A.Wh)(n())),!1,t,o))}(e,s,r)),await i(R(o,t,e,s,n,a,r)),t=(0,k.KA)(d(),t.id),u=(0,k.KA)(d(),e.owner),e=await i(D(e,t,o,s,r))),o&&!e.equipped?e=await i(H(e,r.cancelToken)):!o&&e.equipped&&(e=await i(P(e,r)))),e}}const V={Unknown:0,Currency:0,Common:0,Uncommon:1,Rare:2,Legendary:4,Exotic:3};function q(e,t,o,s,n,a){const r=(0,g.fb)((0,g.o2)((0,g.VE)((e=>!e.equipped)),(0,g.VE)((e=>!t.isVault&&a&&e.bucket.hash===a.bucket.hash)),(0,g.VE)((e=>t.isVault?!e.isEngram:e.isEngram)),(0,g.VE)((e=>-(0,b.X)(e))),(0,g.VE)((e=>!t.isVault&&!n(e,t.id))),(0,g.VE)((e=>!o.isVault&&n(e,o.id))),(0,g.VE)((e=>!t.isVault&&!(0,u.BE)(e,t))),(0,g.VE)((e=>!o.isVault&&(0,u.BE)(e,o))),(0,g.fb)((0,g.hn)(t.isVault?v.i:v.zs,(e=>s(e)??"none"))),(0,g.VE)((e=>t.isVault?V[e.tier]:-V[e.tier])),(0,g.VE)((e=>e.primaryStat&&(t.isVault?e.primaryStat.value:-e.primaryStat.value)||0))));return e.sort(r),e}function O(e,t,o,s=[],n,a){const r=o.items.filter((e=>e.location.hash===t.location.hash&&!e.equipped&&e.id!==t.id&&(0,u.BE)(e,n)&&!s.some((t=>t.id===e.id&&t.hash===e.hash))&&(!a||e.equippingLabel!==t.equippingLabel)));if(!r.length)return;const i=(0,A.Mj)(e()),c=(0,g.fb)((0,g.o2)((0,g.VE)((e=>!e.equippingLabel)),(0,g.VE)((e=>e.typeName===t.typeName)),(0,g.fb)((0,g.hn)(v.dy,(e=>i(e)??"none"))),(0,g.VE)((e=>V[e.tier])),(0,g.VE)((e=>e.primaryStat?.value??0))));return r.sort(c).find((e=>{if(e.equippingLabel){const s=M(e,o);return!s||s.id===t.id}return!0}))||void 0}},80709:(e,t,o)=>{o.d(t,{a:()=>n,w:()=>s});const s=new(o(46673).l);function n(e){s.next(e)}},1930:(e,t,o)=>{o.d(t,{J:()=>n,X:()=>a});const s=new Map;function n(e){s.set(e.index,Date.now())}function a(e){return s.get(e.index)??0}},28860:(e,t,o)=>{o.d(t,{Dc:()=>N,Hb:()=>T,YO:()=>C,a0:()=>x,mn:()=>P,wO:()=>H}),o(10131);var s=o(63163),n=o(19654),a=o(2290),r=o(20169),i=o(99946),c=o(57551),l=o(50507),d=o(69063),u=o(11071),m=o(16283),h=o(95840),p=o(14231),f=o(57840),g=o(58128),y=o(44155),v=o(6598),b=o(61542),A=o(34966),k=o(1930),w=o(62447),I=o(65);const S="move";function x(e,t){return async(o,s)=>{t?.stopPropagation();const n=(0,I.ZS)((0,w.Wh)(s())),a=!e.equipped||e.owner!==n.id;return o(C(e,n,!!(0,m.BE)(e,n)&&a))}}function T(e,t,o){return async(s,n)=>{const r=(0,I.KA)((0,w.Wh)(n()),e),i=await o({filterItems:e=>e.bucket.hash===t.hash&&(0,m.BE)(e,r),prompt:(0,a.t)("MovePopup.PullItem",{bucket:t.name,store:r.name})});i&&await s(C(i,r))}}function N(e,t,o=!1){return async(s,n)=>{const a=(0,I.KA)((0,w.Wh)(n()),t);return s(C(e,a,o,e.amount))}}function C(e,t,o=!1,a=e.amount){return async(c,d)=>{const m=(0,w.ux)(d()),x=(0,n.A2)("singleCharacter")(d());return(0,s.Lk)({name:"moveItemTo"},(async()=>{if((0,r.EV)(),e.location.inPostmaster?!e.canPullFromPostmaster:e.notransfer&&e.owner!==t.id)return void(0,p.Ds)((0,v.I$)(e,t,Promise.reject(new l.X("Help.CannotMove")),u.lQ));if(e.owner===t.id&&!e.location.inPostmaster&&e.equipped===o)return;if(x&&t.isVault&&e.owner!==m.id)return;const s=a||1,n=e.equipped||o;try{const a=(0,w.Wh)(d());(0,h.zh)(S,"User initiated move:",s,e.name,e.typeName,"to",t.name,"from",(0,I.KA)(a,e.owner).name),(0,k.J)(e);const[r,l]=(0,i.Fb)(),u=(0,A.cz)(r,[e]),m=(0,g.A)((()=>f.f.addPromise(c((0,A.UE)(e,t,{equip:o,amount:s},u)))));(0,p.Ds)((0,v.I$)(e,t,m,l)),await m,n&&c((0,b.u)())}catch(o){if(o instanceof i.k3)return;(0,h.PT)(S,"error moving item",e.name,"to",t.name,o),o instanceof l.X&&("wrong-level"===o.code||"no-space"===o.code||1671===o.bungieErrorCode()||1642===o.bungieErrorCode()||1623===o.bungieErrorCode())||(0,y.U)("moveItem",o)}}))}}function H(e,t){return(o,s)=>(0,g.A)((()=>f.f.addPromise((async()=>{const n=(0,w.Wh)(s()),r=n.filter((e=>!e.isVault)),c=(0,I.Px)(n),l=(0,A.cz)(i.YO,[e]);try{for(const s of r){const n=s.items.find((o=>t.id!==o.owner&&o.hash===e.hash&&!o.location.inPostmaster));if(n){const t=(0,I.Fh)(s,e);await o((0,A.UE)(n,c,{equip:!1,amount:t},l))}}if(!t.isVault){const n=(0,I.Px)((0,w.Wh)(s())),a=n.items.find((t=>t.hash===e.hash&&!t.location.inPostmaster));if(a){const s=(0,I.Fh)(n,e);await o((0,A.UE)(a,t,{equip:!1,amount:s},l))}}const n={name:e.name,store:t.name},i=(0,a.t)(t.isVault?"ItemMove.ToVault":"ItemMove.ToStore",n);(0,p.Ds)({type:"success",title:(0,a.t)("ItemMove.Consolidate",n),body:i})}catch(t){(0,p.Ds)({type:"error",title:e.name,body:(0,d.g)(t)}),(0,h.PT)(S,"error consolidating",e,t)}})())))}function P(e){return(t,o)=>(0,g.A)((()=>f.f.addPromise((async()=>{const s=(0,w.Wh)(o()).toSorted((0,c.VE)((e=>"vault"===e.id?2:1))),n=(0,A.cz)(i.YO,[e]);let r=0;const l=s.map((t=>{const o=(0,I.Fh)(t,e);return r+=o,o})),u=s.length-1;let m=r%u;const f=s.map(((e,t)=>{if(t>=u)return 0;const o=m>0?Math.ceil(r/u):Math.floor(r/u);return m--,o})),g=l.map(((e,t)=>f[t]-e)),y=[],v=[],b=s.length-1,k=s[b];for(const[e,t]of g.entries())t<0&&e!==b?y.push({source:s[e],target:k,amount:-t}):t>0&&v.push({source:k,target:s[e],amount:t});async function x(o){for(const s of o){const o=s.source.items.find((t=>t.hash===e.hash));await t((0,A.UE)(o,s.target,{equip:!1,amount:s.amount},n))}}try{await x(y),await x(v),(0,p.Ds)({type:"success",title:(0,a.t)("ItemMove.Distributed",{name:e.name})})}catch(t){(0,p.Ds)({type:"error",title:e.name,body:(0,d.g)(t)}),(0,h.PT)(S,"error distributing",e,t)}})())))}},58769:(e,t,o)=>{o.d(t,{VT:()=>c,Vj:()=>u,Xn:()=>r,du:()=>l}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(36871),n=o(57551),a=o(58947);function r(e){const t={};for(const o of Object.values(e)){const e=c(o.notes);for(const o of e){const e=o.toLowerCase();t[e]??={count:0,variants:{}},t[e].count++,t[e].variants[o]??=0,t[e].variants[o]++}}return Object.values(t).map((e=>{const t=Object.entries(e.variants);return[(0,a.S)(t,(e=>e[1]))[0],e.count]})).sort((0,n.VE)((e=>-e[1]))).map((e=>e[0]))}const i=/(^|[\s,])(#[\p{L}\p{N}\p{Private_Use}\p{Other_Symbol}_:-]+)/gu;function c(...e){return e.flatMap((e=>Array.from(e?.matchAll(i)??[],(e=>e[2]))))}function l(e,t){const o=m(e),n=m(t),a=new Set((0,s.x1)(o,(e=>"string"!=typeof e?e.hashtag:void 0))),r=n.filter((e=>"string"==typeof e||!a.has(e.hashtag)));return(0,s.oE)([...o," ",...r]).map((e=>"string"==typeof e?e:e.hashtag)).join("").replaceAll(/(\s)+/g,"$1").trim()}const d=/^\s*(?:(?:^|[\s,])#[\p{L}\p{N}\p{Private_Use}\p{Other_Symbol}_:-]+\s*)+$/u;function u(e,t){if(!e)return;const o=m(e);if(t.match(d)){const e=new Set(c(t));return o.filter((t=>"string"==typeof t||!e.has(t.hashtag))).map((e=>"string"==typeof e?e:e.hashtag)).join("").replaceAll(/(\s)+/g,"$1").trim()}const n=(0,s.x1)(o,(e=>"string"==typeof e?void 0:[e.index,e.index+e.hashtag.length]));return e?.replaceAll(t.trim(),((e,t)=>n.some((([e,o])=>t>e&&t<o))?e:"")).replaceAll(/\s+/g," ").trim()}function m(e){if(!e)return[];const t=[];let o,s=0;for(;o=i.exec(e);){const n=o.index+o[1].length;if(n>s){const o=e.substring(s,n);t.push(o)}t.push({hashtag:o[2],index:n}),s=n+o[2].length}return s<e.length&&t.push(e.substring(s,e.length)),t}},62447:(e,t,o)=>{o.d(t,{V0:()=>N,d6:()=>ae,bH:()=>X,$_:()=>W,Cd:()=>F,HN:()=>I,cb:()=>U,h$:()=>R,ux:()=>H,uw:()=>w,Np:()=>k,M6:()=>S,vL:()=>J,vX:()=>te,Mj:()=>ee,l2:()=>ne,qi:()=>M,G7:()=>Y,Y5:()=>_,i5:()=>D,fC:()=>se,RJ:()=>Q,lt:()=>Z,VK:()=>z,SZ:()=>j,yu:()=>B,pl:()=>x,Br:()=>C,Wh:()=>A,oF:()=>T,Y2:()=>oe,S:()=>V,xk:()=>K,KD:()=>P,g1:()=>q}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(30671),n=o(19654),a=o(38654),r=o(54511),i=o(10349),c=o(11519),l=o(18604),d=o(90825),u=o(63150),m=o(73799),h=o(36871),p=o(90699);const f={};for(const[e,t]of Object.entries(p.j))for(const o of t)f[o]=e;var g=o(96852),y=o(12462),v=o(58769),b=o(65);const A=e=>e.inventory.stores,k=(0,u.Mz)((e=>e.manifest.d2Manifest),(e=>e&&function(e){const t={byHash:{},byCategory:{},unknown:{description:"Unknown items. DIM needs a manifest update.",name:"Unknown",hash:-1,equippable:!1,hasTransferDestination:!1,capacity:Number.MAX_SAFE_INTEGER,sort:"Unknown",accountWide:!1,category:1},setHasUnknown(){this.byCategory[this.unknown.sort]=[this.unknown]}};for(const o of Object.values(e.InventoryBucket.getAll())){const e={description:o.displayProperties.description,name:o.displayProperties.name,hash:o.hash,equippable:3===o.category,hasTransferDestination:o.hasTransferDestination,capacity:o.itemCount,accountWide:1===o.scope,category:o.category,sort:f[o.hash]};e.sort&&(e["in"+e.sort]=!0),t.byHash[e.hash]=e}const o={};for(const t of e.Vendor.get(1037843411).acceptedItems)o[t.acceptedInventoryBucketHash]=t.destinationInventoryBucketHash;for(const e of Object.values(t.byHash))o[e.hash]&&(e.vaultBucket=t.byHash[o[e.hash]]);for(const[e,o]of Object.entries(p.j))t.byCategory[e]=(0,h.x1)(o,(e=>t.byHash[e]));return t}(e))),w=(0,u.Mz)((e=>e.manifest.d1Manifest),(e=>e&&(0,m.y)(e))),I=(0,u.Mz)(s.Ot,w,k,((e,t,o)=>2===e?o:t)),S=(0,u.Mz)(I,(e=>e?new Set(Object.values(e.byCategory).flatMap((e=>e.map((e=>e.hash))))):(0,c.mj)())),x=(0,u.Mz)(A,g.DT,((e,t)=>t(e))),T=(0,u.Mz)(g.xX,A,((e,t)=>e(t))),N=(0,u.Mz)(A,(e=>e.flatMap((e=>e.items)))),C=e=>A(e).length>0,H=e=>(0,b.ZS)(A(e)),P=e=>(0,b.Px)(A(e)),D=e=>e.inventory.newItems,M=e=>t=>!!(0,n.t2)(t).showNewItems&&D(t).has(e.id),E=[3159615086,2817410917,3147280338,2534352370,2749350776],R=(0,u.Mz)((e=>e.inventory.currencies),(e=>e.filter((e=>E.includes(e.itemHash))))),L=[1583786617,4238733045,1498161294,4019412287],V=(0,u.Mz)((e=>e.inventory.currencies),(e=>e.filter((e=>L.includes(e.itemHash))))),q=(0,u.Mz)(a.v2,(e=>e.inventory.currencies),((e,t)=>e?t.filter((t=>e.InventoryItem.get(t.itemHash).inventory.stackUniqueLabel?.match(/virtual_engram|\.virtual$/))):(0,c.tR)())),O=[3702027555,1289622079,3467984096],_=(0,u.Mz)(N,(e=>e.filter((e=>e.itemCategoryHashes.includes(40)||e.itemCategoryHashes.includes(2088636411)||O.includes(e.hash))))),B=e=>e.inventory.mockProfileData??e.inventory.profileResponse,j=(0,u.Mz)(B,(e=>new Date(e?.responseMintedTimestamp??0))),z=e=>e.inventory.profileError,F=e=>H(e)?void 0:e.inventory.profileError,W=e=>(e=>!!(e.inventory.profileResponse?.profileTransitoryData?.data||Date.now()-Date.parse(e.inventory.profileResponse?.profile.data?.dateLastPlayed||"0")<6e5))(e)&&e.dimApi.globalSettings.autoRefresh,U=(0,u.Mz)(a.v2,B,I,n.qg,((e,t,o,s)=>({defs:e,buckets:o,profileResponse:t,customStats:s}))),G=[4274335291,1345459588],Q=(0,u.Mz)(N,(e=>{const t=new Set,o={};for(const s of e)G.includes(s.bucket.hash)?(o[s.owner]||(o[s.owner]=new Set),o[s.owner].add(s.hash)):t.add(s.hash);return{accountWideOwned:t,storeSpecificOwned:o}})),Z=(0,u.Mz)(a.v2,B,((e,t)=>{const o=new Set,s={};if(e&&t){const n=(0,r.N)(e),a=(t,o)=>{for(const[s,a]of Object.entries(t))(0,i.l)(parseInt(s,10),a,o,(t=>{const o=e.InventoryItem.get(t.plugItemHash);return!o||!n(o)}))};if(t.profilePlugSets?.data&&a(t.profilePlugSets.data.plugs,o),t.characterPlugSets?.data)for(const[e,o]of Object.entries(t.characterPlugSets.data))s[e]||(s[e]=new Set),a(o.plugs,s[e])}return{accountWideOwned:o,storeSpecificOwned:s}})),K=(0,l.d)((0,u.Mz)(((e,t)=>t),B,(function(e,t){const o=new Set;if(t?.profilePlugSets.data?.plugs)for(const e in t.profilePlugSets.data.plugs){const s=parseInt(e,10);(0,i.l)(s,t.profilePlugSets.data.plugs[s],o)}if(e&&t?.characterPlugSets.data?.[e]?.plugs)for(const s in t.characterPlugSets.data[e].plugs){const n=parseInt(s,10);(0,i.l)(n,t.characterPlugSets.data[e].plugs[n],o)}return o}))),J=(0,u.Mz)(B,(e=>{if(e){const{profileStringVariables:t,characterStringVariables:o}=e,s=t?.data?.integerValuesByHash??{},n={};for(const e in o?.data)n[e]=o.data?.[e].integerValuesByHash??{};return{allProfile:s,byCharacter:n}}})),X=(0,l.d)((0,u.Mz)(B,((e,t)=>t),((e,t)=>e&&function(e,t){const o=e?.characterProgressions.data?.[t]?.seasonalArtifact;if(o?.tiers)return{unlockedItemHashes:o.tiers?.flatMap((e=>e.items)).filter((e=>e.isVisible&&e.isActive)).map((e=>e.itemHash))||[],seasonNumber:d.S}}(e,t)))),Y=e=>(0,n.eH)(e)?.tags||(0,c.vB)(),$=e=>e.dimApi.itemHashTags,ee=(0,u.Mz)(Y,$,((e,t)=>o=>(0,y.bH)(o,e,t))),te=(0,u.Mz)(Y,$,((e,t)=>o=>(0,y.CS)(o,e,t))),oe=e=>t=>ee(t)(e),se=e=>t=>te(t)(e),ne=e=>t=>!!te(t)(e),ae=(0,u.Mz)(Y,v.Xn)},16342:(e,t,o)=>{o.d(t,{$3:()=>u,DX:()=>c,GJ:()=>l,sc:()=>i});const s=["5:00","4:46","4:31","4:15","3:58","3:40"],n=["5:30","5:14","4:57","4:39","4:20","4:00"],a=["1:00","0:55","0:49","0:42","0:34","0:25"],r=["1:10","1:04","0:57","0:49","0:40","0:29"];function i(e,t){switch(t){case 3448274439:return e<292?15:e<307?16:e<319?17:e<332?18:19;case 3551918588:return e<287?13:e<305?14:e<319?15:e<333?16:17;case 14239492:return e<287?20:e<300?21:e<310?22:e<319?23:e<328?24:25;case 20886954:return e<284?18:e<298?19:e<309?20:e<319?21:e<329?22:23;case 1585787867:case 4023194814:return e<295?8:e<319?9:10;case 434908299:return e<287?34:e<295?35:e<302?36:e<308?37:e<314?38:e<319?39:e<325?40:e<330?41:e<336?42:43}}const c=[1735777505,144602215,4244567218];function l(e){if(!c.includes(e.hash))return[];const t=[,,,,,];let o=e.value;for(let e=0;e<5;e++)o-=t[e]=o>60?60:o;return t}const d=["STAT_INTELLECT","STAT_DISCIPLINE","STAT_STRENGTH","STAT_ARMOR","STAT_RECOVERY","STAT_AGILITY"];function u(e,t){const o={};for(const s of d){const n=t.stats[s];if(!n)continue;const a={hash:n.statHash,value:n.value,name:"",description:"",icon:""};switch(s){case"STAT_INTELLECT":a.effect="Super",a.icon=e.Stat.get(144602215).icon;break;case"STAT_DISCIPLINE":a.effect="Grenade",a.icon=e.Stat.get(1735777505).icon;break;case"STAT_STRENGTH":a.effect="Melee",a.icon=e.Stat.get(4244567218).icon}const r=e.Stat.get(a.hash);r&&(a.name=r.statName,a.description=r.statDescription),c.includes(a.hash)&&t.peerView&&(a.cooldown=m(t.peerView.equipment[0].itemHash,s,Math.floor(Math.min(300,a.value)/60))),o[a.hash]=a}return o}function m(e,t,o){switch(t){case"STAT_INTELLECT":switch(e){case 2007186e3:case 4143670656:case 2455559914:case 3658182170:return s[o];default:return n[o]}case"STAT_DISCIPLINE":return a[o];case"STAT_STRENGTH":switch(e){case 4143670656:case 1716862031:return r[o];default:return a[o]}default:return"-:--"}}},76678:(e,t,o)=>{o.d(t,{PX:()=>r,U2:()=>l,dL:()=>d,t8:()=>a});var s=o(95840),n=o(72549);const a=3583996951,r=3201856887,i=4251072212,c={2728416798:1,2728416797:2,2728416796:3};function l(e,t){const o=d(e);if(!o)return;const n=o.plugged?.plugObjectives;if(!n)return;const a=function(e,t){let o,n,a;for(const s of t){const t=e.Objective.get(s.objectiveHash);t&&(2===t.uiStyle?o=s.progress:3===t.uiStyle?n=s.progress/s.completionValue:4===t.uiStyle&&(a=s.progress))}if(void 0!==o&&void 0!==n&&void 0!==a)return{level:o,progress:n,craftedDate:a,enhancementTier:0};(0,s.XX)("Item is missing one of level, progress, craftedDate",{level:o,progress:n,craftedDate:a})}(t,n);return a?(a.enhancementTier=function(e){if(e.bucket.inWeapons&&e.sockets){const t=e.sockets.allSockets.find((e=>e.socketDefinition.socketTypeHash===i))?.plugged?.plugDef.hash;return t&&c[t]||0}return 0}(e),a):void 0}function d(e){if(e.bucket.inWeapons&&e.sockets)return(0,n.tp)(e.sockets,a)}},74427:(e,t,o)=>{o.d(t,{h4:()=>S,AS:()=>k}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(2290),n=o(46279),a=o(36871),r=o(57551),i=o(16283),c=o(95840);const l=JSON.parse('{"10673376":[2650556703],"10673377":[2650556703],"17215186":[440710167],"17215187":[440710167],"23451592":[2585003248],"46152726":[4160622434],"46721743":[2650556703],"47507137":[2585003248],"48423572":[2650556703],"48423573":[2650556703],"72887664":[440710167],"100312097":[440710167],"120524974":[2650556703],"120524975":[2650556703],"124508677":[440710167],"136219292":[2585003248],"149649367":[2650556703],"162993472":[1662673928],"165822953":[1682133942],"167916720":[440710167],"169290560":[2585003248],"189063458":[1662673928],"191736999":[1662673928],"240078628":[3131490494],"255184294":[1682133942],"265504045":[3068521220],"278511964":[2585003248],"281163670":[1234918199],"294399990":[1234918199],"297997397":[2585003248],"299972636":[1662673928],"306958364":[440710167],"319614456":[1662673928],"320170738":[2650556703],"320170739":[2650556703],"341708370":[2650556703],"341708371":[2650556703],"347985610":[1234918199],"349409405":[1682133942],"351563194":[3068521220],"384778813":[1662673928],"418165607":[1662673928],"418165608":[1662673928],"418165609":[1662673928],"418165610":[2585003248],"418165611":[2585003248],"418165612":[2585003248],"418165613":[440710167],"418165614":[440710167],"418165615":[440710167],"431256617":[3068521220],"440236681":[2585003248],"446254464":[3068521220],"446517955":[3131490494],"452104880":[3131490494],"452104881":[3131490494],"457366421":[1662673928],"457764795":[1682133942],"483952790":[3131490494],"486639600":[1234918199],"488162542":[1682133942],"488703544":[1374970038],"488703545":[1374970038],"498794675":[3131490494],"501878012":[3131490494],"504330683":[2585003248],"510876942":[3131490494],"547597837":[1662673928],"582029658":[1682133942],"594033570":[1682133942],"599590573":[1682133942],"616180714":[2650556703],"639304757":[3068521220],"653965742":[3068521220],"656520726":[1662673928],"656520728":[1662673928],"656520729":[1662673928],"656520730":[2585003248],"656520731":[2585003248],"656520732":[440710167],"656520733":[2585003248],"656520734":[440710167],"656520735":[440710167],"664737061":[2650556703],"669643075":[1234918199],"687119879":[1682133942],"690024325":[1662673928],"706920989":[1662673928],"711737842":[1234918199],"711737843":[1234918199],"728377844":[2650556703],"728377845":[2650556703],"738109042":[1682133942],"773948710":[3131490494],"785760358":[1682133942],"811367950":[2650556703],"839919863":[1682133942],"849545090":[1682133942],"856822016":[1662673928],"869771221":[1682133942],"894761024":[3131490494],"894761026":[3131490494],"894761027":[3131490494],"905185492":[440710167],"925424697":[2585003248],"947033339":[1682133942],"952225322":[2650556703],"974535320":[1662673928],"987198024":[3068521220],"1001251649":[1234918199],"1001251654":[1234918199],"1012256480":[1682133942],"1014231576":[1662673928],"1050291904":[1662673928],"1050291905":[4160622434],"1050291908":[3068521220],"1050291909":[3068521220],"1050291910":[440710167],"1050291911":[2585003248],"1061345955":[3131490494],"1075289601":[3068521220],"1090313784":[2585003248],"1103854799":[1682133942],"1126257023":[2585003248],"1128836046":[3068521220],"1139076902":[1682133942],"1149751883":[2650556703],"1151347422":[440710167],"1170904292":[2964550958],"1173766590":[2650556703],"1173766591":[2650556703],"1184900752":[1234918199],"1184900753":[1234918199],"1190560887":[3068521220],"1221552698":[2585003248],"1227758151":[1234918199],"1230196177":[3131490494],"1230611383":[1682133942],"1232070660":[2650556703],"1252256284":[1682133942],"1266297712":[1234918199],"1266297719":[1234918199],"1270491518":[3131490494],"1278603962":[2650556703],"1283021732":[2650556703],"1283021733":[2650556703],"1285649692":[3131490494],"1288233773":[440710167],"1298850675":[3068521220],"1305525274":[2650556703],"1344441638":[1662673928],"1350048972":[3131490494],"1350048973":[3131490494],"1370460719":[440710167],"1398798172":[2650556703],"1398798173":[2650556703],"1422254016":[1682133942],"1427602698":[1234918199],"1429062181":[2650556703],"1444401177":[440710167],"1456315384":[440710167],"1458926430":[440710167],"1475011170":[3131490494],"1477614333":[440710167],"1482417412":[1682133942],"1483483181":[1682133942],"1505957929":[2650556703],"1516397455":[3131490494],"1536084164":[3068521220],"1550781862":[2650556703],"1550781863":[2650556703],"1554221763":[3068521220],"1564235349":[3131490494],"1565163446":[1662673928],"1566345524":[2650556703],"1566345525":[2650556703],"1569892242":[440710167],"1573495022":[3068521220],"1576112564":[1234918199],"1604125378":[2650556703],"1620583065":[440710167],"1623420384":[2964550958],"1629229483":[1682133942],"1631737897":[1662673928],"1632312788":[1682133942],"1649308084":[3131490494],"1649308085":[3131490494],"1665465325":[4160622434],"1696520940":[440710167],"1705510184":[2650556703],"1705510185":[2650556703],"1706217754":[1234918199],"1714356932":[1662673928],"1723945892":[2585003248],"1737853468":[1682133942],"1761960529":[1662673928],"1768925824":[2650556703],"1768925825":[2650556703],"1771861810":[2585003248],"1772680569":[3068521220],"1811367950":[2650556703],"1811367951":[2650556703],"1812756619":[1682133942],"1826822442":[2964550958],"1846613521":[2585003248],"1856274185":[3068521220],"1913300516":[440710167],"1943318157":[3131490494],"1944434610":[1234918199],"1944434611":[1234918199],"1954673444":[1374970038],"1954673450":[1374970038],"1954673451":[1374970038],"1973841835":[1662673928],"1979402994":[1662673928],"2038632594":[1662673928],"2038632600":[440710167],"2038632601":[2585003248],"2038632602":[440710167],"2038632603":[440710167],"2038632604":[1662673928],"2038632605":[1662673928],"2038632606":[2585003248],"2038632607":[2585003248],"2072689472":[1234918199],"2088244310":[1682133942],"2106863376":[2650556703],"2112416087":[1682133942],"2129462487":[2650556703],"2136148892":[1682133942],"2143732224":[2585003248],"2150006565":[2585003248],"2150667283":[1234918199],"2150667284":[1234918199],"2154039487":[3068521220],"2170625065":[1234918199],"2170625070":[1234918199],"2170724558":[3131490494],"2180254632":[353834582],"2180255678":[1682133942],"2185888362":[3068521220],"2185888363":[3068521220],"2191224114":[3068521220],"2191224115":[3068521220],"2194008686":[1682133942],"2226144345":[1682133942],"2227954477":[1662673928],"2239590644":[2585003248],"2292033576":[1234918199],"2321310309":[2650556703],"2339777344":[2650556703],"2360689228":[1374970038],"2360689229":[1374970038],"2364921276":[1234918199],"2364921277":[1234918199],"2379135058":[1234918199],"2399369391":[440710167],"2432311021":[1682133942],"2469233045":[2650556703],"2472321204":[2650556703],"2476051997":[1234918199],"2496068858":[3131490494],"2496068859":[3131490494],"2512322824":[440710167],"2515984674":[3131490494],"2534979482":[1682133942],"2540333768":[1682133942],"2555395778":[1234918199],"2564277895":[3131490494],"2564278177":[1682133942],"2575095884":[2964550958],"2575095885":[2964550958],"2575095886":[2964550958],"2575095887":[2964550958],"2588937859":[3068521220],"2599638040":[1682133942],"2602145129":[2650556703],"2604291456":[2964550958,3131490494],"2604291457":[2964550958,3131490494],"2604951151":[1682133942],"2634463554":[2964550958],"2672107536":[2964550958],"2672107537":[2964550958],"2672107538":[2964550958],"2672107539":[2964550958],"2672107540":[2964550958],"2672107541":[2964550958],"2672107542":[2964550958],"2672107551":[2964550958],"2696808257":[440710167],"2706628142":[4160622434],"2727182628":[2585003248],"2727182629":[2585003248],"2744847861":[1662673928],"2748310062":[2650556703],"2748310063":[2650556703],"2752699458":[3131490494],"2777724579":[1682133942],"2810867465":[2585003248,440710167,1662673928,4160622434],"2828837273":[1234918199],"2828837278":[1234918199],"2833532021":[3131490494],"2846692979":[2650556703],"2904362064":[2650556703],"2935267644":[1682133942],"2959003546":[2650556703],"2959003547":[2650556703],"2968802931":[2650556703],"2970247930":[3131490494],"2996043921":[3131490494],"3008445140":[440710167],"3018515720":[3131490494],"3037726217":[3068521220],"3043255431":[1234918199],"3048102613":[2585003248],"3092730773":[1682133942],"3098456198":[1682133942],"3106741559":[1682133942],"3107297018":[440710167],"3137749768":[1234918199],"3139712529":[2585003248],"3143956498":[3131490494],"3143956499":[3131490494],"3143956504":[3131490494],"3143956505":[3131490494],"3143956507":[3131490494],"3143956508":[3131490494],"3143956509":[3131490494],"3143956510":[3131490494],"3143956511":[3131490494],"3153834917":[1682133942],"3195303140":[2650556703],"3217318818":[1682133942],"3227022822":[2585003248],"3241409756":[3131490494],"3242690679":[1662673928],"3253433517":[440710167],"3284317805":[2585003248],"3288685443":[2585003248],"3300361771":[1682133942],"3300523568":[1682133942],"3307602312":[440710167],"3325871682":[1234918199],"3342415802":[2650556703],"3342415803":[2650556703],"3356336516":[1682133942],"3356538611":[1682133942],"3366907656":[2650556703],"3366907657":[2650556703],"3407607557":[2650556703],"3441383073":[1374970038],"3441383074":[1374970038],"3441383075":[1374970038],"3453851953":[3131490494],"3458902100":[2650556703],"3490124916":[2650556703],"3490124917":[2650556703],"3500664182":[1662673928],"3501164583":[1682133942],"3515978626":[2650556703],"3515978627":[2650556703],"3534727768":[440710167],"3536376556":[3068521220],"3563445476":[2585003248],"3566605998":[1374970038],"3566605999":[1374970038],"3597491335":[3131490494],"3598716818":[1682133942],"3653048978":[1374970038],"3653048988":[1374970038],"3653048989":[1374970038],"3654591822":[2585003248],"3664120108":[3131490494],"3664120109":[3131490494],"3664122880":[3131490494],"3677095941":[3131490494],"3705287264":[3131490494],"3705287265":[3131490494],"3705287266":[3131490494],"3705287267":[3131490494],"3752225442":[1662673928],"3758132323":[1374970038],"3758132332":[1374970038],"3758132333":[1374970038],"3764987313":[1234918199],"3776902104":[1374970038],"3776902105":[1374970038],"3776902106":[1374970038],"3801766431":[440710167],"3819042234":[3068521220],"3846961186":[3131490494],"3846961187":[3131490494],"3852109822":[1682133942],"3870751653":[1662673928],"3895707031":[440710167],"3909166968":[1234918199],"3909166969":[1234918199],"3912672488":[440710167],"3912672489":[2585003248],"3920950905":[1682133942],"3923782257":[1682133942],"3971460238":[2585003248],"3974974481":[2585003248,440710167,1662673928,4160622434,3068521220],"3979504232":[3068521220],"3996986648":[1682133942],"3999537132":[1682133942],"4025684900":[2585003248],"4027080268":[1662673928],"4063984058":[1374970038],"4063984059":[1374970038],"4065554759":[1662673928],"4083935123":[3131490494],"4083935128":[3131490494],"4083935129":[3131490494],"4083935130":[3131490494],"4083935131":[3131490494],"4083935132":[3131490494],"4083935133":[3131490494],"4083935134":[3131490494],"4083935135":[3131490494],"4111350117":[2650556703],"4111350118":[2650556703],"4113238754":[440710167],"4125370906":[1234918199],"4125370907":[1234918199],"4184289356":[2650556703],"4184289357":[2650556703],"4186638508":[2585003248],"4203554250":[1374970038],"4203554251":[1374970038],"4204877210":[1682133942],"4208473987":[440710167],"4219383232":[1662673928],"4223010274":[1234918199],"4223010277":[1234918199],"4228079567":[1682133942],"4228322808":[1234918199],"4274025724":[1374970038],"4274025725":[1374970038],"4274184111":[4160622434]}');var d=o(39973),u=o(71814),m=o(73799),h=o(44155);function p(e,t){return t?(e>335&&(e=335),(t.min===t.max||335===e?t.min:`${t.min}%-${t.max}`)+"%"):""}function f(e){return e>300?.2546*e-23.825:e>200?.1801*e-1.4612:-1}function g(e,t){return t>335&&(t=335),{min:Math.floor(e*(f(335)/f(t))),max:Math.floor((e+1)*(f(335)/f(t)))}}var y=o(16342),v=o(47775);const b="d1-stores",A=["Unknown","Unknown","Common","Uncommon","Rare","Legendary","Exotic"];function k(e,t,o,s){const n=[];for(const a of t){let t=null;try{t=x(o,s,a,e)}catch(e){(0,c.PT)(b,"Error processing item",a,e),(0,h.U)("Processing D1 item",e)}if(null!==t)e&&(t.owner=e.id),n.push(t);else{const t=o.InventoryBucket.get(a.bucket);e&&0!==t.category&&t.bucketName&&(e.hadErrors=!0)}}return n}const w=(0,d.B)((([e,t])=>{const o=Object.values(t.Class.getAll()).find((t=>t.classType===e));return o?o.className:(0,s.t)("Loadouts.Any")}),{getCacheKey:([e])=>""+e}),I=(0,d.B)((e=>e&&{displayProperties:{name:e.damageTypeName,description:e.description,icon:e.iconPath,hasIcon:!0,highResIcon:"",iconSequences:[]},transparentIconPath:e.transparentIconPath,hash:e.hash,showIcon:e.showIcon,enumValue:e.enumValue,index:e.index,redacted:e.redacted,color:{red:0,green:0,blue:0,alpha:0}}));function S(e,t,o,s="0"){return x(e,t,{itemHash:o,itemInstanceId:s,bindStatus:0,location:3,transferStatus:2,lockable:!1,state:0,isEquipped:!1,itemLevel:0,stackSize:1,qualityLevel:0,canEquip:!1,equipRequiredLevel:0,unlockFlagHashRequiredToEquip:0,stats:[],cannotEquipReason:0,damageType:0,damageTypeHash:0,damageTypeNodeIndex:0,damageTypeStepIndex:0,talentGridHash:0,nodes:[],useCustomDyes:!1,isEquipment:!1,isGridComplete:!1,perks:[],locked:!1,objectives:[],bucket:0},void 0)}function x(e,t,o,s){const d=e.InventoryItem.get(o.itemHash);if(!d)return null;if(d.icon||(d.redacted=!0,d.classType=3),d.icon||(d.icon="/img/misc/missing_icon.png"),d.itemTypeName||(d.itemTypeName="Unknown"),d.redacted&&(0,c.XX)("d1-stores","Missing Item Definition:\n\n",o,"\n\nThis item is not in the current manifest and will be added at a later time by Bungie."),!d.itemName)return null;const h=Object.keys(d.stats).length;if(3897883278===o.primaryStat?.statHash&&h>0&&5!==h){const e=Object.values(d.stats).find((e=>[144602215,1735777505,4244567218].includes(e.statHash)));if(e)for(const t of[144602215,1735777505,4244567218])d.stats[t]||(d.stats[t]={maximum:e.maximum,minimum:e.minimum,statHash:t,value:0})}let f=t?t.byHash[d.bucketTypeHash]:void 0,y=t.byHash[o.bucket]||f;if(f||(y=f=t.unknown,t.setHasUnknown()),y.hash in m.o)if(d.redacted&&"Unknown"===d.itemTypeName)switch(y.hash){case 4046403665:y=t.byHash[953998645];break;case 3003523923:y=t.byHash[1585787867];break;case 138197802:y=t.byHash[434908299]}else y=f;const k=o.damageTypeHash&&I(e.DamageType.get(o.damageTypeHash))||null;d.sourceHashes||=[];const S=l[d.hash]||[];S.length&&(d.sourceHashes=[...new Set([...d.sourceHashes,...S])]);const x={owner:s?.id||"unknown",destinyVersion:1,location:y,bucket:f,hash:o.itemHash,itemCategoryHashes:d.itemCategoryHashes||[],tier:A[d.tierType]||"Common",isExotic:6===d.tierType,name:d.itemName,description:d.itemDescription||"",icon:d.icon,secondaryIcon:d.secondaryIcon,notransfer:!(!y.inPostmaster&&!d.nonTransferrable&&d.allowActions&&!d.redacted),id:o.itemInstanceId,instanced:"0"!==o.itemInstanceId,equipped:o.isEquipped,equipment:o.isEquipment,equippingLabel:o.isEquipment&&"Exotic"===A[d.tierType]?f.sort:void 0,complete:o.isGridComplete,amount:o.stackSize||1,primaryStat:null,typeName:d.itemTypeName,isEngram:(d.itemCategoryHashes||[]).includes(34),equipRequiredLevel:o.equipRequiredLevel,maxStackSize:d.maxStackSize>0?d.maxStackSize:1,classType:d.classType,classTypeNameLocalized:w([d.classType,e]),element:k,ammoType:T(f.hash),sourceHashes:d.sourceHashes,lockable:3284755031!==f.hash&&(y.inPostmaster&&o.isEquipment||y.inWeapons||o.lockable),trackable:!(!y.inProgress||2197472680!==y.hash&&1801258597!==y.hash),tracked:2===o.state,locked:o.locked,classified:!!d.redacted,percentComplete:0,talentGrid:null,stats:null,objectives:void 0,quality:null,sockets:null,breakerType:null,hidePercentage:!1,taggable:!1,comparable:!1,wishListEnabled:!1,power:0,index:"",infusable:!1,infusionFuel:!1,masterworkInfo:null,infusionCategoryHashes:null,canPullFromPostmaster:!1,uniqueStack:!1,masterwork:!1,crafted:!1,highlightedObjective:!1,missingSockets:!1,energy:null,pursuit:null};if(x.taggable=!(!x.lockable||x.isEngram),x.comparable=!(!x.equipment||!x.lockable),x.itemCategoryHashes.includes(55)&&"Legendary"!==x.tier&&(x.notransfer=!0),o.primaryStat){const t=e.Stat.get(o.primaryStat.statHash);x.primaryStat=o.primaryStat,x.primaryStatDisplayProperties={name:t.statName,description:t.statDescription,icon:t.icon,hasIcon:!!t.icon},n.wq.includes(x.primaryStat.statHash)&&(x.power=x.primaryStat.value)}try{x.talentGrid=function(e,t,o){const s=e.talentGridHash&&t.get(e.talentGridHash);if(!(e.progression&&s&&e.nodes?.length&&o.get(e.progression.progressionHash)))return null;const n=e.progression.currentProgress,i=e.progression.level,c=o.get(e.progression.progressionHash).steps;function l(e){if(0===e)return 0;let t=0;for(let o=1;o<=e;o++)t+=c[Math.min(o,c.length)-1].progressTotal;return t}const d=s.nodes;let m=(0,a.x1)(e.nodes,(t=>{const o=d[t.nodeHash],s=o.steps[t.stepIndex];if(!s)return;const a=s.nodeStepName;if(!a||0===a.length||o.column<0)return;const r=!!o.exlusiveWithNodes?.length,c=t.isActivated||o.autoUnlocks||r&&o.exlusiveWithNodes.some((t=>e.nodes[t].isActivated)),m=s.startProgressionBarAtProgress,h=s.activationRequirement.gridLevel,p=l(h)-m,f=(0,u.q)(n-m,0,p);let g=null;(t.isActivated||o.isRandom)&&(g=t.nodeHash.toString(16),g.length>1&&(g+="."),o.isRandom&&(g+=t.stepIndex.toString(16),t.isActivated&&(g+="o")));let y=!1;return o.column>1&&!p&&!r&&e.primaryStat&&(y=t.isActivated),{name:a,ornament:y,hash:s.nodeStepHash,description:s.nodeStepDescription??"",icon:s.icon,xp:f,xpRequired:p,column:o.column,row:o.row,activated:t.isActivated,activatedAtGridLevel:h,exclusiveInColumn:r,xpRequirementMet:h<=i,unlocked:c,hidden:t.hidden}}));if(m=(0,a.hS)(m,(e=>e.hash)),!m.length)return null;const h=l((0,a._)(m,(e=>e.activatedAtGridLevel))),p=m.find((e=>1920788875===e.hash)),f=(0,a._h)(m.filter((e=>!e.hidden)),(e=>e.column));if(f>0)for(const e of m)e.column-=f;const g=(0,a._)(m,(e=>e.column));return{nodes:m.sort((0,r.o2)((0,r.VE)((e=>e.column)),(0,r.VE)((e=>e.row)))),xpComplete:h<=n,totalXPRequired:h,totalXP:Math.min(h,n),hasAscendNode:!!p,ascended:!!p?.activated,infusable:m.some((e=>1270552711===e.hash)),complete:h<=n&&m.every((e=>e.unlocked||0===e.xpRequired&&e.column===g))}}(o,e.TalentGrid,e.Progression)}catch(e){(0,c.PT)(b,"Error building talent grid for "+x.name,o,d,e)}x.infusable=!!x.talentGrid?.infusable,x.infusionFuel=!(!x.equipment||1501155019===x.primaryStat?.statHash);try{x.stats=N(o,d,e.Stat,x.talentGrid,x.bucket.hash),0===x.stats?.length&&(x.stats=N(o,o,e.Stat,x.talentGrid,x.bucket.hash))}catch(e){(0,c.PT)(b,"Error building stats for "+x.name,o,d,e)}if(x.objectives=o.objectives?.length>0?o.objectives.map((t=>({objectiveHash:t.objectiveHash,complete:t.isComplete,progress:t.progress,completionValue:e.Objective.get(t.objectiveHash).completionValue,visible:!0}))):void 0,x.talentGrid&&x.infusable&&o.primaryStat)try{x.quality=function(e,t,o){if(!e?.length||!t||t.value<280)return null;let s=0;switch(o){case 3448274439:s=46;break;case 3551918588:s=41;break;case 14239492:s=61;break;case 20886954:s=56;break;case 1585787867:case 4023194814:s=25;break;case 434908299:s=38;break;default:return null}const n={total:{min:0,max:0},max:2*s};let a=0;for(const o of e){let e={min:0,max:0};o.base&&(e=g(o.base,t.value),a=e.min),o.scaled=e,o.split=s,o.qualityPercentage={range:"",min:Math.round(100*o.scaled.min/o.split),max:Math.round(100*o.scaled.max/o.split)},n.total.min+=e.min||0,n.total.max+=e.max||0}if(a===n.total.min)for(const t of e)t.scaled&&(t.scaled={min:Math.floor(t.scaled.min/2),max:Math.floor(t.scaled.max/2)},t.split&&(t.qualityPercentage={range:"",min:Math.round(100*t.scaled.min/t.split),max:Math.round(100*t.scaled.max/t.split)}));let r={min:Math.round(n.total.min/n.max*100),max:Math.round(n.total.max/n.max*100),range:""};if(434908299!==o){for(const t of e)t.qualityPercentage&&(t.qualityPercentage={range:"",min:Math.min(100,t.qualityPercentage.min),max:Math.min(100,t.qualityPercentage.max)});r={min:Math.min(100,r.min),max:Math.min(100,r.max),range:""}}for(const o of e)o.qualityPercentage&&(o.qualityPercentage.range=p(t.value,o.qualityPercentage));return r.range=p(t.value,r),r}(x.stats,o.primaryStat,x.bucket.hash)}catch(e){(0,c.PT)("d1-stores","Error building quality rating for "+x.name,o,d,e)}if(x.objectives){const e=x.objectives;x.complete=(!x.talentGrid||x.complete)&&x.objectives.every((e=>e.complete)),x.percentComplete=(0,a.xu)(x.objectives,(t=>t.completionValue?Math.min(1,(t.progress||0)/t.completionValue)/e.length:0))}else x.talentGrid&&(x.percentComplete=Math.min(1,x.talentGrid.totalXP/x.talentGrid.totalXPRequired),x.complete=1===(0,i.Xx)(x)?x.talentGrid.totalXP===x.talentGrid.totalXPRequired:x.talentGrid.complete);return x.isExotic&&x.talentGrid?.nodes.some((e=>4044819214===e.hash))&&(x.equippingLabel=void 0),x.index=(0,v.i)(x),x}function T(e){switch(e){case 1498876634:return 1;case 2465295065:return 2;case 953998645:return 3;default:return 0}}function N(e,t,o,s,n){if(!e.stats?.length||!t.stats)return null;let i,c=[];return s?.nodes&&3897883278===e.primaryStat?.statHash&&(c=s.nodes.filter((e=>[1034209669,1263323987,193091484].includes(e.hash))),c&&(i=c.find((e=>e.activated))||{hash:0})),(0,a.x1)(Object.values(t.stats),(t=>{const s=o.get(t.statHash);if(!s)return;const a=s.statIdentifier;let r,l=-1,d=e.stats.findIndex((e=>e.statHash===t.statHash));if(d<0?(l=["STAT_AIM_ASSISTANCE","STAT_EQUIP_SPEED"].indexOf(a),d=50+l):(r=e.stats[d],"STAT_MAGAZINE_SIZE"!==a&&"STAT_ATTACK_ENERGY"!==a||(d=100)),!r&&l<0)return;let u=100;r?.maximumValue&&(u=r.maximumValue);const m=(r?r.value:t.value)||0;let h=m,p=0;const f=e.primaryStat&&o.get(e.primaryStat.statHash);return e.primaryStat&&"STAT_DEFENSE"===f?.statIdentifier&&("STAT_INTELLECT"===a&&c.find((e=>1034209669===e.hash))||"STAT_DISCIPLINE"===a&&c.find((e=>1263323987===e.hash))||"STAT_STRENGTH"===a&&c.find((e=>193091484===e.hash)))&&(p=(0,y.sc)(e.primaryStat.value,n),i&&("STAT_INTELLECT"===a&&1034209669===i.hash||"STAT_DISCIPLINE"===a&&1263323987===i.hash||"STAT_STRENGTH"===a&&193091484===i.hash)&&(h=Math.max(0,m-p))),{base:h,bonus:p,investmentValue:h,statHash:t.statHash,displayProperties:{name:s.statName,description:s.statDescription},sort:d,value:m,maximumValue:u,bar:"STAT_MAGAZINE_SIZE"!==a&&"STAT_ATTACK_ENERGY"!==a,smallerIsBetter:[447667954,2961396640].includes(t.statHash),additive:"STAT_DEFENSE"===f?.statIdentifier,isConditionallyActive:!1}})).sort((0,r.VE)((e=>e.sort)))}},52040:(e,t,o)=>{o.d(t,{lF:()=>R,h4:()=>V,QD:()=>O,a6:()=>q,AS:()=>E});var s=o(90699),n=o(2290),a=o(54511),r=o(59816),i=o(46279),c=o(36871),l=o(11519),d=o(95840),u=o(72549),m=o(81584);const h=JSON.parse('{"449318888":485622768,"511888814":2611060930,"538538204":2611060930,"903984858":2611060930,"1264955704":2611060930,"1443166262":485622768,"1955548646":485622768,"2415768376":3178805705,"2879305550":3178805705,"3487253372":485622768,"3598649636":485622768,"3991827892":485622768}'),p=JSON.parse('{"2307365":"suros","4425887":"fotc","20025671":"suros","42874240":"omolon","62937067":"suros","105164264":"nadir","137879537":"fotc","153979396":"fotc","153979397":"fotc","153979399":"fotc","161675590":"veist","177568179":"nadir","191996029":"fotc","192784503":"cassoid","195440257":"fotc","205225492":"omolon","253196586":"fotc","276918162":"fotc","294129361":"hakke","303107619":"cassoid","339163900":"fotc","358788212":"cassoid","408440598":"fotc","411397829":"suros","413901114":"nadir","417100299":"nadir","417474225":"cassoid","425681240":"nadir","447296102":"field-forged","487361141":"suros","491078457":"omolon","495940989":"suros","496556698":"cassoid","499245245":"cassoid","501345268":"nadir","540880995":"veist","542573208":"tex-mechanica","555148853":"omolon","566740455":"suros","580961571":"fotc","586671776":"nadir","614140575":"hakke","627188188":"cassoid","632597698":"hakke","655712834":"hakke","681067419":"omolon","705774642":"cassoid","711889599":"veist","717150101":"cassoid","772231794":"omolon","781498181":"nadir","792755504":"fotc","806021398":"fotc","807192446":"fotc","819358961":"fotc","825554997":"suros","834081972":"fotc","852228780":"omolon","888872889":"cassoid","922005771":"suros","930590127":"fotc","990416096":"fotc","1028124540":"suros","1048266744":"fotc","1050806815":"veist","1099433612":"fotc","1120843239":"fotc","1136510727":"omolon","1137768695":"fotc","1144014195":"veist","1161276682":"fotc","1161561386":"nadir","1172884782":"hakke","1177293325":"omolon","1177293326":"omolon","1177293327":"omolon","1183116657":"omolon","1189790632":"fotc","1200414607":"fotc","1281822856":"fotc","1289324202":"hakke","1292594730":"cassoid","1296429091":"nadir","1321626661":"cassoid","1325579289":"fotc","1377069894":"tex-mechanica","1386601612":"suros","1389546626":"omolon","1393021134":"cassoid","1393021135":"cassoid","1401300690":"cassoid","1443049976":"cassoid","1453235079":"omolon","1457979868":"field-forged","1489452902":"fotc","1492522228":"veist","1529450902":"cassoid","1531295694":"cassoid","1547760589":"hakke","1574601402":"veist","1612781792":"nadir","1619016919":"suros","1644162710":"fotc","1650442173":"cassoid","1650626966":"cassoid","1669771782":"cassoid","1674742470":"fotc","1678957657":"cassoid","1719687748":"cassoid","1723380073":"fotc","1757129747":"hakke","1760543913":"cassoid","1773600468":"fotc","1775804198":"suros","1788603939":"hakke","1820994983":"cassoid","1821724780":"suros","1845978721":"suros","1854753404":"omolon","1890332078":"cassoid","1891996599":"omolon","1948035256":"cassoid","1960218487":"fotc","1974641289":"nadir","1975125963":"cassoid","1988218406":"cassoid","1999754402":"nadir","2009106091":"veist","2014642399":"fotc","2022294213":"nadir","2039776723":"nadir","2059255495":"cassoid","2063217087":"cassoid","2065081837":"omolon","2168486467":"fotc","2171006181":"fotc","2185327324":"suros","2213848860":"cassoid","2213848863":"cassoid","2257180473":"cassoid","2278995296":"fotc","2287240026":"veist","2290863050":"fotc","2298039571":"hakke","2326578623":"veist","2351747819":"cassoid","2422664927":"hakke","2450917538":"omolon","2470795406":"suros","2478247171":"cassoid","2488587246":"suros","2502422774":"cassoid","2510526114":"nadir","2581162758":"fotc","2591257541":"veist","2605790033":"cassoid","2605790034":"omolon","2611861926":"fotc","2621637518":"fotc","2644343417":"suros","2653171212":"suros","2657352423":"suros","2658740569":"hakke","2660862359":"fotc","2693941407":"cassoid","2694044461":"omolon","2728851518":"omolon","2742838700":"fotc","2759590322":"suros","2763843899":"fotc","2767393525":"cassoid","2800870005":"nadir","2812672356":"fotc","2817798849":"suros","2824241403":"hakke","2826850739":"nadir","2848549302":"cassoid","2860172150":"cassoid","2883684343":"omolon","2888266564":"omolon","2891672170":"cassoid","2932922810":"cassoid","2957542878":"fotc","2961807684":"fotc","3005879472":"fotc","3007479950":"omolon","3009199534":"cassoid","3040742682":"fotc","3098328572":"veist","3099084679":"fotc","3110698812":"tex-mechanica","3163061743":"veist","3165143747":"veist","3183283212":"omolon","3185293912":"cassoid","3190698551":"fotc","3246523831":"cassoid","3337727085":"cassoid","3356526253":"fotc","3361694400":"cassoid","3361694403":"omolon","3371413057":"veist","3383958219":"fotc","3409645497":"cassoid","3435238842":"cassoid","3435238843":"cassoid","3441197112":"cassoid","3441197113":"cassoid","3445437901":"fotc","3461377698":"hakke","3465233192":"cassoid","3483485727":"veist","3493948734":"fotc","3505958430":"suros","3529780349":"fotc","3543313962":"hakke","3559361670":"hakke","3573686365":"omolon","3582424018":"fotc","3583275737":"cassoid","3610521673":"omolon","3637669759":"nadir","3662200188":"cassoid","3662200189":"cassoid","3751622019":"suros","3757612024":"fotc","3826803617":"fotc","3832743906":"omolon","3889907763":"cassoid","3890960908":"fotc","3896249436":"fotc","3906357377":"cassoid","3915197957":"omolon","3929685100":"fotc","3997086838":"hakke","3998080529":"nadir","4024037919":"fotc","4041111172":"fotc","4074251943":"omolon","4083045006":"fotc","4105447486":"cassoid","4106757302":"hakke","4138415949":"cassoid","4138415950":"cassoid","4148143418":"hakke","4152016199":"nadir","4157959956":"omolon","4157959958":"omolon","4157959959":"omolon","4169225313":"nadir","4174481098":"suros","4176633581":"suros","4186079026":"omolon","4193877020":"fotc","4200654067":"veist","4209476803":"suros","4220529694":"suros","4230993599":"suros","4238497225":"fotc","4272442416":"fotc","4281371574":"omolon"}'),f=JSON.parse('{"199733460":55,"239189018":55,"2213504923":55,"2352138838":55,"2545426109":55,"3224066584":55}');var g=o(87912),y=o(39973),v=o(54270),b=o(44155),A=o(65),k=o(90461);o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);const w=new Set(JSON.parse("[17096506,19024058,46524085,204878059,219145368,347366834,370712896,374573733,400096939,417164956,427899681,603721696,776191470,814876685,940371471,1034055198,1111334348,1234150730,1331482397,1345867570,1345867571,1363238943,1363886209,1441805468,1473821207,1508896098,1541131350,1594120904,1665952087,1681583613,1763584999,1802135586,1833195496,1853180924,1864563948,1891561814,1912669214,2084878005,2130065553,2179048386,2208405142,2232171099,2286143274,2350354266,2357297366,2362471601,2591746970,2603483885,2694576561,2812324401,2816212794,2856683562,2907129556,2907129557,2910326942,3089417789,3118061005,3121540812,3141979346,3141979347,3211806999,3260753130,3325463374,3413074534,3413860063,3437746471,3460576091,3512014804,3524313097,3549153978,3549153979,3561203890,3580904580,3580904581,3588934839,3628991658,3628991659,3654674561,3659414143,3664831848,3698448090,3761898871,3766045777,3821409356,3844694310,3856705927,3886719505,3899270607,3973202132,4017959782,4036115577,4068264807,4124984448,4174431791,4190156464,4255268456,4289226715,4293613902]"));var I=o(76678),S=o(39014),x=o(47775),T=o(47486),N=o(26397);const C=(0,v.A)((e=>{const t={};if(e)for(const o of Object.values(e.Record.getAll()))8===o.completionInfo?.toastStyle&&(t[o.displayProperties.name]=o.hash);return t}));var H=o(45680),P=o(17222);const D="d2-stores",M=(0,v.A)((e=>(0,g.p)(Object.values(e),(e=>e.itemHash))));function E(e,t,o){const s=[];for(const n of o){let o;try{o=O(e,n,t)}catch(e){(0,d.PT)(D,"Error processing item",n,e),(0,b.U)("Processing Dim item",e)}if(void 0!==o&&o.location.hash!==r.pQ&&o.location.hash!==r.IU)o.owner=t.id,s.push(o);else{const o=e.defs,s=o.InventoryBucket.get(n.bucketHash);if(s&&0!==s.category&&s.displayProperties.name){const e=o.InventoryItem.get(n.itemHash);(0,b.U)("setting store hadErrors",Error("setting store hadErrors"),{itemHash:n.itemHash,hasDefinition:!!e,hasName:!!e?.displayProperties.name,hasQuestLineName:!!e?.setData?.questLineName,itemBucketHash:n.bucketHash,defBucketHash:e?.inventory?.bucketTypeHash,bucketName:s.displayProperties.name}),t.hadErrors=!0}}}return s}const R=(0,v.A)((e=>(0,y.B)((t=>{const o=Object.values(e.Class.getAll()).find((e=>e.classType===t));return o?o.displayProperties.name:(0,n.t)("Loadouts.Any")})))),L=(0,v.A)((e=>(0,g.p)(Object.values(e.DamageType.getAll()),(e=>e.enumValue))));function V(e,t,{itemInstanceId:o="0",quantity:s=1,allowWishList:n=!1,itemValueVisibility:a}=(0,l.vB)()){const r=O(e,{itemHash:t,itemInstanceId:o,quantity:s??1,bindStatus:0,location:3,bucketHash:0,transferStatus:2,itemValueVisibility:a,lockable:!1,state:0,isWrapper:!1,tooltipNotificationIndexes:[],metricObjective:{},versionNumber:e.defs.InventoryItem.get(t)?.quality?.currentVersion},void 0);return r&&!n&&(r.wishListEnabled=!1),r}function q(e,t,o){if(!t.item.data)return;const s=t.characterId?o.find((e=>e.id===t.characterId)):(0,A.Px)(o),n=t.item.data.itemInstanceId,a={privacy:1,data:{}},r=n?e=>e?{privacy:e.privacy,data:e.data?{[n]:e.data}:{}}:a:()=>a;return O({...e,itemComponents:{instances:r(t.instance),perks:r(t.perks),renderData:r(t.renderData),stats:r(t.stats),sockets:r(t.sockets),reusablePlugs:r(t.reusablePlugs),plugObjectives:r(t.plugObjectives),talentGrids:r(t.talentGrid),plugStates:a,objectives:r(t.objectives)}},t.item.data,s)}function O({defs:e,buckets:t,itemComponents:o,customStats:n,profileResponse:f},g,y){y&&(o??=f.itemComponents);const v=e.InventoryItem.get(g.itemHash),A=f.profileRecords?.data,E=f.characterRecords?.data,V=y&&!y?.isVault?f.characterProgressions?.data?.[y.id]:void 0,q=g.itemInstanceId?o?.instances?.data?.[g.itemInstanceId]??(0,l.vB)():(0,l.vB)();if(!v)return;v.redacted&&(0,d.XX)("d2-stores","Missing Item Definition:\n\n",{item:g,itemDef:v,itemInstanceData:q},"\n\nThis item is not in the current manifest and will be added at a later time by Bungie."),v.displayProperties.name||v.setData?.questLineName||(v.displayProperties.name=3377778206===g.itemHash?"Gift of the Lighthouse":"???");let O=v.displayProperties;if(v.redacted){const t=M(e.Collectible.getAll())[g.itemHash];t&&(O=t.displayProperties)}const B=v.inventory.bucketTypeHash===r.pQ&&v.itemCategoryHashes?.includes(41),j=v.inventory.bucketTypeHash===r.pQ&&v.itemCategoryHashes?.includes(59);let z=t.byHash[B?1469714392:j?3313201758:v.inventory.bucketTypeHash],F=t.byHash[g.bucketHash]||z;z||(F=z=t.unknown,t.setHasUnknown()),F.inPostmaster||!y?.isVault&&2!==g.location||(F=z);const W=375726501===z.hash||v.itemCategoryHashes?.includes(34)||!1;let U=null;q.primaryStat&&3284755031!==z.hash&&!v.stats?.disablePrimaryStatDisplay&&(U=q.primaryStat),(W||!U&&v.redacted&&q.itemLevel&&void 0!==q.quality&&(s.j.Weapons.includes(g.bucketHash)||s.j.Armor.includes(g.bucketHash)))&&(U={statHash:1935470627,value:10*(q.itemLevel??0)+(q.quality??0)});const G=void 0!==q.damageTypeHash&&e.DamageType.get(q.damageTypeHash)||void 0!==v.defaultDamageTypeHash&&e.DamageType.get(v.defaultDamageTypeHash)||3284755031===z.hash&&void 0!==v.talentGrid?.hudDamageType&&L(e)[v.talentGrid.hudDamageType]||null,Q=v.iconWatermark,Z=g.tooltipNotificationIndexes?.length?g.tooltipNotificationIndexes.map((e=>v.tooltipNotifications?.[e])):(0,l.tR)(),K=void 0!==g.versionNumber&&v.quality?.displayVersionWatermarkIcons?.[g.versionNumber]||v.iconWatermark||v.iconWatermarkShelved||void 0,J=(0,a.N)(e)(v),X=J?.sourceHash;let Y=g.overrideStyleItemHash?e.InventoryItem.get(g.overrideStyleItemHash):null;Y?.plug?.isDummyPlug&&(Y=null);let $=O.name,ee=v.itemTypeDisplayName||"Unknown";if(v.setData?.questLineName&&v.setData?.questLineName!==v.displayProperties.name)ee=v.displayProperties.name,$=v.setData.questLineName;else if(v.objectives?.questlineItemHash){const t=e.InventoryItem.get(v.objectives.questlineItemHash);t&&t.displayProperties.name!==v.displayProperties.name&&(ee=v.displayProperties.name,$=t.displayProperties.name)}const te=v.redacted?z.inArmor?q?.isEquipped&&y?y.classType:-1:3:v.classType,oe={owner:y?.id||"unknown",destinyVersion:2,location:F,bucket:z,hash:g.itemHash,itemCategoryHashes:_(v),tier:r.Dj[v.inventory.tierType]||"Common",isExotic:6===v.inventory.tierType,name:$,description:O.description,icon:Y?.displayProperties.icon||O.icon||r._O,hiddenOverlay:Q,iconOverlay:K,secondaryIcon:Y?.secondaryIcon||v.secondaryIcon||v.screenshot,notransfer:!(!v.nonTransferrable&&2!==g.transferStatus),canPullFromPostmaster:!v.doesPostmasterPullHaveSideEffects,id:g.itemInstanceId||"0",instanced:!(!g.itemInstanceId||"0"===g.itemInstanceId),equipped:!!q.isEquipped,equipment:(v.equippingBlock||v.redacted&&v.equippable)&&!r.bJ.includes(z.hash),equippingLabel:v.equippingBlock?.uniqueLabel,complete:!1,amount:g.quantity||1,primaryStat:U,typeName:ee,equipRequiredLevel:q.equipRequiredLevel??0,maxStackSize:Math.max(v.inventory.maxStackSize,1),uniqueStack:!!v.inventory.stackUniqueLabel?.length,classType:te,classTypeNameLocalized:R(e)(v.classType),element:G,energy:q.energy??null,lockable:3683254069===z.hash||g.lockable,trackable:!(!g.itemInstanceId||!v.objectives?.questlineItemHash),tracked:!!(2&g.state),locked:!!(1&g.state),masterwork:!!(4&g.state)&&3284755031!==z.hash,crafted:!!(8&g.state)&&"crafted",highlightedObjective:!!(16&g.state),classified:!!v.redacted,isEngram:W,loreHash:v.loreHash,previewVendor:v.preview?.previewVendorHash,ammoType:v.equippingBlock?v.equippingBlock.ammoType:0,source:X,collectibleHash:J?.hash,missingSockets:!1,displaySource:v.displaySource,plug:v.plug&&{energyCost:v.plug.energyCost?.energyCost||0},metricHash:g.metricHash,metricObjective:g.metricObjective,availableMetricCategoryNodeHashes:v.metrics?.availableMetricCategoryNodeHashes,breakerType:null,percentComplete:0,hidePercentage:!1,stats:null,objectives:void 0,pursuit:null,taggable:!1,comparable:!1,wishListEnabled:!1,power:0,index:"",infusable:!1,infusionFuel:!1,sockets:null,masterworkInfo:null,infusionCategoryHashes:null,tooltipNotifications:Z};oe.taggable=!!(oe.lockable||oe.classified||20===v.itemSubType||oe.itemCategoryHashes.includes(59)&&!v.traitHashes?.includes(4036726046)),oe.comparable=!(!oe.equipment||!oe.lockable||4274335291===oe.bucket.hash),oe.primaryStat&&(oe.primaryStatDisplayProperties=e.Stat.get(oe.primaryStat.statHash).displayProperties);try{const t=(0,H.lT)(g,o,e,v);oe.sockets=t.sockets,oe.missingSockets=t.missingSockets}catch(e){(0,d.PT)(D,"Error building sockets for "+oe.name,g,v,e),(0,b.U)("Sockets",e,{itemHash:g.itemHash})}oe.wishListEnabled=!(!oe.sockets||!(oe.bucket.inWeapons||1585787867===oe.bucket.hash&&oe.isExotic)),oe.craftedInfo=(0,I.U2)(oe,e),oe.patternUnlockRecord=function(e,t,o,s,n){const a=t.inventory?.recipeItemHash;if(!a&&t.inventory?.bucketTypeHash!==r.pQ)return;const i=C(o)[e.name];return i?s?.records[i]??(n&&Object.values(n)[0].records[i]):void 0}(oe,v,e,A,E),oe.crafted&&!oe.patternUnlockRecord&&(oe.crafted="enhanced"),oe.deepsightInfo=(0,S.oM)(oe),oe.isExotic&&oe.bucket.inWeapons&&(oe.catalystInfo=function(e,t,o){if(!w.has(e))return;const s=k[e],n=s&&(t?.records[s]??(o&&Object.values(o).find((e=>e.records[s]))?.records[s]));return n?{complete:!(4&n.state&&!(1&n.state)),unlocked:!(8&n.state),objectives:n.objectives}:void 0}(oe.hash,A,f.characterRecords?.data));try{oe.stats=(0,P.cm)(e,oe,n,v)}catch(e){(0,d.PT)(D,"Error building stats for "+oe.name,g,v,e),(0,b.U)("Stats",e,{itemHash:g.itemHash})}try{const t=g.itemInstanceId?o?.objectives?.data?.[g.itemInstanceId]?.objectives:void 0,s=V?.uninstancedItemObjectives,n=s?.[g.itemHash];oe.objectives=(0,N.xf)(v,e,t,n)}catch(e){(0,d.PT)(D,"Error building objectives for "+oe.name,g,v,e)}if(v.perks?.length){const t=V?.uninstancedItemPerks,o=t?.[g.itemHash]?.perks,s=v.perks.filter(((t,s)=>0===t.perkVisibility&&!1!==o?.[s]?.visible&&e.SandboxPerk.get(t.perkHash)?.isDisplayable));s.length&&(oe.perks=s)}if(oe.objectives){const e=oe.objectives.length;e>0?(oe.complete=oe.objectives.every((e=>e.complete)),oe.percentComplete=(0,c.xu)(oe.objectives,(t=>{if(t.completionValue){const o=(0,N.eo)(oe.hash);return o&&!(0,N.nz)(t.objectiveHash)?0:Math.min(1,(t.progress||0)/t.completionValue)/(o?1:e)}return 0}))):oe.hidePercentage=!0}if(v.breakerTypeHash)oe.breakerType=e.BreakerType.get(v.breakerTypeHash);else if(oe.bucket.inWeapons&&oe.sockets){const t=oe.sockets.allSockets.find((e=>e.plugged?.plugDef.breakerTypeHash))?.plugged?.plugDef.breakerTypeHash;t&&(oe.breakerType=e.BreakerType.get(t))}if(oe.hash in h&&(oe.breakerType=e.BreakerType.get(h[oe.hash])),oe.foundry=p[oe.hash]??v.traitIds?.find((e=>e.startsWith("foundry.")))?.replace("_","-")?.replace("foundry.",""),oe.itemCategoryHashes.includes(1504945536)){const e=oe.itemCategoryHashes.indexOf(9);-1!==e&&oe.itemCategoryHashes.splice(e,1)}oe.infusionFuel=!!v.quality?.infusionCategoryHashes?.length,oe.infusable=oe.infusionFuel&&function(e){return"Legendary"===e.tier||"Exotic"===e.tier}(oe),oe.infusionCategoryHashes=v.quality?.infusionCategoryHashes||null;try{oe.masterworkInfo=(0,T.K)(oe,e)}catch(e){(0,d.PT)("d2-stores","Error building masterwork info for "+oe.name,g,v,e),(0,b.U)("MasterworkInfo",e,{itemHash:g.itemHash})}oe.crafted&&oe.sockets&&(oe.sockets.allSockets.some((e=>e.plugged&&m.A.has(e.plugged.plugDef.hash)))||10===oe.masterworkInfo?.tier)&&(0,u.xF)(oe.sockets)>=2&&(oe.masterwork=!0);try{!function(e,t,o){const s=o.value?o.value.itemValue.filter(((e,o)=>e.itemHash&&(t.itemValueVisibility?.[o]??!0))):[],n=function(e){if(1345459588===e.inventory?.bucketTypeHash&&e.setData?.itemList){const t=e.setData.itemList.findIndex((t=>t.itemHash===e.hash));if(-1!==t)return{description:e.setData.questLineDescription,questStepNum:t+1,questStepsTotal:e.setData.itemList.length}}}(o),a=function(e,t){if(e.expirationDate)return{expirationDate:new Date(e.expirationDate),suppressExpirationWhenObjectivesComplete:!!t.inventory.suppressExpirationWhenObjectivesComplete,expiredInActivityMessage:t.inventory.expiredInActivityMessage}}(t,o);(s.length||t.expirationDate||n)&&(e.pursuit={expiration:a,questLine:n,rewards:s,modifierHashes:[]})}(oe,g,v)}catch(e){(0,d.PT)(D,"Error building Quest info for "+oe.name,g,v,e),e instanceof Error&&(0,b.U)("Quest",e,{itemHash:g.itemHash})}return oe.primaryStat&&i.wq.includes(oe.primaryStat.statHash)&&(oe.power=oe.primaryStat.value),oe.index=(0,x.i)(oe),oe}function _(e){let t=e.itemCategoryHashes||(0,l.tR)();if(t.includes(1)&&!t.includes(3109687656)&&t.includes(153950757)&&!t.includes(4)&&(t=[...t.filter((e=>153950757!==e)),-153950757]),e.hash in f){const o=f[e.hash];t=[...t,o],55===o&&(t=[...t,45])}return t}},2868:(e,t,o)=>{o.d(t,{$3:()=>p,RX:()=>f,tw:()=>m});var s=o(63163),n=o(2290),a=o(59816),r=o(50507),i=o(95840),c=o(18676),l=o(22487),d=o(20505),u=o(52040);function m(e){const{profileResponse:t}=e;return(0,s.Lk)({name:"processItems"},(()=>{if(!t.profileInventory.data||!t.characterInventories.data||!t.characters.data){const e=void 0;throw(0,i.PT)("d2-stores","Vault or character inventory was missing - bailing in order to avoid corruption"),new r.X("BungieService.MissingInventory",e)}const o=function(e){const t=e.profile.data?.dateLastPlayed;return new Date(t||0)}(t),s=function(e){const{buckets:t,profileResponse:o}=e,s=o.profileInventory.data?o.profileInventory.data.items:[],a=function(){const e=(0,n.t)("Bucket.Vault");return{destinyVersion:2,id:"vault",name:e,classType:3,current:!1,className:e,genderName:"",lastPlayed:new Date(-1),icon:l,background:c,items:[],isVault:!0,color:{red:49,green:50,blue:51,alpha:1},level:0,percentToNextLevel:0,powerLevel:0,gender:"",race:"",genderRace:"",stats:[],hadErrors:!1}}(),r=[];for(const e of s){const o=t.byHash[e.bucketHash];o&&!o.vaultBucket&&1367666825!==o.hash&&r.push(e)}return a.items=(0,u.AS)(e,a,r),a}(e),a=Object.keys(t.characters.data).map((t=>function(e,t,o){const{defs:s,buckets:a,profileResponse:r}=e,i=r.characters.data[t],c=r.characterInventories.data?.[t]?.items||[],l=r.profileInventory.data?.items||[],m=r.characterEquipment.data?.[t]?.items||[],g=r.profileRecords?.data,y=function(e,t,o,s){const a=e.Race.get(t.raceHash),r=a.displayProperties.name,i=e.Gender.get(t.genderHash),c=e.Class.get(t.classHash),l=a.genderedRaceNamesByGenderHash[i.hash],u=c.genderedClassNamesByGenderHash[i.hash],m=i.displayProperties.name,g=new Date(t.dateLastPlayed);return{destinyVersion:2,id:t.characterId,icon:(0,d.Tu)(t.emblemPath),name:(0,n.t)("ItemService.StoreName",{genderRace:r,className:u}),current:o.getTime()===g.getTime(),lastPlayed:g,background:(0,d.Tu)(t.emblemBackgroundPath),level:t.levelProgression.level,percentToNextLevel:t.levelProgression.progressToNextLevel/t.levelProgression.nextLevelAt,powerLevel:t.light,stats:p(e,t.stats),classType:c.classType,className:u,gender:m,race:r,genderRace:l,genderName:h[i.genderType]??"",genderHash:t.genderHash,isVault:!1,color:t.emblemColor,titleInfo:t.titleRecordHash?f(t.titleRecordHash,e,s,t.genderHash):void 0,items:[],hadErrors:!1}}(s,i,o,g),v=c.concat(m);if(y.current)for(const e of l){const t=a.byHash[e.bucketHash];t&&(t.vaultBucket||1367666825===t.hash)&&v.push(e)}return y.items=(0,u.AS)(e,y,v),y}(e,t,o)));return[...a,s]}))}const h={0:"male",1:"female",2:""};function p(e,t){const o=a.BZ,s={};for(const n of o){const o=e.Stat.get(n);s[n]={hash:n,name:o.displayProperties.name,description:o.displayProperties.description,value:t[n]||0,icon:o.displayProperties.icon}}return s}function f(e,t,o,s){const n=t?.Record.get(e)?.titleInfo;if(!n)return;const a=n.titlesByGenderHash?.[s];if(!a)return;let r=0,i=!1;const c=!!(1&(o?.records[e]?.state??0));if(n.gildingTrackingRecordHash){const e=o?.records[n.gildingTrackingRecordHash];e?.completedCount&&(r=e.completedCount),i=!(!e||4&e.state)}return{title:a,isCompleted:c,gildedNum:r,isGildedForCurrentSeason:i}}},39014:(e,t,o)=>{o.d(t,{LN:()=>r,l0:()=>i,oM:()=>a});var s=o(59816),n=o(72549);function a(e){const t=function(e){if(e.sockets&&(e.bucket.inWeapons||e.bucket.hash===s.pQ))return e.sockets.allSockets.find(r)}(e);return!!t?.visibleInGame}function r(e){return!!(0,n.Lz)(e,2748073883)}function i(e){const t=e.sockets?.allSockets.some((e=>3520412733===e.plugged?.plugDef.plug.plugCategoryHash&&e.visibleInGame));return t}},4201:(e,t,o)=>{o.d(t,{$P:()=>r,cy:()=>i,yv:()=>a});var s=o(57551),n=o(72549);function a(e){const t=e.sockets&&((0,n.tp)(e.sockets,760375309)||(0,n.tp)(e.sockets,446880883));if(!t?.plugSet||!e.energy)return[];const o=e.energy.energyType,a=[];for(const e of t.plugSet.plugs){const t=e.plugDef.plug.energyCapacity;t&&(400813043!==e.plugDef.plug.plugCategoryHash&&4096629092!==e.plugDef.plug.plugCategoryHash||t.energyType!==o||2!==e.plugDef.plug.plugAvailability||a.push(e.plugDef))}return a.sort((0,s.VE)((e=>e.plug?.energyCapacity?.capacityValue??0)))}function r(e,t){const o=e.energy?.energyCapacity??1;return a(e).filter((e=>e.plug.energyCapacity.capacityValue<=t&&e.plug.energyCapacity.capacityValue>o)).map((e=>e.hash))}function i(e,t){const o={};for(const s of t){if(!s.plug)continue;const t=e.MaterialRequirementSet.get(s.plug.insertionMaterialRequirementHash);for(const e of t.materials)o[e.itemHash]||=0,o[e.itemHash]+=e.count}return Object.entries(o).map((([e,t])=>({itemHash:parseInt(e,10),quantity:t,hasConditionalVisibility:!1})))}},40184:(e,t,o)=>{o.d(t,{c:()=>M});var s=o(61938),n=o(92369),a=o(88122),r=o(18374),i=o(8935),c=o(27350),l=o(70262),d=o(30671),u=o(69063),m=o(95840),h=o(3710),p=o(82821),f=o(58337),g=o(14231),y=o(57840),v=o(44155),b=o(50784),A=o(12462),k=o(62447),w=o(74427),I=o(2290),S=o(18676),x=o(22487),T=o(16342);const N={529303302:{label:"Cryptarch",order:0},3233510749:{label:"Vanguard",order:1},1357277120:{label:"Crucible",order:2},2778795080:{label:"Dead Orbit",order:3},1424722124:{label:"Future War Cult",order:4},3871980777:{label:"New Monarchy",order:5},2161005788:{label:"Iron Banner",order:6},174528503:{label:"Crota's Bane",order:7},807090922:{label:"Queen's Wrath",order:8},3641985238:{label:"House of Judgment",order:9},2335631936:{label:"Gunsmith",order:10},2576753410:{label:"SRL",order:11}};var C=o(47775);function H(){return async(e,t)=>{const o=(async()=>{let o=(0,d.sZ)(t());if(o||(await e(l.rR),o=(0,d.sZ)(t()),o&&1===o.destinyVersion))try{(0,C.w)();const[s,,{characters:n,profileInventory:a,vaultInventory:r}]=await Promise.all([e((0,f.v)()),e((0,b.v8)(o)),(0,h.Dv)(o)]),i=n.reduce(((e,t)=>{const o=new Date(t.character.characterBase.dateLastPlayed);return e?o>=e?o:e:o}),new Date(0)),c=(0,k.uw)(t()),l=[...n.map((e=>function(e,t,o,s){const n=function(e,t,o){const s=e.character,n=t.Race.get(s.characterBase.raceHash),a=t.Class.get(s.characterBase.classHash);let r="",i="",c="",l="",d="";0===s.characterBase.genderType?(l="male",d="male",r=n.raceNameMale,c=n.raceNameMale,i=a.classNameMale):(l="female",d="female",r=n.raceNameFemale,c=n.raceNameFemale,i=a.classNameFemale);const u=new Date(s.characterBase.dateLastPlayed),m=e.progression?.progressions??[];for(const e of m){Object.assign(e,t.Progression.get(e.progressionHash),N[e.progressionHash]);const o=Object.values(t.Faction.getAll()).find((t=>t.progressionHash===e.progressionHash));o&&(e.faction=o)}return{destinyVersion:1,id:e.id,name:(0,I.t)("ItemService.StoreName",{genderRace:r,className:i}),icon:"https://www.bungie.net/"+s.emblemPath,current:o.getTime()===u.getTime(),lastPlayed:u,background:"https://www.bungie.net/"+s.backgroundPath,level:s.characterLevel,powerLevel:s.characterBase.powerLevel,stats:(0,T.$3)(t,s.characterBase),classType:s.characterBase.classType,className:i,gender:l,race:c,genderRace:r,genderName:d,percentToNextLevel:s.percentToNextLevel/100,progressions:m,advisors:e.advisors,isVault:!1,items:[],hadErrors:!1}}(e,t,s);let a=[];for(const t of Object.values(e.inventory.buckets))for(const e of t){for(const t of e.items)t.bucket=e.bucketHash;a=a.concat(e.items)}return n.items=(0,w.AS)(n,a,t,o),n.hadErrors=a.length!==n.items.length,n}(e,s,c,i))),P(r,s,c)],u=function(e,t){try{return e.currencies.map((e=>{const o=t.InventoryItem.get(e.itemHash);return{itemHash:e.itemHash,quantity:e.value,displayProperties:{name:o.itemName,description:o.itemDescription,icon:o.icon,hasIcon:!!o.icon}}}))}catch(e){(0,m.zh)("d1-stores","error processing currencies",e)}return[]}(a,s);if(o!==(0,d.sZ)(t()))return;return e((0,A.VH)(l)),e((0,b.yo)({stores:l,currencies:u})),l}catch(s){if((0,m.PT)("d1-stores","Error loading stores",s),(0,v.U)("D1StoresService",s),o!==(0,d.sZ)(t()))return;return e((0,c.wE)(s)),void((0,k.Br)(t())?(0,g.Ds)((0,p.$)((0,u.g)(s))):e((0,b.z3)((0,u.n)(s))))}})();return y.f.addPromise(o),o}}function P(e,t,o){const s={destinyVersion:1,id:"vault",name:(0,I.t)("Bucket.Vault"),classType:3,current:!1,genderName:"",className:(0,I.t)("Bucket.Vault"),lastPlayed:new Date("2005-01-01T12:00:01Z"),icon:x,background:S,items:[],isVault:!0,progressions:[],advisors:{activities:{},activityCategories:{},bounties:{},quests:{},progressions:{},recordBooks:{}},level:0,percentToNextLevel:0,powerLevel:0,gender:"",race:"",genderRace:"",stats:[],hadErrors:!1};let n=[];for(const t of Object.values(e.buckets)){for(const e of t.items)e.bucket=t.bucketHash;n=n.concat(t.items)}return s.items=(0,w.AS)(s,n,t,o),s.hadErrors=n.length!==s.items.length,s}var D=o(61542);function M(e){const t=(0,n._)(),o=(0,i.d4)(k.Br);return(0,r.useEffect)((()=>{e&&!o&&t(2===e?.destinyVersion?(0,D.X)():H())}),[e,t,o]),(0,a.ef)(s.k,(0,r.useCallback)((()=>{if(e)return t(2===e?.destinyVersion?(0,D.X)():H())}),[e,t])),o}},47775:(e,t,o)=>{o.d(t,{i:()=>a,w:()=>n});let s={};function n(){s={}}function a(e){return"0"===e.id?(s[e.hash]||=0,s[e.hash]++,`${e.hash}-t${s[e.hash]}`):e.id}},47486:(e,t,o)=>{o.d(t,{K:()=>c,m:()=>l});var s=o(36871),n=o(72549),a=o(81584),r=o(6203);const i=10;function c(e,t){return e.sockets?function(e,t,o){const c=e.crafted&&(0,n.tp)(t,3956125808)?.plugged||t.allSockets.find(n.hN)?.plugged;if(!c)return null;const l=c.stats,d=e.isExotic&&"Weapons"===e.bucket?.sort;if(!l||(0,s.Im)(l))return d?{tier:i,stats:void 0}:null;const u=[],m=a.A.has(c.plugDef.hash)||r.includes(c.plugDef.hash)?c.plugDef.investmentStats[0]?.statTypeHash:void 0;for(const[t,s]of Object.entries(l)){const n=parseInt(t,10);e.stats?.some((e=>e.statHash===n))&&u.push({hash:n,name:o.Stat.get(n).displayProperties.name,value:s.value,isPrimary:void 0===m||m===n})}return{tier:d?i:Math.abs(c.plugDef.investmentStats[0].value),stats:u}}(e,e.sockets,t):null}function l(e,t,o){return(2961396640!==o||!t.itemCategoryHashes?.includes(3317538576))&&!(4043523819===o&&!t.itemCategoryHashes?.includes(54))&&e.StatGroup.get(t.stats.statGroupHash).scaledStats.some((e=>e.statHash===o))}},26397:(e,t,o)=>{o.d(t,{xf:()=>n,JW:()=>a,M8:()=>r,Th:()=>d,u$:()=>c,fQ:()=>m,eo:()=>i,nz:()=>u});const s=JSON.parse('{"s":[7665310,1181381245,1600065451,2001563200,2879309661],"l":{"984122744":"Rounds Won","1586211619":"Wins","2211480687":"Flawless"}}');function n(e,t,o,s){const n=o??s??[];return n?.length?n.filter((e=>e.visible&&t.Objective.get(e.objectiveHash))):e.objectives?e.objectives.objectiveHashes.map((e=>({objectiveHash:e,complete:!1,visible:!0,completionValue:t.Objective.get(e).completionValue}))):void 0}function a(e,t,o=0){return e?(t<o?"inProgressValueStyle"in e&&e.inProgressValueStyle:"completedValueStyle"in e&&e.completedValueStyle)??e.valueStyle:0}function r(e,t,o){const s="allowOvercompletion"in e,n=s&&4===e.uiStyle,r=!s||!e.allowOvercompletion||!e.showValueOnComplete;return 2===a(e,t??0,o)||1===o&&r&&!n}function i(e){return s.s.includes(e)}function c(e){return e?.some((e=>d(e.objectiveHash)&&e.complete))}const l=s.l;function d(e){return"Flawless"===l[e]}function u(e){return"Wins"===l[e]}function m(e){return"Rounds Won"===l[e]}},94186:(e,t,o)=>{o.d(t,{FN:()=>u,RL:()=>h,iz:()=>m});var s=o(5555),n=o(59816),a=o(36871),r=o(95840),i=o(28233),c=o(18374),l=o(45680),d=o(17222);function u({defs:e,customStats:t},o,i){if(!i||(0,a.Im)(i)||!o.sockets)return o;let c=o.icon;const u=o.sockets.allSockets.map((t=>{const a=i[t.socketIndex];let d=t.plugOptions.map((e=>({...e,stats:null})));if(a&&a!==s.Ou&&t.plugged?.plugDef.hash!==a){let s,i;if(t.isPerk)s=d.find((e=>e.plugDef.hash===a)),i=d.find((e=>e.plugDef.hash===t.plugged?.plugDef.hash));else{const o=(0,l.gJ)(e,a);o&&(s=o,i=d.find((e=>e.plugDef.hash===t.plugged?.plugDef.hash)),d=[s])}if(s)return s.plugDef.plug.plugCategoryIdentifier.includes("skins")&&(c=n.W.includes(s.plugDef.hash)?e.InventoryItem.get(o.hash).displayProperties.icon:s.plugDef.displayProperties.icon),{...t,actuallyPlugged:i,plugged:s,plugOptions:d};(0,r.PT)("applySocketOverrides","Tried to override to a socket that didn't exist in the options",a,t.plugOptions)}const u=d.find((e=>e.plugDef.hash===t.plugged?.plugDef.hash))??null;return{...t,plugged:u,plugOptions:d}})),m={...o,icon:c,sockets:{...o.sockets,allSockets:u}};return m.stats=(0,d.cm)(e,m,t),m}function m(){const[e,t]=(0,c.useState)({});return[e,(0,c.useCallback)((({socket:e,plugHash:o})=>{t((0,i.jM)((t=>{t[e.socketIndex]&&o===e.actuallyPlugged?.plugDef.hash?delete t[e.socketIndex]:t[e.socketIndex]=o})))}),[]),(0,c.useCallback)((()=>t({})),[])]}function h(e={}){const[t,o]=(0,c.useState)(e);return[t,(0,c.useCallback)((({item:e,socket:t,plugHash:s})=>{o((0,i.jM)((o=>{o[e.id]||(o[e.id]={}),o[e.id][t.socketIndex]&&s===t.actuallyPlugged?.plugDef.hash?delete o[e.id][t.socketIndex]:o[e.id][t.socketIndex]=s,(0,a.Im)(o[e.id])&&delete o[e.id]})))}),[])]}},19668:(e,t,o)=>{o.d(t,{Z:()=>h,o:()=>u});var s=o(82495),n=o(90825);const a=JSON.parse('{"10656656":6,"16638392":3,"18179099":6,"53761356":5,"63024229":1,"171748061":4,"213458862":6,"215596672":1,"221164697":1,"263371512":2,"263371513":2,"263371514":2,"263371515":2,"263371516":2,"263371517":2,"263371519":2,"270671209":1,"281718534":5,"281718535":5,"286098604":5,"286098607":5,"302488496":6,"316740353":1,"317465074":1,"317465075":1,"403465735":3,"437421244":1,"450844637":3,"494187468":4,"494187469":4,"500083158":5,"518566750":2,"537036424":3,"537036425":3,"537036427":3,"596833222":2,"611329864":1,"654307116":4,"671247011":1,"779962716":1,"796633253":4,"855351524":1,"855351525":1,"870019568":5,"870527944":4,"889413643":1,"937162783":4,"951413738":1,"961496619":3,"971728596":5,"971728597":5,"980898608":3,"980898609":3,"980898610":3,"980898611":3,"980898614":3,"980898615":3,"1005594230":4,"1005594231":4,"1028757552":1,"1028757553":1,"1028757554":1,"1028757555":1,"1028757556":1,"1028757557":1,"1028757558":1,"1028757559":1,"1028757567":1,"1052553862":2,"1052553863":2,"1067975722":4,"1067975723":4,"1124054883":1,"1136270294":1,"1138577658":4,"1138577659":4,"1154659864":1,"1165027035":5,"1187045864":6,"1187078090":5,"1201782502":4,"1201782503":4,"1205148160":6,"1257952519":3,"1259278657":3,"1261107326":4,"1280755883":1,"1288683596":3,"1334842411":2,"1356657785":5,"1362642485":5,"1363029408":3,"1363029409":3,"1423305584":1,"1423305585":1,"1423305586":1,"1423305587":1,"1423305588":1,"1423305589":1,"1423305590":1,"1423305591":1,"1423305598":1,"1423305599":1,"1429874803":6,"1443744070":4,"1454610995":3,"1473368760":4,"1473368761":4,"1473368764":4,"1473368765":4,"1473368766":4,"1473368767":4,"1482931023":3,"1502135233":1,"1502135240":1,"1502135241":1,"1502135242":1,"1502135243":1,"1502135244":1,"1502135246":1,"1502135247":1,"1510405477":3,"1547512994":4,"1575548701":4,"1584837156":1,"1605596084":2,"1623653768":2,"1623653769":2,"1623653771":2,"1690059054":4,"1695429263":1,"1721185806":4,"1721185807":4,"1727527805":4,"1748148571":1,"1750365155":3,"1767312242":1,"1771869770":4,"1771869771":4,"1773501680":1,"1775707016":3,"1792195381":1,"1817444308":1,"1821343040":5,"1833569876":4,"1833569877":4,"1833569879":4,"1836636207":4,"1844904392":4,"1844904393":4,"1849697741":3,"1858216083":3,"1862324869":3,"1870273657":6,"1873273984":1,"1914989540":5,"1914989541":5,"1971240964":4,"1971240965":4,"1971919313":4,"1987263977":1,"2024188850":4,"2039712238":4,"2073576287":1,"2127474099":3,"2135702615":1,"2156817213":3,"2168550540":1,"2179603792":5,"2179603793":5,"2179603794":5,"2179603795":5,"2179603798":5,"2179603799":5,"2201628119":6,"2253976433":4,"2277536120":4,"2277536122":4,"2277536123":4,"2291082292":3,"2298896088":3,"2298896090":3,"2298896091":3,"2298896092":3,"2298896093":3,"2298896094":3,"2298896095":3,"2300270673":6,"2311506225":1,"2325283036":3,"2325283037":3,"2325283038":3,"2325283039":3,"2337290000":3,"2367025562":6,"2396888157":3,"2422643144":5,"2433900295":2,"2459768632":5,"2526736328":4,"2538439951":1,"2546370410":3,"2549404869":1,"2556098840":1,"2574262860":4,"2574262861":4,"2578820926":3,"2593080269":1,"2607476204":1,"2607476205":1,"2607476206":1,"2607476207":1,"2661272173":1,"2676329044":1,"2702372534":1,"2774782768":1,"2774782769":1,"2799886702":1,"2800372416":4,"2805101184":3,"2873996295":5,"2877046370":3,"2891490654":1,"2906201304":1,"2919938481":3,"2949664689":3,"2957044930":3,"2957044931":3,"2967148056":5,"3012249670":1,"3012249671":1,"3023230941":1,"3035129091":5,"3037536592":4,"3089075939":5,"3105953706":1,"3105953707":1,"3105972940":5,"3105972941":5,"3105972942":5,"3105972943":5,"3106070506":1,"3140833553":1,"3140833554":1,"3140833555":1,"3140833556":1,"3140833557":1,"3140833558":1,"3140833559":1,"3154516913":1,"3159052337":3,"3166802179":1,"3171327109":4,"3171649853":2,"3212701863":1,"3222576960":4,"3222576961":4,"3222576962":4,"3222576963":4,"3222576964":4,"3222576965":4,"3222576966":4,"3222576967":4,"3222576972":4,"3222576973":4,"3244569127":3,"3252358296":5,"3252358297":5,"3252358300":5,"3252358301":5,"3252358302":5,"3252358303":5,"3287805174":1,"3287805175":1,"3287805176":1,"3287805177":1,"3287805178":1,"3287805179":1,"3287805180":1,"3287805181":1,"3287805183":1,"3301429924":1,"3306267716":1,"3309556272":1,"3326837142":4,"3326837143":4,"3328375332":4,"3328375333":4,"3328839466":1,"3328839467":1,"3352962401":4,"3368317463":1,"3373357626":2,"3425898631":5,"3448772677":4,"3449275624":1,"3475074928":3,"3481131423":3,"3503026437":5,"3510138048":1,"3539322898":1,"3570942494":3,"3587167050":2,"3610131410":4,"3617209212":6,"3624435060":6,"3631905978":3,"3631905979":3,"3653362887":1,"3661044024":4,"3661044025":4,"3665594271":4,"3677746972":4,"3677746973":4,"3677746975":4,"3682383633":5,"3686736741":4,"3717471208":3,"3717471209":3,"3727205096":5,"3727346032":4,"3727346033":4,"3734501342":1,"3749428427":1,"3753232378":4,"3755201983":4,"3785074629":4,"3800267412":1,"3800267413":1,"3800267414":1,"3800267415":1,"3807544519":3,"3809278479":1,"3809722908":2,"3859483818":3,"3859483819":3,"3909352274":1,"3921485172":1,"3932439362":1,"3946927545":5,"3956230125":1,"3980259370":4,"3980259371":4,"3987442049":3,"4031340274":1,"4031340275":1,"4036178150":1,"4044559530":4,"4050120691":4,"4051153950":4,"4079552711":5,"4087530286":4,"4087530287":4,"4096637925":3,"4097227155":2,"4114677048":3,"4128095381":5,"4160988416":3,"4173467416":3,"4173467417":3,"4187872788":4,"4199694578":5,"4213271810":3,"4213271811":3,"4224972854":4,"4224972855":4,"4233800814":1,"4264904777":1,"4283023978":4,"4283023979":4,"4283023980":4,"4283023981":4,"4283023982":4,"4283023983":4}'),r=JSON.parse('{"4772275":12,"7665310":10,"9762701":9,"10656656":10,"15534633":25,"16277432":1,"16277433":1,"16638392":24,"16638393":24,"18179099":19,"18743640":25,"29194593":3,"31953744":1,"31953746":1,"31953747":1,"33795475":1,"38912240":4,"40494562":25,"40549752":5,"40549754":5,"40549755":5,"40549756":5,"40549757":5,"40549758":5,"40549759":5,"41589556":20,"48790291":1,"51925409":16,"51945187":16,"52039562":14,"54004490":22,"54004491":22,"54004492":22,"54004495":22,"55826751":9,"56435118":24,"60802325":7,"60936592":2,"61740554":22,"61740555":22,"63024229":2,"63348567":24,"68638718":25,"74038334":12,"76764720":9,"76764721":9,"76764722":9,"78502435":25,"79833168":24,"79833169":24,"79833170":24,"79833172":24,"79833173":24,"79833174":24,"79833175":24,"80303715":2,"87994267":3,"89300158":19,"91501643":12,"93029342":1,"93029343":1,"95537029":1,"101761654":19,"105300091":2,"105911828":17,"107607117":24,"116784191":7,"116918307":12,"125438212":3,"127603177":22,"128069444":25,"130076865":23,"130305507":14,"133558437":20,"133687041":25,"134085740":16,"134085741":16,"134085743":16,"136291991":12,"139281386":14,"139281387":14,"140842223":7,"143299650":7,"145178484":19,"146081606":24,"146910655":23,"147998763":11,"153144587":7,"156845152":13,"156845153":13,"159093681":23,"166080281":24,"166080282":24,"166080283":24,"167651268":2,"168042471":8,"168438525":14,"170952905":8,"171635528":21,"171635529":21,"171635530":21,"171748061":4,"177150401":25,"177463495":22,"177568179":22,"178451227":3,"179202986":3,"179654396":24,"180108390":4,"180108391":4,"181754010":3,"182537383":25,"183980811":1,"185321778":4,"185321779":4,"197822824":8,"204059183":11,"204918711":1,"213377779":16,"213458862":10,"214374661":16,"215596672":2,"215618528":21,"217626588":11,"217626590":11,"217626591":11,"223308216":1,"223597399":16,"223776600":3,"223776601":3,"226436555":7,"231432261":3,"233125175":16,"233896077":21,"234970842":3,"238335348":24,"242419885":20,"242730894":7,"242819333":25,"245084545":25,"245084546":25,"245084547":25,"245084548":25,"245084549":25,"245084550":25,"245084551":25,"249784434":12,"250513201":3,"253815640":14,"253922071":20,"254514436":8,"255230996":23,"258025496":22,"259267040":10,"259522459":22,"260425472":21,"260521462":1,"261109332":25,"261886690":11,"261886691":11,"263371512":2,"263371513":2,"263371514":2,"263371515":2,"263371516":2,"263371517":2,"263371518":2,"263371519":2,"265428940":1,"267290351":1,"267916777":6,"268035671":20,"269052681":11,"269339124":2,"273622970":25,"278759146":25,"279289257":2,"280533858":8,"281718534":6,"281718535":6,"286098604":6,"286098606":6,"286098607":6,"289811733":24,"292778444":1,"293622383":12,"294129361":16,"298089926":3,"298089927":3,"298334058":8,"298334059":8,"298334063":8,"301177215":15,"307805822":24,"309633584":22,"313685908":2,"313685909":2,"313685910":2,"313685911":2,"317350029":24,"317465074":2,"317465075":2,"320750826":11,"320750827":11,"327680457":24,"333041308":1,"335763433":3,"335988632":25,"338612265":3,"342326464":25,"342326465":25,"342326472":25,"342326473":25,"342326474":25,"342326475":25,"342326476":25,"342326477":25,"342326478":25,"342326479":25,"343482208":14,"343482209":14,"343789488":24,"343789489":24,"346065606":3,"346066663":22,"346473619":21,"346878928":1,"346878930":1,"350054538":24,"351707684":19,"353932628":9,"354227005":23,"354404332":24,"354404333":24,"354404335":24,"359104178":25,"359104179":25,"359104184":25,"359104185":25,"359104186":25,"359104187":25,"359104188":25,"359104189":25,"359104190":25,"359104191":25,"365524697":9,"366019830":20,"366474809":16,"367778392":2,"371705660":24,"374780030":3,"375770440":4,"375881770":25,"375881771":25,"375881772":25,"375881773":25,"375881774":25,"375881775":25,"377540667":5,"379479305":1,"383734233":17,"383734236":17,"383734237":17,"383734238":17,"385402729":17,"386011580":25,"386610725":16,"386698537":25,"386969562":15,"388458229":3,"391889347":7,"392504592":23,"392659334":25,"392659336":25,"392659337":25,"393225356":11,"396134792":3,"400177089":3,"403465735":7,"405115754":1,"406674479":23,"410537200":25,"411709610":13,"412299646":1,"413901114":22,"414672658":3,"414874524":24,"414874525":24,"414874526":24,"414874527":24,"418753772":15,"418753773":15,"419435523":6,"419571946":2,"425681240":25,"426147374":2,"426283548":4,"428862428":12,"430448851":14,"433582103":11,"436665408":6,"437421244":5,"444202817":14,"446299266":8,"450844637":7,"452400791":3,"454583975":1,"456874738":15,"461171930":1,"461727014":24,"462395043":20,"463166592":3,"464814870":24,"465351846":16,"465808232":22,"466236950":9,"466236951":9,"466796172":4,"466796173":4,"466796175":4,"468456840":14,"468456841":14,"469511105":22,"471426285":21,"471764029":5,"476513004":21,"478751073":1,"481345527":1,"481675395":1,"484260847":16,"485239296":14,"486920324":11,"492834021":6,"494187468":18,"494187469":18,"494493680":1,"495212613":15,"495940989":19,"498109198":9,"503145555":24,"510898033":21,"510898034":21,"510898035":21,"511487664":17,"514561133":11,"514572085":15,"514698970":25,"518566750":2,"518930465":3,"519046634":24,"527001801":25,"531005896":3,"532530776":13,"537036424":7,"537036425":7,"537036427":7,"537041732":20,"538867171":22,"540603119":4,"540653483":3,"542198399":18,"544464884":25,"544720811":10,"544864743":18,"547804116":10,"548288405":10,"550620122":25,"557947534":23,"558870048":7,"566102034":1,"566818961":25,"568239104":20,"568769546":17,"569039965":19,"573150099":1,"574167778":7,"574406295":15,"574433875":17,"574694085":7,"574790717":7,"576069028":24,"577345565":7,"581237363":4,"583548063":3,"586497084":21,"586671776":24,"588138826":23,"589151513":2,"589978193":14,"592288414":3,"592288415":3,"593230355":25,"594509158":11,"594640136":2,"594640137":2,"594640138":2,"594640139":2,"595406727":9,"596262236":23,"596262237":23,"596633475":14,"596833222":2,"597612829":20,"599687980":2,"601948197":25,"604124708":14,"604581312":16,"605209364":21,"610201346":14,"613647804":12,"613984400":22,"616392721":15,"617617371":16,"619391783":25,"621701973":3,"624775194":6,"626649506":2,"627596132":7,"628413376":24,"629159779":11,"629903347":23,"630782444":25,"631600281":25,"637391773":20,"640411453":3,"646486611":1,"650418244":20,"655712834":23,"659359923":16,"659709387":24,"664042851":1,"669267835":2,"671247011":5,"674199587":25,"677939288":3,"679887739":5,"681808640":21,"682455836":20,"682455838":20,"682455839":20,"682783191":3,"683947069":1,"685004314":10,"685157381":1,"685157383":1,"685299502":4,"689294985":25,"690228054":5,"691819782":24,"691914261":2,"700322568":1,"700322570":1,"702981643":2,"707118595":15,"710694221":23,"712123915":11,"712356937":25,"713403449":3,"717767855":21,"718136887":1,"721146704":3,"721740036":23,"722346046":25,"724583642":23,"736859723":25,"738873646":3,"745759692":2,"745759694":2,"745759695":2,"747033132":3,"747033133":3,"749168710":23,"754884040":20,"755651862":25,"758583474":25,"759479158":25,"760272956":24,"765122182":19,"765946822":22,"771273473":4,"773659236":15,"773659238":15,"773659239":15,"775189549":23,"776529032":1,"776529033":1,"776529034":1,"776878384":2,"776878385":2,"776878386":2,"776878387":2,"784499738":7,"784603963":18,"785442930":4,"787024992":16,"788073489":25,"788073490":25,"788073491":25,"788073493":25,"796298276":15,"796633253":4,"797283241":23,"797283242":23,"798307794":23,"798985558":25,"801509177":11,"802191381":1,"802191382":1,"802191383":1,"804309451":15,"805381928":24,"807186981":1,"807693916":24,"810321696":11,"810623803":4,"811724212":3,"814448788":1,"814520772":23,"814933120":1,"817283478":23,"818240646":15,"819191764":4,"819191765":4,"819191767":4,"819232495":16,"826128643":19,"830497630":3,"834178986":7,"837509459":3,"838156448":13,"839740147":7,"842157716":3,"842157717":3,"842157718":3,"842157719":3,"847859071":15,"852817810":25,"853932644":25,"855333069":1,"855333070":1,"855333071":1,"855351524":5,"855351525":5,"856000672":8,"864505614":1,"864505615":1,"865352407":25,"866034298":18,"866034302":18,"866698058":25,"871210651":2,"873100338":13,"873720784":12,"873770815":3,"874877120":1,"876119751":11,"880745877":3,"881651163":15,"884557971":25,"885593286":1,"889173106":25,"889413643":2,"889443955":9,"897074661":15,"901983032":25,"904010860":25,"905869860":4,"906505391":22,"908153539":20,"908153543":20,"908153550":20,"911356576":10,"912222548":5,"912276057":12,"912515804":5,"917896686":14,"921192195":25,"921192204":25,"921192205":25,"921357268":2,"924779391":1,"928070392":16,"929148730":7,"930064526":1,"932194044":24,"937162783":4,"937969906":25,"937969907":25,"937969908":25,"937969909":25,"937969910":25,"937969911":25,"938804347":1,"939209126":3,"942888402":3,"942888403":3,"946867072":20,"950899352":1,"951413738":12,"954747490":25,"954747491":25,"954747496":25,"954747497":25,"954747498":25,"954747499":25,"954747500":25,"954747501":25,"954747502":25,"954747503":25,"955394464":1,"957848724":12,"959024642":23,"959098413":3,"961496619":3,"964061247":25,"965663636":25,"967650555":3,"968360381":6,"968669760":25,"968669761":25,"968669762":25,"969863968":2,"971525076":25,"971525077":25,"971525080":25,"971525081":25,"971525082":25,"971525083":25,"971525084":25,"971525085":25,"971525086":25,"971525087":25,"971728596":6,"971728597":6,"980898608":3,"980898609":3,"980898610":3,"980898611":3,"980898614":3,"980898615":3,"983967254":20,"985750811":22,"990304814":1,"995900888":23,"1002354686":24,"1002555530":22,"1005594230":8,"1005594231":8,"1007199041":16,"1011670904":3,"1011670905":3,"1013401891":20,"1015069912":25,"1015730268":24,"1016114126":8,"1018190408":9,"1020589069":14,"1021165796":6,"1021939294":4,"1021939295":4,"1024894484":5,"1026128010":17,"1027203766":6,"1027203767":6,"1027749710":8,"1028757552":5,"1028757553":5,"1028757554":5,"1028757555":5,"1028757556":5,"1028757557":5,"1028757558":5,"1028757559":5,"1028757567":5,"1033267050":23,"1037916674":6,"1039280681":22,"1039460381":18,"1043883715":13,"1044615214":14,"1044615215":14,"1045633725":1,"1045633727":1,"1045929536":1,"1045929537":1,"1046955906":1,"1050368698":11,"1051903593":2,"1051938194":1,"1051938195":1,"1051938196":1,"1051938197":1,"1051938198":1,"1051938199":1,"1052553862":2,"1052553863":2,"1054640441":25,"1056992393":6,"1057119308":3,"1059304051":4,"1061186327":1,"1065911138":10,"1067975722":25,"1067975723":25,"1069214754":3,"1069380472":25,"1070051536":16,"1074758434":16,"1075647353":4,"1077836170":20,"1078097668":11,"1082381334":22,"1082407266":5,"1083938223":22,"1084954603":21,"1089851988":2,"1089851989":2,"1091411796":15,"1091411797":15,"1092719892":5,"1095370002":21,"1099403478":23,"1099926164":23,"1099926165":23,"1103965354":22,"1105341592":24,"1105928645":2,"1120048000":5,"1120064792":1,"1120186562":15,"1122245142":21,"1123433952":25,"1124054883":23,"1126354272":17,"1126889172":11,"1127128759":10,"1131244817":4,"1134447515":16,"1135933726":1,"1136270294":23,"1137289077":1,"1138508272":11,"1138508276":11,"1138508286":11,"1141639721":3,"1141716966":15,"1146380447":25,"1147673598":20,"1147673599":20,"1150304053":12,"1152762705":8,"1153991042":24,"1153991043":24,"1154180020":25,"1154180021":25,"1154180022":25,"1154180023":25,"1155452660":23,"1160766519":14,"1162929425":5,"1163935877":6,"1165452712":22,"1166152736":5,"1173354066":25,"1177179936":1,"1181381245":10,"1181969391":9,"1182552175":22,"1183116657":25,"1185244198":11,"1187045864":19,"1199546220":23,"1201782502":8,"1201782503":8,"1205148160":10,"1205148161":10,"1206746476":1,"1206746478":1,"1208429834":24,"1208826751":23,"1210362881":1,"1210937132":3,"1213406890":25,"1213492937":24,"1214401677":18,"1219897208":16,"1221462631":18,"1222467473":11,"1223564136":18,"1229033176":21,"1229961870":7,"1230647257":11,"1230660647":12,"1230660648":12,"1232390730":16,"1234914148":25,"1240184693":21,"1242865739":24,"1242938628":24,"1242938629":24,"1242938630":24,"1242938631":24,"1245245018":25,"1249334869":12,"1250597597":24,"1256660988":8,"1257952519":24,"1259278657":3,"1260041928":21,"1260362486":18,"1261107326":22,"1266122672":9,"1266122673":9,"1273131832":3,"1273131835":3,"1273131836":3,"1273354936":13,"1273354937":13,"1273510836":6,"1277486053":3,"1277677855":1,"1280248869":1,"1280755883":5,"1280894514":18,"1281013968":1,"1281013969":1,"1281013970":1,"1281013971":1,"1281013972":1,"1281013973":1,"1281013974":1,"1281013975":1,"1281013978":1,"1281013979":1,"1282122328":14,"1283578743":23,"1283615405":3,"1283654212":8,"1284563760":1,"1284563761":1,"1284563762":1,"1284563763":1,"1284563764":1,"1284563765":1,"1284563766":1,"1284563767":1,"1284563774":1,"1284563775":1,"1287851098":5,"1288683596":7,"1289590866":13,"1289622079":20,"1290784012":2,"1291068165":3,"1291068170":3,"1291068171":3,"1291068172":3,"1293002379":1,"1294717622":1,"1294837133":25,"1296063121":25,"1296106843":23,"1298644738":22,"1298682514":1,"1298682515":1,"1301763821":25,"1301766302":22,"1302985294":9,"1303706313":13,"1305141224":25,"1305141225":25,"1305141227":25,"1305274547":1,"1312472209":2,"1312626341":3,"1317763552":18,"1317763554":18,"1317763555":18,"1319502155":14,"1319520530":12,"1319537766":14,"1319537767":14,"1319899129":24,"1320113564":4,"1321546045":2,"1323035623":21,"1324151602":11,"1327630195":10,"1334842411":2,"1334959255":1,"1337933721":25,"1339405989":3,"1341471164":3,"1344619700":3,"1344619701":3,"1345789366":9,"1350878542":1,"1351738498":25,"1352815976":21,"1352858864":25,"1361620030":3,"1362709750":14,"1362709751":14,"1362725637":25,"1363029408":7,"1363029409":7,"1363360060":23,"1364413233":5,"1365413546":2,"1365491398":7,"1370302135":8,"1370974707":2,"1372428179":22,"1374246204":17,"1374517485":16,"1376763596":6,"1378496336":2,"1378496337":2,"1379889389":25,"1381973235":23,"1384371471":19,"1387688628":8,"1389546626":20,"1390587439":1,"1390684733":22,"1396048722":24,"1396114223":1,"1397284432":2,"1402876744":25,"1402876745":25,"1405321765":21,"1410465636":23,"1412999460":18,"1420354279":25,"1422712818":1,"1423305584":2,"1423305585":2,"1423305586":2,"1423305587":2,"1423305588":2,"1423305589":2,"1423305590":2,"1423305591":2,"1423305598":2,"1423305599":2,"1425794805":16,"1429874803":19,"1430140002":9,"1430140003":9,"1430606515":24,"1431165322":2,"1434789110":25,"1440616900":11,"1443744070":25,"1444655707":1,"1448808637":7,"1449701838":1,"1450633717":3,"1451091657":4,"1454610995":7,"1458722318":23,"1459837414":25,"1460790368":25,"1460790369":25,"1460790370":25,"1460790371":25,"1460790372":25,"1460790373":25,"1464191693":25,"1465090512":23,"1465090513":23,"1465090515":23,"1467209292":14,"1468313766":23,"1471300080":4,"1471723144":1,"1473368760":4,"1473368761":4,"1473368764":4,"1473368765":4,"1473368766":4,"1473368767":4,"1477100072":24,"1480626568":25,"1482931023":7,"1483496162":25,"1483633423":17,"1485222020":8,"1489178152":1,"1489178153":1,"1489178154":1,"1489178155":1,"1489178156":1,"1489178157":1,"1496718000":20,"1496718001":20,"1498917124":6,"1502135233":5,"1502135240":5,"1502135241":5,"1502135242":5,"1502135243":5,"1502135244":5,"1502135246":5,"1502135247":5,"1502692899":7,"1502960190":4,"1504542608":2,"1505278293":1,"1510405477":7,"1511214612":4,"1511214613":4,"1511744861":23,"1511744862":23,"1511744863":23,"1512491423":22,"1514358116":16,"1515861434":6,"1517831918":10,"1518774294":3,"1518774295":3,"1519942860":3,"1519942861":3,"1520144521":24,"1525328240":25,"1525328242":25,"1525328243":25,"1525328244":25,"1525328245":25,"1525328246":25,"1525328247":25,"1527687869":16,"1529650477":11,"1531478589":4,"1533012008":1,"1533101114":3,"1533101115":3,"1537581030":6,"1539578239":1,"1540031264":3,"1540650548":21,"1540875016":14,"1542058938":25,"1545181237":22,"1548056407":7,"1552044323":3,"1553202889":14,"1554631969":16,"1554631970":16,"1554631971":16,"1555316216":7,"1556831535":6,"1559478790":22,"1560678953":3,"1561249470":6,"1569145193":24,"1577190509":20,"1579706082":3,"1579706083":3,"1581478491":15,"1588254578":3,"1589318419":3,"1590407914":24,"1590498252":4,"1590498254":4,"1590498255":4,"1591188458":15,"1593707036":22,"1593983456":25,"1593983457":25,"1593983458":25,"1593983459":25,"1593983460":25,"1593983461":25,"1593983462":25,"1595521942":4,"1597797637":14,"1599443272":16,"1599898966":2,"1599949358":3,"1600065451":10,"1602334068":2,"1605596084":2,"1608119540":2,"1609141880":24,"1614326414":10,"1614326415":10,"1616346845":24,"1623332175":16,"1623653768":2,"1623653769":2,"1623653770":2,"1623653771":2,"1623687104":25,"1623687105":25,"1623687107":25,"1623687108":25,"1623687109":25,"1623687110":25,"1623687111":25,"1623693459":11,"1625014740":16,"1627792659":11,"1631206822":11,"1631448645":19,"1632460176":25,"1632460178":25,"1632460179":25,"1632460182":25,"1632460183":25,"1632954375":3,"1633261020":11,"1633854071":4,"1639225389":25,"1640597844":21,"1641589303":25,"1644922223":24,"1645521766":12,"1649663920":16,"1649929380":3,"1651275175":7,"1654077219":20,"1654447548":25,"1656278203":8,"1658124146":24,"1659393211":1,"1660620605":23,"1661191186":7,"1661191187":7,"1661191192":7,"1661191193":7,"1661191194":7,"1661191195":7,"1661191196":7,"1661191197":7,"1661191198":7,"1661191199":7,"1662439581":1,"1665551138":9,"1666450988":24,"1667376042":2,"1671775166":4,"1671775167":4,"1673857967":23,"1674525506":9,"1676252281":23,"1676763078":18,"1682610034":25,"1682610035":25,"1682610040":25,"1682610041":25,"1682610043":25,"1682610044":25,"1682610045":25,"1682610046":25,"1682610047":25,"1683482799":7,"1684784588":14,"1684784589":14,"1685769250":6,"1685769251":6,"1690059054":22,"1690229508":3,"1691540653":14,"1692473496":20,"1695429263":5,"1699387629":25,"1699568676":17,"1700810598":1,"1702504372":3,"1706764072":2,"1706764073":2,"1706874193":6,"1708415886":5,"1710284674":23,"1710813116":24,"1711459689":1,"1712065759":23,"1714370698":8,"1715842350":8,"1715842351":13,"1720894545":3,"1721185806":4,"1721185807":4,"1723894000":1,"1723894001":1,"1723894003":1,"1724152704":1,"1724152705":1,"1724152706":1,"1729424352":18,"1736897074":9,"1736897077":9,"1736897080":9,"1739076284":19,"1739076285":19,"1743191871":22,"1745945065":24,"1748148571":23,"1748608556":19,"1750365155":3,"1750913471":25,"1751782730":1,"1752648948":24,"1752862708":23,"1767312242":5,"1767664464":20,"1767664465":20,"1767664466":20,"1767664467":20,"1767664468":20,"1767664469":20,"1767664470":20,"1767664471":20,"1767664478":20,"1767664479":20,"1770862260":14,"1770862261":14,"1773000505":18,"1773501680":25,"1775707016":7,"1776174698":18,"1776174699":18,"1779961758":16,"1781082581":18,"1781585292":25,"1781585293":25,"1782320603":2,"1784442048":20,"1784442049":20,"1784442056":19,"1784442057":19,"1784442058":19,"1784442059":19,"1784442060":19,"1784442061":19,"1784442062":19,"1784442063":19,"1785547370":13,"1788892384":4,"1788892385":4,"1792195381":5,"1799214498":20,"1800252108":24,"1806258196":15,"1808095282":22,"1808095283":22,"1808095284":22,"1808095285":22,"1808095286":22,"1808095287":22,"1812385586":2,"1812385587":2,"1816495538":2,"1817444308":23,"1818656374":25,"1819413126":3,"1820842676":3,"1820842677":3,"1822914432":5,"1822927441":20,"1824935794":15,"1825213269":12,"1828487948":23,"1833569876":4,"1833569877":4,"1833569879":4,"1835787579":3,"1836636207":4,"1837000826":9,"1837000827":9,"1840919274":12,"1841270916":25,"1841451177":1,"1841451179":1,"1843912327":22,"1844045567":1,"1844125034":2,"1844904392":18,"1844904393":18,"1844904396":18,"1844904397":18,"1844904398":18,"1844904399":18,"1845372864":25,"1845978721":25,"1847708611":5,"1849697741":7,"1851649370":15,"1855675471":6,"1856262127":17,"1858216083":7,"1858618510":18,"1858655238":25,"1860355337":3,"1861087035":24,"1862324869":7,"1863732222":25,"1865638436":12,"1868330208":17,"1868330209":17,"1868330216":16,"1868330217":17,"1868330218":17,"1868330219":17,"1868330220":17,"1868330221":17,"1868330222":17,"1868330223":17,"1870273657":10,"1871823355":19,"1873273984":2,"1873857625":1,"1876000888":25,"1876000889":25,"1884588413":21,"1885107794":16,"1885107795":16,"1885107800":16,"1885107801":16,"1885107802":16,"1885107803":16,"1885107804":16,"1885107805":16,"1885107806":16,"1885107807":16,"1887823827":8,"1890164722":1,"1891321753":23,"1896146275":24,"1897528210":3,"1897536429":3,"1900036249":25,"1900594973":19,"1901283888":23,"1901283889":23,"1901283890":23,"1901283891":23,"1901283892":23,"1901283893":23,"1901283894":23,"1901283895":23,"1901283896":23,"1901283897":23,"1901885382":16,"1901885383":16,"1901885384":16,"1901885385":16,"1901885386":16,"1901885387":16,"1901885388":16,"1901885389":16,"1901885390":16,"1901885391":16,"1902452687":3,"1903259976":11,"1905328541":21,"1909657913":5,"1911078836":23,"1912033561":25,"1913006743":19,"1913500528":9,"1914761507":12,"1914989540":6,"1914989541":6,"1916876143":9,"1918663072":15,"1918663073":15,"1918663074":16,"1918663075":16,"1918663076":16,"1918663077":16,"1918663078":16,"1918663079":16,"1918663080":16,"1918663081":16,"1922808508":16,"1923236933":5,"1923665010":25,"1923817547":8,"1926033630":15,"1929361006":25,"1929766968":25,"1929766969":25,"1929766972":25,"1929766973":25,"1929766974":25,"1929891160":23,"1930161380":21,"1930161381":21,"1935440656":19,"1935440657":19,"1935440658":19,"1935440659":19,"1935440660":19,"1935440661":19,"1935440662":19,"1935440663":19,"1935440668":19,"1935440669":19,"1936281116":3,"1936516278":2,"1938477372":15,"1940590816":1,"1940590817":1,"1940590818":1,"1940590819":1,"1940590820":1,"1940590821":1,"1940590822":1,"1940590823":1,"1940590824":1,"1940590825":1,"1947358241":22,"1950047920":25,"1950431413":9,"1950912972":1,"1950948038":25,"1951638138":14,"1952218240":19,"1952218241":19,"1952218242":18,"1952218243":18,"1952218244":18,"1952218245":18,"1952218246":18,"1952218247":18,"1952218254":19,"1952218255":19,"1954221115":1,"1956273477":2,"1958368075":25,"1959452212":23,"1959648454":1,"1961918267":16,"1963292995":25,"1963513388":23,"1963513389":23,"1963513391":23,"1965167308":25,"1968995954":18,"1968995955":18,"1968995960":18,"1968995961":18,"1968995962":17,"1968995963":16,"1968995964":18,"1968995965":18,"1968995966":18,"1968995967":18,"1971240964":22,"1971240965":22,"1971412320":6,"1971919313":22,"1972548224":11,"1972802154":25,"1981116089":24,"1981661519":12,"1983275378":15,"1983519830":10,"1983519834":10,"1983519837":10,"1984190529":2,"1985773540":17,"1985773541":17,"1985773544":17,"1985773545":17,"1985773546":17,"1985773547":17,"1985773548":17,"1985773549":17,"1985773550":17,"1985773551":17,"1987263977":5,"1987790789":4,"1991778561":15,"1991946241":13,"1997025201":1,"1997760146":19,"1997760147":19,"2000448433":19,"2001563200":10,"2005133865":14,"2006002391":25,"2010554576":1,"2010554578":1,"2010554579":1,"2012077288":23,"2012491044":16,"2013981053":21,"2014411539":1,"2015081171":22,"2016937064":3,"2021434466":14,"2021594588":15,"2021594589":15,"2021594590":15,"2024085840":11,"2024188850":4,"2026109715":19,"2026109719":19,"2027583053":25,"2029506313":1,"2032131120":3,"2035035510":14,"2035035511":14,"2038017661":1,"2039333456":7,"2039712238":25,"2047844848":3,"2047844849":3,"2048663470":25,"2056606165":22,"2059442237":12,"2062419607":7,"2065742740":19,"2069797992":21,"2069797993":21,"2069797995":21,"2071635914":10,"2071635915":10,"2073576287":5,"2077249154":14,"2077249155":14,"2078240126":18,"2079349511":24,"2079505484":3,"2079505485":3,"2085536058":24,"2087171913":23,"2087899461":3,"2088834049":23,"2093762600":1,"2094466368":23,"2094466369":23,"2094466371":23,"2095897862":22,"2097092608":7,"2099710385":17,"2100117443":22,"2105396169":25,"2105409832":7,"2106367500":23,"2106726848":20,"2106922094":25,"2109561326":4,"2111039903":25,"2111111693":3,"2112508290":24,"2112889975":2,"2113350276":23,"2113350277":23,"2114877381":3,"2117628185":23,"2118730408":9,"2118730409":9,"2120905920":6,"2121445668":15,"2127474099":7,"2128916453":15,"2132252935":20,"2133500854":4,"2133500855":4,"2133500856":4,"2133500857":4,"2133500858":4,"2133500859":4,"2133500860":4,"2133500861":4,"2133500862":4,"2133500863":4,"2134318165":2,"2135702615":25,"2138467220":24,"2140049750":16,"2142666850":25,"2142666851":25,"2142666853":25,"2142666854":25,"2142666855":25,"2146494981":1,"2149696880":22,"2149696881":22,"2149696883":22,"2150778206":3,"2155698166":25,"2155928170":3,"2156531500":22,"2156817213":7,"2158080418":23,"2160858284":22,"2161024815":2,"2162261876":3,"2162502468":1,"2163922573":3,"2168550540":5,"2171727442":10,"2171727443":10,"2173237160":25,"2174169160":25,"2174169162":25,"2174169163":25,"2175752059":25,"2177429667":14,"2177680704":17,"2179603792":6,"2179603793":6,"2179603794":6,"2179603795":6,"2179603798":6,"2179603799":6,"2179902689":15,"2182316188":11,"2182330181":3,"2184423372":24,"2185547877":25,"2185878931":24,"2188135103":25,"2189358721":22,"2190633952":18,"2191200811":23,"2194193990":17,"2195752360":15,"2197832433":16,"2200172911":10,"2200729532":16,"2200729533":16,"2200729535":16,"2201628119":10,"2201764579":25,"2214129016":14,"2214271950":25,"2214469173":17,"2215619028":20,"2217042834":13,"2217751623":24,"2219573798":23,"2219602427":23,"2222169702":25,"2222286218":13,"2223901117":23,"2225838050":1,"2231049632":25,"2231049634":25,"2231049635":25,"2231049636":25,"2231049637":25,"2231049638":25,"2231049639":25,"2231049641":25,"2234157635":6,"2239007417":25,"2239429352":23,"2240097604":4,"2240888816":17,"2245996336":14,"2245996337":14,"2251060291":7,"2252443702":25,"2255318456":14,"2260280759":10,"2260326783":17,"2261046232":15,"2263885190":5,"2265583879":9,"2266083651":24,"2266517764":3,"2268947984":25,"2273494378":22,"2276139500":2,"2276139501":2,"2276139502":2,"2276139503":2,"2277536120":4,"2277536122":4,"2277536123":4,"2285636663":4,"2286474983":22,"2287277682":3,"2287556848":1,"2291082292":7,"2293905440":17,"2294119165":1,"2295924648":25,"2297249368":15,"2298896088":3,"2298896090":3,"2298896091":3,"2298896092":3,"2298896093":3,"2298896094":3,"2298896095":3,"2299884162":8,"2300270673":10,"2300905104":24,"2300905105":24,"2300905106":24,"2300905107":24,"2302094943":4,"2303499975":2,"2307306630":9,"2307426896":1,"2307426898":1,"2311027942":1,"2311506225":5,"2323170449":4,"2323339168":24,"2324903362":18,"2325217837":7,"2325321839":8,"2326578623":24,"2328211300":18,"2328435454":6,"2328497849":1,"2330017983":5,"2331063860":3,"2331063861":3,"2335022422":23,"2337196620":18,"2337290000":7,"2339497078":22,"2342711685":9,"2346279889":14,"2346836664":25,"2349752877":23,"2350566579":24,"2352869761":9,"2353359390":16,"2355278664":22,"2355278665":22,"2359582409":12,"2367025562":10,"2367860679":23,"2376081322":2,"2376234856":10,"2381907801":3,"2383793186":16,"2393153880":25,"2393153882":25,"2393153883":25,"2393153885":25,"2393591593":23,"2394866220":5,"2396888157":3,"2397436643":3,"2400712188":16,"2402780870":12,"2407661191":14,"2408788216":21,"2409711982":8,"2410421545":16,"2414564781":5,"2418053814":1,"2418147569":18,"2419100474":7,"2419113768":4,"2419113769":4,"2419910641":7,"2420153990":4,"2420153991":4,"2420432880":23,"2422643144":6,"2423798800":15,"2424484136":25,"2424824187":18,"2426387438":4,"2427328578":3,"2430770464":25,"2433436300":15,"2433900295":2,"2437968453":1,"2445475906":25,"2446304953":23,"2449203932":7,"2449623004":10,"2450544934":16,"2453351420":16,"2459768632":6,"2461358088":1,"2462805783":25,"2462805784":25,"2462805786":25,"2462805787":25,"2462805788":25,"2462805789":25,"2462805790":25,"2462805791":25,"2463325791":23,"2464438595":25,"2470583197":7,"2473252800":4,"2474741543":5,"2474886440":12,"2477028154":6,"2477980485":25,"2479583473":25,"2484637936":1,"2484637938":1,"2484637939":1,"2489453969":24,"2492590623":14,"2492769187":3,"2498589276":25,"2501396275":16,"2503665585":16,"2504122740":23,"2505678740":25,"2505678742":25,"2505678743":25,"2510169803":14,"2510169805":14,"2517318050":3,"2518534560":23,"2518534561":23,"2518534562":23,"2518534563":23,"2518534564":23,"2518534565":23,"2518534566":23,"2518534567":23,"2518534568":23,"2518534569":23,"2519247511":23,"2523388612":7,"2525626415":3,"2526538979":1,"2526736320":8,"2526736321":8,"2526736322":8,"2526736323":8,"2526736324":8,"2526736325":8,"2526736326":8,"2526736327":8,"2526736328":8,"2526736329":8,"2531130672":23,"2531130673":23,"2532993847":13,"2533771627":3,"2535002841":22,"2537840254":1,"2538781119":20,"2541494210":1,"2542725780":3,"2543806755":1,"2543971899":24,"2544513644":3,"2546370410":7,"2549404869":2,"2549951962":18,"2550323932":17,"2551510151":9,"2552460292":19,"2552460293":19,"2552954151":7,"2556098840":5,"2557881346":24,"2567383401":22,"2568867449":23,"2569113415":1,"2572448752":25,"2572448753":25,"2572448754":25,"2572448755":25,"2572448757":25,"2572448758":25,"2572448759":25,"2574262860":4,"2574262861":4,"2578820926":7,"2579162237":9,"2580357958":11,"2580432862":19,"2580533670":16,"2581389132":24,"2586806208":22,"2586851812":14,"2588647360":12,"2588647362":12,"2591111628":14,"2593080269":2,"2596801138":9,"2603319494":22,"2603335652":18,"2603400972":16,"2607012497":18,"2607476204":2,"2607476205":2,"2607476206":2,"2607476207":2,"2611348487":23,"2615178429":25,"2616697701":24,"2617715132":25,"2617715133":25,"2618313500":7,"2623660327":2,"2624974641":13,"2626754810":25,"2628466339":23,"2631256485":13,"2632093872":23,"2632846356":6,"2633916995":12,"2635366068":13,"2638689062":10,"2640973641":1,"2649911453":1,"2650481177":11,"2653114997":8,"2655812783":12,"2657932152":1,"2657932153":1,"2657932157":1,"2657932158":1,"2658847984":25,"2658847985":25,"2658847986":25,"2658847990":25,"2658847991":25,"2660300386":25,"2663827842":8,"2664485240":2,"2664485241":2,"2664485242":2,"2664485243":2,"2665176422":6,"2665176423":6,"2669452287":22,"2671075344":13,"2671982863":3,"2675394045":22,"2676329044":23,"2679694814":17,"2680976411":23,"2683352144":17,"2683352145":17,"2685001662":3,"2690382720":23,"2692796380":8,"2693103582":21,"2694357688":2,"2696245301":3,"2696974648":12,"2696974649":12,"2696974651":12,"2699000684":3,"2702372534":5,"2709194827":10,"2715650945":5,"2716279146":11,"2716279147":11,"2716406907":9,"2717158440":2,"2717540192":6,"2717540193":6,"2717540196":6,"2717540197":6,"2717540198":6,"2717540199":6,"2720534902":7,"2721442832":23,"2721442833":23,"2721442834":23,"2721442835":23,"2721442838":23,"2721907666":19,"2721907667":19,"2723301959":11,"2728416796":20,"2728416797":20,"2728416798":20,"2728851518":23,"2730176990":12,"2731864376":25,"2737886288":1,"2737886290":1,"2741695224":1,"2742408239":25,"2743185250":12,"2746567079":25,"2749020594":22,"2749628923":24,"2749904087":8,"2750411529":21,"2752157162":17,"2752635126":25,"2752635127":25,"2753228730":24,"2754658080":24,"2754658081":24,"2754658082":24,"2754658083":24,"2756505818":14,"2756505819":14,"2757833801":7,"2760398988":2,"2760449282":16,"2760841051":15,"2761983379":23,"2763422586":23,"2763470379":15,"2763985022":13,"2764545753":11,"2764644855":2,"2764769717":6,"2767412312":19,"2768024953":25,"2769834047":2,"2770157746":3,"2770607176":23,"2770607177":23,"2770607178":23,"2770607179":23,"2774782768":5,"2774782769":5,"2777913564":2,"2777913565":2,"2779499874":20,"2779841490":9,"2779841491":10,"2779841496":1,"2779841497":1,"2779841499":1,"2779841500":7,"2779841501":8,"2779841502":1,"2779841503":6,"2785855278":21,"2788609407":10,"2790542790":23,"2790542791":23,"2790542792":23,"2790542793":23,"2790542794":23,"2790542795":23,"2790542796":23,"2790542797":23,"2790542798":23,"2790542799":23,"2794014115":6,"2795689398":14,"2795689399":14,"2797445293":10,"2799886702":5,"2802789148":25,"2802789149":25,"2802789150":25,"2802789151":25,"2805101184":7,"2805962096":14,"2809967986":14,"2809967987":14,"2810182789":8,"2811138603":15,"2811521172":18,"2811521173":18,"2812100428":19,"2814093983":19,"2814383126":3,"2816306775":21,"2816485244":3,"2818777309":15,"2818971729":24,"2822855549":24,"2822855550":24,"2822855551":24,"2824302184":3,"2828252061":2,"2829865752":13,"2830258806":24,"2834933816":3,"2835717213":14,"2836298415":16,"2837295684":6,"2838582256":18,"2838582257":18,"2840606178":22,"2840773569":11,"2842471112":16,"2845628876":24,"2845628877":24,"2845628878":24,"2845628879":24,"2847079604":12,"2847579028":24,"2847579029":24,"2847579035":24,"2849050827":16,"2851897225":21,"2852373306":24,"2853747581":19,"2854370169":8,"2858342979":5,"2859470126":25,"2868525732":6,"2868525736":6,"2868525737":6,"2868525739":6,"2868525740":6,"2868525741":6,"2868525742":6,"2868525743":6,"2869466318":18,"2870168892":1,"2871066705":25,"2871066712":25,"2871066713":25,"2871066714":25,"2871066715":25,"2871066716":25,"2871066717":25,"2871066718":25,"2871095181":1,"2871264750":18,"2873488357":16,"2873900232":22,"2873996295":6,"2877046370":7,"2879309661":10,"2881439013":20,"2887844299":25,"2890977363":3,"2891490654":5,"2891979647":4,"2892092373":15,"2897206615":22,"2899925137":8,"2906201304":23,"2909593268":15,"2909846572":16,"2910312059":22,"2912265353":3,"2915137853":23,"2916149327":22,"2916219759":1,"2916406440":2,"2919429251":2,"2919938481":3,"2922275939":10,"2922902263":3,"2924095235":3,"2924794318":11,"2925817709":3,"2926662833":1,"2926662834":1,"2926662836":1,"2926662837":1,"2926662839":1,"2926662840":1,"2928555612":23,"2928555613":23,"2928555615":23,"2931483505":1,"2932390016":18,"2933249366":24,"2933632313":25,"2934294259":25,"2934509775":14,"2936183184":24,"2938523486":1,"2940416351":7,"2944782064":1,"2946312594":20,"2949414982":1,"2949664689":3,"2951975870":23,"2952826467":15,"2954404104":25,"2957044930":7,"2957044931":7,"2957208150":25,"2958378809":1,"2961559651":1,"2962058736":12,"2962058737":12,"2962058744":12,"2962058745":12,"2962058746":12,"2962058747":12,"2962058748":12,"2962058749":12,"2962058750":12,"2962058751":12,"2962546544":25,"2962546545":25,"2962546546":25,"2962546547":25,"2962546548":25,"2962546549":25,"2962546550":25,"2962546551":25,"2962546552":25,"2962546553":25,"2962622602":25,"2963292596":1,"2963870192":12,"2963870193":11,"2963870194":14,"2963870195":13,"2963870196":16,"2963870197":15,"2963870198":18,"2963870199":17,"2963870200":20,"2963870201":19,"2964031580":17,"2964031581":17,"2965439266":3,"2967332123":11,"2969036437":25,"2971194471":14,"2975041411":12,"2976357066":21,"2978337238":1,"2978747767":3,"2979324131":25,"2984888631":15,"2985926430":25,"2985926431":25,"2988472426":14,"2988472427":14,"2989132488":3,"2990668488":19,"2990668490":19,"2990668491":19,"2990689384":23,"2991116200":13,"2991116201":13,"2991116203":13,"2994721336":3,"2998296658":2,"3000974824":14,"3004379087":14,"3005747976":9,"3007479950":23,"3010244697":3,"3012249670":5,"3012249671":5,"3012879296":25,"3012879297":25,"3012879304":24,"3012879305":24,"3012879306":24,"3012879307":24,"3012879308":24,"3012879309":24,"3012879310":25,"3012879311":24,"3013363601":4,"3015197581":3,"3018673173":25,"3023230941":2,"3027193329":5,"3031612900":7,"3032378825":25,"3035129091":6,"3037589442":22,"3039687635":7,"3041136324":1,"3044160466":13,"3044482290":25,"3051813095":23,"3052096176":1,"3053891303":22,"3054638345":3,"3055452222":8,"3055626993":23,"3057124503":20,"3058007494":19,"3060237106":16,"3063212171":25,"3065586312":23,"3074755706":16,"3077367255":3,"3081047495":8,"3082233610":15,"3087166452":18,"3088135833":16,"3090681042":25,"3100848450":24,"3101012909":23,"3101709156":24,"3101709157":24,"3101709158":24,"3102003364":23,"3103255595":22,"3104384024":3,"3104486761":16,"3104651352":12,"3105935002":1,"3105953706":2,"3105953707":2,"3106070506":23,"3106736926":25,"3110827848":8,"3110986887":21,"3113416514":23,"3114383490":23,"3114383491":23,"3114383496":23,"3114383497":23,"3114383498":23,"3114383499":23,"3114383500":23,"3114383501":23,"3114383502":23,"3114383503":23,"3115221584":3,"3115221585":3,"3116258568":14,"3116258570":14,"3116258571":14,"3118323620":4,"3118323621":4,"3120368538":10,"3123514608":25,"3123514609":25,"3123514610":25,"3123514611":25,"3123514612":25,"3123514613":25,"3123514615":25,"3123514616":25,"3123639228":6,"3129418034":1,"3130164381":23,"3134905452":1,"3136100690":7,"3136552544":5,"3136552545":5,"3140833552":2,"3140833553":2,"3140833554":2,"3140833555":2,"3140833556":2,"3140833557":2,"3140833558":2,"3140833559":2,"3143728275":24,"3153681208":18,"3154193408":22,"3154194046":23,"3157963939":14,"3157964220":25,"3159052337":7,"3159160837":24,"3159710857":20,"3160643158":25,"3161524490":2,"3163467796":1,"3164464144":25,"3164464145":25,"3164464148":25,"3164464149":25,"3164464150":25,"3164464151":25,"3166802179":5,"3168164098":2,"3168934826":24,"3168997075":18,"3171327109":25,"3171649853":2,"3175295830":25,"3177119978":2,"3179985807":22,"3181241728":25,"3181241742":25,"3181241743":25,"3183180185":3,"3184938442":3,"3186457725":15,"3187899644":24,"3187899645":24,"3187899646":24,"3187899647":24,"3187955025":10,"3188413900":9,"3188768176":25,"3188768177":25,"3188768178":25,"3188768180":25,"3188768181":25,"3188768182":25,"3188768183":25,"3192336962":3,"3193721068":16,"3195506768":25,"3195506769":25,"3195506770":25,"3195506771":25,"3195506772":25,"3195506773":25,"3195506775":25,"3196288028":2,"3197331902":15,"3198019442":25,"3198019443":25,"3198019448":25,"3198019449":25,"3198019450":25,"3198019451":25,"3198019452":25,"3198019453":25,"3198019454":25,"3198019455":25,"3199368173":1,"3201839676":1,"3203489753":25,"3205869472":1,"3205869473":1,"3205869474":1,"3205869475":1,"3205869476":1,"3205869477":1,"3205869478":1,"3205869479":1,"3205869484":1,"3205869485":1,"3206190066":23,"3210200403":25,"3212701863":23,"3213186692":25,"3214073080":23,"3214073081":23,"3214797028":25,"3214797029":25,"3214797032":25,"3214797033":25,"3214797034":25,"3214797035":25,"3214797036":25,"3214797037":25,"3214797038":25,"3214797039":25,"3215252549":6,"3225959819":1,"3228576704":24,"3228576705":24,"3228576706":24,"3228576707":24,"3228576708":24,"3228576709":24,"3228576710":24,"3228576711":24,"3228576714":24,"3228576715":24,"3230467553":14,"3230867320":4,"3230867321":4,"3230867322":4,"3232831379":24,"3233781546":17,"3234030313":19,"3234265291":13,"3234459356":13,"3234744410":14,"3234744411":14,"3236510875":3,"3240434620":21,"3242972517":14,"3244015567":4,"3244569127":3,"3247799848":25,"3249133238":16,"3252358296":6,"3252358297":6,"3252358300":6,"3252358301":6,"3252358302":6,"3252358303":6,"3254175265":16,"3254463492":15,"3256326692":25,"3256453690":21,"3256698432":14,"3257147585":1,"3257562381":3,"3257710283":9,"3258345482":1,"3260482534":2,"3264152240":15,"3264577426":23,"3264577427":23,"3264577432":23,"3264577433":23,"3264577434":23,"3264577435":23,"3264577436":23,"3264577437":23,"3264577438":23,"3264577439":23,"3267552999":24,"3269282583":12,"3271923688":25,"3271923689":25,"3271923690":25,"3271923691":25,"3271923692":25,"3271923694":25,"3271923695":25,"3273280393":21,"3276327179":25,"3278002119":15,"3281355014":23,"3281355015":23,"3281355016":23,"3281355017":23,"3281355018":23,"3281355019":23,"3281355020":23,"3281355021":23,"3281355022":23,"3281355023":23,"3287805174":2,"3287805175":2,"3287805176":2,"3287805177":2,"3287805178":2,"3287805179":2,"3287805180":2,"3287805181":2,"3287805183":2,"3289085830":14,"3291545503":12,"3292091251":23,"3293251509":15,"3297537117":24,"3299468272":22,"3299468273":22,"3299468275":22,"3301342408":12,"3301342410":12,"3301342411":12,"3301429924":5,"3306754793":24,"3314281980":25,"3314737869":11,"3321444752":12,"3321444753":12,"3321444754":12,"3324845151":22,"3325463374":4,"3326173065":14,"3326837142":11,"3326837143":11,"3328839466":5,"3328839467":5,"3329514528":24,"3331209826":25,"3332319890":23,"3332509033":19,"3333986015":6,"3334815691":2,"3342375124":1,"3344467069":17,"3344732822":3,"3344861342":9,"3345201682":25,"3345862920":3,"3345862921":3,"3346875528":23,"3351378128":1,"3351378129":1,"3351378130":1,"3351378131":1,"3351378132":1,"3351378133":1,"3351378134":1,"3351378135":1,"3351378142":1,"3351378143":1,"3352019292":4,"3352566658":2,"3355148056":25,"3355148057":25,"3355614447":24,"3358687360":16,"3360014173":9,"3362582864":19,"3367964921":3,"3368317463":5,"3369249323":20,"3373303016":1,"3373303017":1,"3373357626":2,"3380377210":14,"3382391785":1,"3386596901":21,"3386658625":19,"3386680334":3,"3386773624":23,"3387050814":23,"3387401614":18,"3388974843":17,"3389066870":3,"3389066871":3,"3389746221":3,"3393212812":10,"3393212813":10,"3394362619":12,"3395525649":23,"3397132454":15,"3397132455":15,"3397709326":21,"3399976694":12,"3400256755":15,"3400316022":1,"3401335479":12,"3403116792":1,"3403116793":1,"3403116794":1,"3403116795":1,"3403116796":1,"3403116797":1,"3403347110":9,"3403347111":9,"3408716127":16,"3416845915":25,"3431752854":25,"3432146796":23,"3434490958":17,"3438799702":11,"3449275624":23,"3450065536":1,"3450065540":1,"3450065541":1,"3450065543":1,"3451625162":2,"3452825266":9,"3455566107":2,"3458982631":25,"3459379565":13,"3466276695":25,"3469344438":21,"3469344439":21,"3470237739":23,"3470431947":20,"3471922734":16,"3474363664":14,"3474583133":25,"3475074928":3,"3481131423":24,"3481861797":1,"3483485727":25,"3487471557":19,"3487922223":1,"3491209107":17,"3493596115":21,"3493861052":20,"3493861054":20,"3493861055":20,"3494199208":2,"3499472512":15,"3505911855":25,"3507133960":15,"3507818312":3,"3508236467":8,"3508476915":25,"3508476920":25,"3508476926":25,"3509010033":14,"3510138048":5,"3510413604":23,"3511698030":5,"3513243411":23,"3515978520":23,"3523028443":25,"3524020798":15,"3526028978":1,"3526273117":25,"3526595120":22,"3527716502":23,"3531677275":25,"3531985793":8,"3536420626":2,"3537745894":8,"3539322898":5,"3541326820":1,"3541326821":1,"3541326823":1,"3544910195":6,"3546241902":1,"3546470356":3,"3547113102":15,"3547113103":15,"3547298846":3,"3547298847":3,"3558681245":25,"3559361670":20,"3560184043":8,"3562697442":7,"3564705134":21,"3568351785":12,"3569791559":2,"3573686365":19,"3573734088":21,"3574066955":11,"3574120120":12,"3580570631":1,"3581751827":16,"3584938332":16,"3586026952":22,"3587167050":2,"3587167051":2,"3587987404":15,"3589089942":14,"3591083053":25,"3592198503":14,"3594836183":25,"3595878960":23,"3596008431":21,"3597180064":25,"3599111900":14,"3599356244":22,"3603558141":19,"3605230072":1,"3605230073":1,"3605230074":2,"3605230075":1,"3605490912":8,"3605490913":8,"3605490914":8,"3605490915":8,"3605490916":8,"3605490917":8,"3605490918":8,"3605490919":8,"3605490922":8,"3605490923":8,"3605848320":25,"3606661184":25,"3607928024":13,"3610131410":25,"3611487543":3,"3612246790":25,"3612254098":14,"3613286014":12,"3613955012":23,"3614593590":5,"3615976865":9,"3617209212":19,"3620946736":17,"3622268496":8,"3622268497":8,"3622268498":8,"3622268499":8,"3622268500":8,"3622268501":8,"3622268502":8,"3622268503":8,"3622268510":8,"3622268511":8,"3624435060":23,"3626242164":17,"3626242165":17,"3626242166":17,"3626658637":15,"3627970417":25,"3631942882":19,"3632593563":16,"3632912674":20,"3633178755":17,"3633213242":21,"3635624412":25,"3635991036":1,"3636181723":1,"3639046080":8,"3639046081":8,"3639046088":8,"3639046089":8,"3639046090":8,"3639046091":8,"3639046092":8,"3639046093":8,"3639046094":8,"3639046095":8,"3640658628":3,"3644991365":20,"3645474285":25,"3645474286":25,"3645474287":25,"3649985571":25,"3651793541":13,"3653362887":23,"3655823796":8,"3655823797":8,"3655823800":8,"3655823801":8,"3655823802":8,"3655823803":8,"3655823804":8,"3655823805":8,"3655823806":8,"3655823807":8,"3656394176":11,"3656766039":12,"3664536990":14,"3665398231":20,"3665594271":4,"3672748946":3,"3674581496":22,"3674851283":15,"3677746972":8,"3677746973":8,"3677746975":8,"3684684730":19,"3685996623":3,"3686736741":22,"3690574071":13,"3692806198":7,"3696163951":22,"3717471208":3,"3717471209":3,"3719164773":2,"3721195043":11,"3725942064":24,"3727205096":8,"3727346032":15,"3727346033":15,"3729709035":2,"3730248014":8,"3735037521":7,"3735294176":15,"3735294177":15,"3735294178":15,"3735294179":15,"3735294180":15,"3735294181":15,"3735294182":15,"3735294183":15,"3735294184":15,"3735294185":15,"3736041099":3,"3742210658":25,"3744631007":22,"3746956458":19,"3748622249":3,"3749428427":25,"3750893516":19,"3752071760":15,"3752071761":15,"3752071762":15,"3752071763":15,"3752071764":15,"3752071765":15,"3752071766":15,"3752071767":15,"3752071770":15,"3752517619":19,"3753232378":25,"3754910498":2,"3755201983":8,"3756389242":1,"3756805800":6,"3758415809":18,"3769043228":22,"3770475778":3,"3770475779":3,"3772918371":7,"3782991997":25,"3782991998":25,"3782991999":25,"3785035696":1,"3785035697":1,"3785035698":1,"3785437156":14,"3785442599":20,"3790423802":14,"3792590697":5,"3793036417":25,"3799750641":15,"3800267412":2,"3800267413":2,"3800267414":2,"3800267415":2,"3802876271":2,"3803329707":16,"3806887025":23,"3807544519":7,"3807646023":25,"3808901541":6,"3809278479":23,"3809722908":2,"3809902215":24,"3811760832":1,"3814697630":24,"3814697631":24,"3820128352":23,"3820835868":3,"3825769808":1,"3830061117":21,"3830186047":1,"3831031876":16,"3835954362":3,"3840083172":3,"3844528610":22,"3844703409":7,"3845833465":23,"3845973845":10,"3846727856":11,"3848868583":4,"3850655136":2,"3853033160":24,"3853033161":24,"3853033162":24,"3853033163":24,"3857100891":9,"3859483818":3,"3859483819":3,"3859783010":8,"3864896927":17,"3866715933":2,"3869795067":25,"3871226707":22,"3871252980":4,"3872116425":1,"3872337571":18,"3874217662":2,"3874217663":2,"3875413893":1,"3876796314":5,"3878673071":25,"3884067141":11,"3886292674":12,"3886292675":12,"3886292680":12,"3886292681":12,"3886292682":12,"3886292683":12,"3886292684":12,"3886292685":12,"3886292686":12,"3886292687":12,"3887892656":1,"3888701628":23,"3892841518":7,"3893112950":24,"3898143407":3,"3899548068":1,"3899944893":4,"3900456246":25,"3903070390":12,"3903070391":12,"3903070392":12,"3903070393":12,"3903070394":12,"3903070395":12,"3903070396":12,"3903070397":12,"3903070398":12,"3903070399":12,"3903548288":1,"3908760309":3,"3910216754":23,"3911008533":14,"3911560897":23,"3915764593":16,"3915764594":16,"3915764595":16,"3916608434":3,"3919847952":13,"3919847953":13,"3919847954":13,"3919847955":13,"3919847956":13,"3919847957":13,"3919847958":13,"3919847959":13,"3919847960":13,"3919847961":13,"3921006352":1,"3921006353":1,"3921006354":1,"3921006355":1,"3921006356":1,"3921485172":23,"3924400899":18,"3925270067":4,"3929403535":3,"3932439362":5,"3932814032":7,"3936625536":13,"3936625537":13,"3936625538":13,"3936625539":13,"3936625540":13,"3936625541":13,"3936625542":13,"3936625543":13,"3936625548":14,"3936625549":14,"3938069942":17,"3941026874":20,"3941205951":17,"3941269100":25,"3941766715":9,"3943394479":3,"3946295144":1,"3946321634":23,"3946927545":6,"3947596543":2,"3953403248":14,"3953403249":14,"3953403250":14,"3953403251":14,"3953403252":14,"3953403253":14,"3953403254":14,"3953403255":14,"3953403262":14,"3953403263":14,"3953986336":3,"3955736323":23,"3958460049":1,"3960522253":4,"3961503936":4,"3961503937":4,"3961503938":4,"3961503939":4,"3961503940":4,"3961503941":4,"3961503942":4,"3961503943":4,"3961503948":4,"3961503949":4,"3965417933":6,"3968560442":7,"3969043896":3,"3970040886":24,"3970180834":14,"3970180835":14,"3970180840":14,"3970180841":14,"3970180842":14,"3970180843":14,"3970180844":14,"3970180845":14,"3970180846":14,"3970180847":14,"3970398144":3,"3970398145":3,"3970823221":23,"3977496457":25,"3978281650":4,"3978281651":4,"3978281652":4,"3978281653":4,"3978281654":4,"3978281655":4,"3980259370":8,"3980259371":8,"3981634627":9,"3983534173":21,"3983534174":21,"3983534175":21,"3986958420":15,"3986958421":15,"3986958424":15,"3986958425":15,"3986958426":15,"3986958427":15,"3986958428":15,"3986958429":15,"3986958430":15,"3986958431":15,"3987309016":22,"3987442049":7,"3988299563":25,"3989967656":25,"3990400405":5,"4000300344":25,"4006192308":1,"4006192310":1,"4006192311":1,"4011836820":4,"4011836821":4,"4011836824":4,"4011836825":4,"4011836826":4,"4011836827":4,"4011836828":4,"4011836829":4,"4011836830":4,"4011836831":4,"4012203003":8,"4012977684":14,"4012977685":14,"4015003047":25,"4018523064":23,"4025934129":20,"4026515849":5,"4029022121":16,"4029346515":16,"4029814949":11,"4031340274":5,"4031340275":5,"4032296272":24,"4034060602":15,"4035690282":5,"4036779270":16,"4039169178":20,"4040221326":24,"4043342755":20,"4045313562":24,"4045752130":25,"4048021830":25,"4048186065":3,"4048242887":20,"4049365947":1,"4049753919":23,"4050450481":7,"4052831236":3,"4054029966":23,"4054596410":21,"4059030097":2,"4059318875":2,"4062073334":23,"4072587059":1,"4075522049":6,"4078226397":8,"4082425930":24,"4085986809":4,"4086164721":19,"4087481581":25,"4087530286":8,"4087530287":8,"4088827200":12,"4088827201":12,"4088827202":12,"4089147221":8,"4089840981":24,"4089840982":24,"4089840983":24,"4089988225":3,"4090391256":12,"4090775747":11,"4092937102":14,"4093148081":18,"4095784502":23,"4096637925":7,"4097227155":2,"4097505799":20,"4099900662":22,"4099900663":22,"4099900664":22,"4099900665":22,"4099900666":22,"4099900667":22,"4099900668":22,"4099900669":22,"4099900670":22,"4099900671":22,"4100029812":7,"4101386442":1,"4105858344":8,"4105907312":25,"4105907313":25,"4105907314":25,"4105907315":25,"4105907316":25,"4105907317":25,"4105907318":25,"4106757302":24,"4106990766":25,"4107663664":13,"4110556120":2,"4114677048":7,"4114707355":2,"4116678224":22,"4116678225":22,"4116837065":24,"4119095630":3,"4119622018":21,"4123860739":25,"4128095381":6,"4128297107":7,"4129164627":14,"4132147344":1,"4132147345":1,"4132147346":1,"4132147347":1,"4132147348":1,"4132147349":1,"4132147350":1,"4132147351":1,"4132147352":1,"4132147353":1,"4133455808":22,"4133455809":22,"4133455810":22,"4133455811":22,"4133455812":22,"4133455813":22,"4133455814":22,"4133455815":22,"4133455820":22,"4133455821":22,"4136254009":23,"4138697980":21,"4140529506":21,"4140869021":16,"4142792564":3,"4143534670":3,"4145541360":25,"4150233520":22,"4150233521":22,"4150233522":22,"4150233523":22,"4150233524":22,"4150233525":22,"4150233526":22,"4150233527":22,"4150233534":22,"4150233535":22,"4151287333":24,"4154821248":3,"4159550315":7,"4159830752":23,"4159935832":4,"4160988416":24,"4163975820":24,"4167011106":20,"4167011107":20,"4167011112":20,"4167011113":20,"4167011114":20,"4167011115":20,"4167011116":20,"4167011117":20,"4167011118":20,"4167011119":20,"4169225313":24,"4169903862":23,"4173467416":7,"4173467417":7,"4179794597":17,"4182480224":1,"4182480225":1,"4182480232":1,"4182480233":1,"4182480234":1,"4182480235":1,"4182480236":1,"4182480237":1,"4182480239":1,"4183635599":20,"4183788692":22,"4183788693":20,"4183788696":20,"4183788697":20,"4183788698":20,"4183788699":20,"4183788700":20,"4183788701":20,"4183788702":20,"4183788703":20,"4187524534":1,"4201060647":25,"4201697932":3,"4201697933":3,"4202615266":19,"4204413574":20,"4204482447":23,"4211475741":2,"4212410112":1,"4213271810":3,"4213271811":3,"4220529694":23,"4221096044":12,"4221563250":22,"4222561358":19,"4223882778":1,"4224972854":4,"4224972855":4,"4229237079":8,"4231293639":11,"4233800814":25,"4236468733":3,"4237817816":25,"4240221838":16,"4242592192":1,"4242592193":1,"4242592195":1,"4245469491":3,"4248210736":1,"4252684909":11,"4253857367":21,"4256068881":22,"4256854144":20,"4257676106":11,"4258704672":1,"4258704673":1,"4258704674":1,"4258704675":1,"4258704676":1,"4261480748":2,"4261480749":2,"4264364347":15,"4264494593":11,"4266295281":23,"4269600130":21,"4272367383":3,"4275472608":20,"4275472612":20,"4275472613":20,"4275472614":20,"4275472615":20,"4276035208":5,"4282591831":24,"4283023978":4,"4283023979":4,"4283023980":4,"4283023981":4,"4283023982":4,"4283023983":4,"4283395634":25,"4285212385":17,"4287182959":25,"4292129571":23}'),i=JSON.parse('{"11666839":2,"13912404":1,"32323943":11,"43842395":22,"92433064":18,"100617404":2,"110159004":4,"139160732":15,"139599745":1,"148542898":2,"160129377":18,"164083100":15,"210885364":13,"266896577":5,"286427063":12,"287889699":13,"351235593":4,"354493557":2,"406406003":14,"409652252":16,"443340273":15,"462484651":14,"464727567":15,"508245276":13,"539840256":10,"547767158":2,"550270332":8,"557146120":1,"561126969":23,"569214265":1,"594760007":12,"611838069":10,"613435025":23,"613791463":22,"629617846":12,"641018908":3,"654652973":4,"675740011":15,"677167936":1,"681989555":14,"707740602":4,"709680645":20,"736336644":4,"745186842":9,"772619302":1,"794422188":22,"817015032":2,"827839814":12,"887452441":13,"901482731":20,"925197669":5,"929025440":7,"958460845":24,"1007078046":16,"1054169368":15,"1076222895":1,"1102533392":15,"1103518848":3,"1126234343":10,"1127923611":4,"1148859274":12,"1175566043":2,"1216155659":8,"1217831333":10,"1225476079":19,"1253026984":8,"1266018974":25,"1281387702":1,"1282207663":17,"1360005982":1,"1397119901":1,"1400219831":2,"1405897559":12,"1411886787":2,"1412777465":4,"1433518193":13,"1457456824":5,"1459595344":8,"1462687159":1,"1465057711":15,"1465990789":5,"1483048674":5,"1497107113":10,"1564061133":9,"1568732528":23,"1581680964":2,"1581731027":24,"1596507419":5,"1597738585":19,"1605890568":25,"1618754228":9,"1654120320":2,"1666677522":17,"1677921161":4,"1723452413":12,"1745960977":8,"1751739544":20,"1763998430":15,"1897187034":22,"1919933822":11,"1924238751":3,"1926923633":22,"1992319882":20,"1995616326":14,"2011810450":13,"2039343154":11,"2050870152":24,"2065138144":14,"2069903130":22,"2085016678":5,"2124937714":22,"2187511136":6,"2206233229":1,"2223404774":1,"2230358252":11,"2242939082":2,"2278847330":20,"2292685703":11,"2296534980":24,"2308290458":2,"2335095658":11,"2347293565":2,"2353223954":11,"2363489105":16,"2364515524":19,"2364933290":14,"2379344669":11,"2384327872":5,"2463956052":25,"2487203690":2,"2514060836":24,"2541753910":5,"2585665369":23,"2601524261":9,"2607739079":10,"2622122683":22,"2648408612":7,"2658055900":8,"2669524419":11,"2675385179":4,"2694738712":14,"2700267533":24,"2717017239":2,"2723305286":11,"2744321951":1,"2755511565":21,"2765304727":1,"2778435282":8,"2797674516":15,"2805208672":4,"2851783112":4,"2856954949":12,"2926805810":3,"2929562373":1,"2937902448":2,"2952071500":23,"2966694626":5,"2967385539":14,"2986594962":23,"2988465950":1,"3022766747":4,"3041847664":20,"3047033583":5,"3067146211":2,"3079246067":2,"3094114967":15,"3098906085":4,"3099553329":1,"3100467592":1,"3112857249":1,"3126774631":2,"3174947771":20,"3190710249":20,"3190938946":8,"3226099405":14,"3257722699":5,"3277652589":15,"3288974535":21,"3388021959":10,"3390269646":3,"3404977524":9,"3422985544":10,"3431853656":1,"3494247523":8,"3522070610":11,"3563833902":16,"3564069447":21,"3567813252":19,"3656787928":13,"3693722471":11,"3704442923":2,"3724111213":7,"3736521079":1,"3740731576":18,"3747711246":22,"3764925750":5,"3807243511":12,"3874934421":4,"3936473457":2,"3942778906":22,"3954922099":16,"4006434081":20,"4009509410":1,"4066007318":2,"4079816474":13,"4122810030":8,"4173145322":16,"4208190159":1,"4247521481":5,"4263201695":2,"4267157320":9,"4278841194":23,"4288102251":2,"4290227252":5,"4290499613":1}'),c=JSON.parse('{"/common/destiny2_content/icons/ad7fdb049d430c1fac1d20cf39059702.png":1,"/common/destiny2_content/icons/04de56db6d59127239ed51e82d16c06c.png":2,"/common/destiny2_content/icons/52523b49e5965f6f33ab86710215c676.png":3,"/common/destiny2_content/icons/3543d23d9063fbf7332c7f129a74ada2.png":4,"/common/destiny2_content/icons/f80e39c767f309f0b2be625dae0e3744.png":4,"/common/destiny2_content/icons/65097e226318b8581ad535b33827e01a.png":5,"/common/destiny2_content/icons/8b0d9b848bfb49077fe018e6f80a2939.png":5,"/common/destiny2_content/icons/efdb35540cd169fa6e334995c2ce87b6.png":6}'),l=JSON.parse('{"/common/destiny2_content/icons/fb50cd68a9850bd323872be4f6be115c.png":1,"/common/destiny2_content/icons/dd71a9a48c4303fd8546433d63e46cc7.png":1,"/common/destiny2_content/icons/2c024f088557ca6cceae1e8030c67169.png":2,"/common/destiny2_content/icons/50d36366595897d49b5d33e101c8fd07.png":2,"/common/destiny2_content/icons/ed6c4762c48bd132d538ced83c1699a6.png":3,"/common/destiny2_content/icons/aaa61f6c70478d87de0df41e5709a773.png":3,"/common/destiny2_content/icons/1b6c8b94cec61ea42edb1e2cb6b45a31.png":4,"/common/destiny2_content/icons/eb621df1be42ae5db9e8cd20eda17c44.png":4,"/common/destiny2_content/icons/448f071a7637fcefb2fccf76902dcf7d.png":5,"/common/destiny2_content/icons/c23c9ec8709fecad87c26b64f5b2b9f5.png":5,"/common/destiny2_content/icons/1448dde4efdb57b07f5473f87c4fccd7.png":6,"/common/destiny2_content/icons/e4a1a5aaeb9f65cc5276fd4d86499c70.png":6,"/common/destiny2_content/icons/5364cc3900dc3615cb0c4b03c6221942.png":7,"/common/destiny2_content/icons/69bb11f24279c7a270c6fac3317005b2.png":7,"/common/destiny2_content/icons/2352f9d04dc842cfcdda77636335ded9.png":8,"/common/destiny2_content/icons/ee3f5bb387298acbdb03c01940701e63.png":8,"/common/destiny2_content/icons/e8fe681196baf74917fa3e6f125349b0.png":8,"/common/destiny2_content/icons/82a8d6f2b1e4ee14e853d4ffbe031406.png":8,"/common/destiny2_content/icons/3ba38a2b9538bde2b45ec9313681d617.png":9,"/common/destiny2_content/icons/9b7e4bbc576fd15fbf44dfa259f8b86a.png":9,"/common/destiny2_content/icons/b12630659223b53634e9f97c0a0a8305.png":10,"/common/destiny2_content/icons/e27a4f39c1bb8c6f89613648afaa3e9f.png":10,"/common/destiny2_content/icons/4c25426263cacf963777cd4988340838.png":11,"/common/destiny2_content/icons/49dc693c5f3411b9638b97f38a70b69f.png":11,"/common/destiny2_content/icons/9e0f43538efe9f8d04546b4b0af6cc43.png":12,"/common/destiny2_content/icons/1f702463c5e0c4e25c9f00a730dbc6ac.png":12,"/common/destiny2_content/icons/be3c0a95a8d1abc6e7c875d4294ba233.png":12,"/common/destiny2_content/icons/d3cffdcb881085bc4fe19d9671c9eb0c.png":12,"/common/destiny2_content/icons/0ec87dd7ef282db27e1fc337e9545cd0.png":12,"/common/destiny2_content/icons/5ac4a1d48a5221993a41a5bb524eda1b.png":13,"/common/destiny2_content/icons/e197b731c11556b17664b90a87dd0c11.png":13,"/common/destiny2_content/icons/23968435c2095c0f8119d82ee222c672.png":14,"/common/destiny2_content/icons/a9faab035e2f59f802e99641a3aaab9e.png":14,"/common/destiny2_content/icons/671a19eca92ad9dcf39d4e9c92fcdf75.png":15,"/common/destiny2_content/icons/d92e077d544925c4f37e564158f8f76a.png":15,"/common/destiny2_content/icons/6e4fdb4800c34ccac313dd1598bd7589.png":16,"/common/destiny2_content/icons/b973f89ecd631a3e3d294e98268f7134.png":16,"/common/destiny2_content/icons/d05833668bcb5ae25344dd4538b1e0b2.png":16,"/common/destiny2_content/icons/ab075a3679d69f40b8c2a319635d60a9.png":17,"/common/destiny2_content/icons/a3923ae7d2376a1c4eb0f1f154da7565.png":18,"/common/destiny2_content/icons/e775dcb3d47e3d54e0e24fbdb64b5763.png":19,"/common/destiny2_content/icons/31445f1891ce9eb464ed1dcf28f43613.png":20,"/common/destiny2_content/icons/af00bdcd3e3b89e6e85c1f63ebc0b4e4.png":20,"/common/destiny2_content/icons/a568c77f423d1b49aeccbce0e7af79f6.png":20,"/common/destiny2_content/icons/6026e9d64e8c2b19f302dafb0286897b.png":21,"/common/destiny2_content/icons/3de52d90db7ee2feb086ef6665b736b6.png":22,"/common/destiny2_content/icons/a2fb48090c8bc0e5785975fab9596ab5.png":23,"/common/destiny2_content/icons/d5a3f4d7d20fefc781fea3c60bde9434.png":23,"/common/destiny2_content/icons/0337ec21962f67c7c493fedb447c4a9b.png":24,"/common/destiny2_content/icons/e3ea0bd2e889b605614276876667759c.png":24,"/common/destiny2_content/icons/ecc0f87f0676df6c7fdd06bff5d2825c.png":24,"/common/destiny2_content/icons/5586f6a4193e34acc035209b5e9204d8.png":25}'),d=Object.fromEntries(Object.entries(s.f).flatMap((([e,t])=>t.sources.map((t=>[t,+e])))));function u(e,t){const o="destinyVersion"in e&&e||void 0,s="displayProperties"in e&&e||void 0;if(o?.classified||s?.redacted)return n.S;if(!e.itemCategoryHashes||e.itemCategoryHashes.includes(40)||e.itemCategoryHashes.includes(3109687656)||0===e.itemCategoryHashes.length)return-1;if(s){const e=s.collectibleHash&&t?.Collectible.get(s.collectibleHash)?.sourceHash,o=s.quality?.currentVersion;return m(void 0!==o&&s.quality?.displayVersionWatermarkIcons?.[o]||s.iconWatermark||s.iconWatermarkShelved||void 0,e,s.hash)}return o?m(o.iconOverlay||o.hiddenOverlay,o.source,o.hash):n.S}function m(e,t,o){return e&&l[e]?l[e]:t&&i[t]?i[t]:r[o]||n.S}function h(e){const t=e.hiddenOverlay||e.iconOverlay;return t&&c[t]?c[t]:e.source&&d[e.source]?d[e.source]:a[e.hash]}},93823:(e,t,o)=>{o.d(t,{Pp:()=>u,dd:()=>d,gb:()=>m}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(60088),n=o(27267),a=o(42482),r=o(63150),i=o(62447),c=o(65);function l(e,t){return e.some((e=>e.power!==a.S.pinnaclecap&&t.has(e.bucket.hash)))}const d=(0,r.Mz)(i.Wh,i.V0,((e,t)=>{const o=function(e){const t=new Set;for(const o of e)o.classified&&!o.power&&(o.location.inWeapons||o.location.inArmor)&&t.add(o.bucket.hash);return t}(t),a={};for(const r of e){if(r.isVault)continue;const{equippable:e,equipUnrestricted:i,classUnrestricted:d}=(0,s.W2)(t,r),u=(0,n.vD)(r,d),m=(0,n.vD)(r,i),h=(0,n.vD)(r,e),p=(0,n.vD)(r,d),f=m!==h,g=u!==m,y=l(i,o),v=(0,c.yq)(r);a[r.id]={maxGearPower:m,maxEquippableGearPower:h,maxEquippablePowerItems:e,dropPower:p,powerModifier:v,maxTotalPower:m+v,highestPowerItems:i,dropCalcItems:d,problems:{hasClassified:y,notEquippable:f,notOnStore:g}}}return a})),u=(e,t)=>void 0!==t?d(e)[t]:void 0,m=e=>t=>u(t,e)?.dropPower},45680:(e,t,o)=>{o.d(t,{gJ:()=>w,lT:()=>f,bA:()=>A,rH:()=>b});var s=o(56137),n=o(59816),a=o(36871),r=o(57551),i=o(11519),c=o(72549),l=o(95594),d=o(77335),u=o(87853),m=o(73308);const h={266021826:{10:[1476923952,1476923953,1476923954,3573490509,3573490508,3573490511,3573490510,3573490505],11:[1476923955,1476923956,1476923957,3573490504,3573490507,3573490506,3573490501,3573490500]},2273643087:{10:[1476923952,1476923953,1476923954,183430248,183430255,183430252,183430253,183430250],11:[1476923955,1476923956,1476923957,183430251,183430254,183430249,183430246,183430247]},2809120022:{10:[1476923952,1476923953,1476923954,3751917999,3751917998,3751917997,3751917996,3751917995],11:[1476923955,1476923956,1476923957,3751917994,3751917993,3751917992,3751917991,3751917990]}},p=(0,a.B8)(u,Number);function f(e,t,o,n){let a=null,i=!1;const c=e.itemInstanceId&&t?.sockets?.data?.[e.itemInstanceId]?.sockets||void 0;if(c&&(a=function(e,t,o,s,n,a){if(!o.itemInstanceId||!t.sockets?.socketEntries.length||!s?.length)return null;const i=[];for(let o=0;o<s.length;o++){const r=N(e,s[o],t.sockets.socketEntries[o],o,n?.[o],a,t);r&&i.push(r)}const c=[];for(const o of t.sockets.socketCategories)c.push({category:e.SocketCategory.get(o.socketCategoryHash,t),socketIndexes:o.socketIndexes});return{allSockets:i,categories:3284755031===t.inventory?.bucketTypeHash?c.sort((0,r.VE)((e=>e.category?.index))):c}}(o,n,e,c,e.itemInstanceId&&t?.reusablePlugs?.data?.[e.itemInstanceId]?.plugs||void 0,e.itemInstanceId&&t?.plugObjectives?.data?.[e.itemInstanceId]?.objectivesPerPlug||void 0)),!a&&n.sockets){const t=!!(e.itemInstanceId&&e.itemInstanceId.length>14);t&&!c&&(i=t?"missing":"not-loaded"),a=function(e,t){const o=t.sockets.socketEntries;if(!o?.length)return null;const n=(0,s.H)(e,t.hash)?.sockets.socketEntries,a=[];for(let s=0;s<o.length;s++){const r=v(e,o[s],s,n?.[s]?.reusablePlugSetHash,t);r&&a.push(r)}const i=[];for(const o of t.sockets.socketCategories)i.push({category:e.SocketCategory.get(o.socketCategoryHash),socketIndexes:o.socketIndexes});return{allSockets:a,categories:3284755031===t.inventory?.bucketTypeHash?i.sort((0,r.VE)((e=>e.category?.index))):i}}(o,n)}return{sockets:a,missingSockets:i}}function g(e){return!e.plugDef.itemCategoryHashes?.some((e=>141186804===e||1404791674===e))&&!e.plugDef.plug?.plugCategoryIdentifier.includes("masterworks.stat")}function y(e,t){return(0,c.tR)(e.plugDef)&&t&&0===t.unlockRequirements.length&&0===t.materialRequirementHashes.length}function v(e,t,o,s,n){if(!t)return;const a=t.socketTypeHash&&e.SocketType.get(t.socketTypeHash,n);if(!a)return;const c=e.SocketCategory.get(a.socketCategoryHash,n);if(!c)return;const l=1===c.categoryStyle,d=6===c.categoryStyle,u=3===c.categoryStyle||d||l,m=2===c.categoryStyle||7===c.categoryStyle,p=[];let f;function v(e){e.craftingRequirements&&(e.craftingRequirements.materialRequirementHashes.length||e.craftingRequirements.unlockRequirements.length)&&((f??={})[e.plugItemHash]=e.craftingRequirements)}if(u&&!d)if(t.reusablePlugSetHash){const o=e.PlugSet.get(t.reusablePlugSetHash,n);if(o)for(const t of o.reusablePlugItems){const o=w(e,t.plugItemHash,t.currentlyCanRoll);o&&!y(o,t.craftingRequirements)&&(p.push(o),v(t))}}else if(t.randomizedPlugSetHash){const o=[...s?e.PlugSet.get(s,n).reusablePlugItems:[],...e.PlugSet.get(t.randomizedPlugSetHash,n)?.reusablePlugItems??[]];if(o.length){const t=new Map;for(const e of o){const o=t.get(e.plugItemHash);(!o||!o.currentlyCanRoll&&e.currentlyCanRoll)&&t.set(e.plugItemHash,e)}for(const o of t.values()){const t=w(e,o.plugItemHash,o.currentlyCanRoll);t?.plugDef.displayProperties.name&&!y(t,o.craftingRequirements)&&(p.push(t),v(o))}}}else if(t.reusablePlugItems&&t.reusablePlugItems.length>0)for(const o of t.reusablePlugItems){const t=w(e,o.plugItemHash);t&&p.push(t)}else if(n&&n.hash in h&&o in h[n.hash]){const t=h[n.hash][o];for(const o of t){const t=w(e,o);t&&p.push(t)}}else if(t.singleInitialItemHash){const o=w(e,t.singleInitialItemHash);o&&p.push(o)}if(t.singleInitialItemHash&&!p.find((e=>e.plugDef.hash===t.singleInitialItemHash))){const o=w(e,t.singleInitialItemHash);o&&p.push({...o,unreliablePerkOption:p.length>0})}const b=[];if(p.length)for(const e of p)g(e)&&b.push(e);b.sort((0,r.VE)((e=>e.cannotCurrentlyRoll?999:e.unreliablePerkOption?998:0)));let A=null;1!==b.length||3956125808!==c.hash&&1744546145!==b[0].plugDef.plug.plugCategoryHash||(A=b[0]);const k=t.reusablePlugSetHash?H(e,t.reusablePlugSetHash):t.randomizedPlugSetHash?H(e,t.randomizedPlugSetHash):void 0;return{socketIndex:o,plugged:A,plugOptions:b,plugSet:k,emptyPlugItemHash:T(t,a,k),reusablePlugItems:(0,i.tR)(),hasRandomizedPlugItems:!!t.randomizedPlugSetHash||a.alwaysRandomizeSockets,isPerk:u,isReusable:l,isMod:m,socketDefinition:t,craftingData:f}}function b(e){return void 0!==e?.plug}function A(e,t){return t.map((t=>e.InventoryItem.get(t))).filter(b)}function k(e,t,o,s){const n=function(e){return"plugItemHash"in e}(t),r=n?t.plugItemHash:t.plugHash;if(!r)return null;const c=e.InventoryItem.get(r);if(!c||!b(c))return null;const l=t.enableFailIndexes?(0,a.x1)(t.enableFailIndexes,(e=>c.plug.enabledRules[e]?.failureMessage)).join("\n"):"",d=p[c.hash];return{plugDef:c,enabled:(n?t.enabled:t.isEnabled)&&(!n||t.canInsert),enableFailReasons:l,plugObjectives:o?.[r]||(0,i.tR)(),stats:null,cannotCurrentlyRoll:s?.plugHashesThatCannotRoll.includes(c.hash)&&!s?.plugHashesThatCanRoll.includes(d)}}function w(e,t,o){const s=t&&e.InventoryItem.get(t);return s&&b(s)?{plugDef:s,enabled:!0,enableFailReasons:"",plugObjectives:(0,i.tR)(),stats:null,cannotCurrentlyRoll:!1===o}:null}function I(e){return d.c.has(e)}const S=[...c.iF,4241085061,3956125808,3154740035,2518356196,760375309,446880883,3898156960,3301318876,2278110604],x=["enhancements.exotic","enhancements.artifice.exotic",...c.R3,2241987364];function T(e,t,o,s){if((-2&e.plugSources||456763785===e.socketTypeHash)&&e.socketTypeHash!==n.Om&&!S.includes(t.socketCategoryHash)&&!t.plugWhitelist.some((e=>x.some((t=>"number"==typeof t?e.categoryHash===t:e.categoryIdentifier.startsWith(t))))))return(s?.find((e=>I(e.plugItemHash)))?.plugItemHash||o?.precomputedEmptyPlugItemHash||e.reusablePlugItems.find((e=>I(e.plugItemHash)))?.plugItemHash)??(e.singleInitialItemHash||void 0)}function N(e,t,o,s,n,a,r){if(!o?.socketTypeHash)return;const i=e.SocketType.get(o.socketTypeHash,r);if(!i)return;const c=e.SocketCategory.get(i.socketCategoryHash,r);if(!c)return;const l=1===c.categoryStyle,d=6===c.categoryStyle,u=3===c.categoryStyle||d||l,m=2===c.categoryStyle||7===c.categoryStyle,h=o.reusablePlugSetHash?H(e,o.reusablePlugSetHash):o.randomizedPlugSetHash?H(e,o.randomizedPlugSetHash):void 0,p=k(e,t,a,h);let f=!1;const y=[],v=e=>!y.some((t=>t.plugDef.hash===e.plugDef.hash))&&(y.push(e),!0);if(u&&!d)if(n)for(const t of n)if(p&&t.plugItemHash===p.plugDef.hash)v(p)&&(f=!0);else{const o=k(e,t,a,h);o&&g(o)&&v(o)}else if(o.reusablePlugSetHash){const t=e.PlugSet.get(o.reusablePlugSetHash,r);if(t)for(const o of t.reusablePlugItems)if(p&&o.plugItemHash===p.plugDef.hash)v(p)&&(f=!0);else{const t=w(e,o.plugItemHash,o.currentlyCanRoll);t&&g(t)&&v(t)}}else if(o.reusablePlugItems)for(const t of o.reusablePlugItems)if(p&&t.plugItemHash===p.plugDef.hash)v(p)&&(f=!0);else{const o=w(e,t.plugItemHash);o&&g(o)&&v(o)}p&&!f&&v(p);const b=!!o?.randomizedPlugSetHash||i.alwaysRandomizeSockets;return{socketIndex:s,plugged:p,plugOptions:y,plugSet:h,emptyPlugItemHash:T(o,i,h,n),hasRandomizedPlugItems:b,reusablePlugItems:n,isPerk:u,isMod:m,isReusable:l,visibleInGame:t.isVisible,socketDefinition:o}}const C={};function H(e,t){const o=C[t];if(o)return o;const s=[],n=e.PlugSet.get(t);for(const t of n.reusablePlugItems)if(!l.includes(t.plugItemHash)){const o=w(e,t.plugItemHash,t.currentlyCanRoll);o&&s.push(o)}const[a,r]=(0,m.j)(s,(e=>function(e,t){let o=!1;for(const s of e)if(s.plugDef.hash===t&&(o=!0,!s.cannotCurrentlyRoll))return!1;return o}(s,e.plugDef.hash))),i={plugs:s,hash:t,precomputedEmptyPlugItemHash:n.reusablePlugItems.find((e=>I(e.plugItemHash)))?.plugItemHash,plugHashesThatCannotRoll:a.map((e=>e.plugDef.hash)),plugHashesThatCanRoll:r.map((e=>e.plugDef.hash))};return C[t]=i,i}},14711:(e,t,o)=>{o.d(t,{e:()=>d,f:()=>l}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(36871),n=o(95840),a=o(37082),r=o(37593),i=o(81584),c=o(6203);function l(e,t,o){if(!e)return!0;const s=()=>((0,n.XX)("conditional stats","stat condition depends on item but we do not have an item here"),!0);switch(e.rule){case"never":return!1;case"classType":return o??=t?.classType,void 0===o?((0,n.XX)("conditional stats","stat condition depends on class type but we do not have a class type here"),!0):o===e.classType;case"adeptWeapon":return t?r.includes(t.hash):s();case"masterwork":return t?.masterwork??s();case"enhancedIntrinsic":return t?(t.craftedInfo?.level||0)>=20||r.includes(t.hash):s()}}const d=(0,a.b)((e=>{let t;const o=function(e){const t=[];for(const o of e){const e=t.findIndex((e=>e.statTypeHash===o.statTypeHash));if(e>=0){const s=t[e];t[e]={...s,value:s.value+o.value}}else t.push(o)}return t}(e.investmentStats);if(!e.traitHashes?.includes(4036726046)&&o.every((e=>!e.isConditionallyActive))&&(t=new Set(o.map((e=>e.statTypeHash))).size!==o.length,!t))return o;const a=(0,s.x1)(o,((t,s)=>{if(2282937672===e.hash)if(4===o.length){if(s>=2)return}else(0,n.XX)("plug stats","enhanced bipod workaround does not apply anymore");const a=function(e,t){if(e.traitHashes?.includes(4036726046))return{rule:"masterwork"};if(!t.isConditionallyActive)return;if(711031169===e.plug?.plugCategoryHash)return{rule:"never"};const o=e.hash;if(3511092054===o||711234314===o)return{rule:"never"};if(2272984671===o||1727069360===o){const s=2996146975===t.statTypeHash?1:392767087===t.statTypeHash?0:1943323491===t.statTypeHash?2:void 0;return void 0===s?void(0,n.XX)("plug stats","unknown stat effect in",o,e.displayProperties?.name):{rule:"classType",classType:s}}return c.includes(o)?{rule:"adeptWeapon"}:i.A.has(o)?{rule:"enhancedIntrinsic"}:void 0}(e,t);if("never"!==a?.rule)return{activationRule:a,statTypeHash:t.statTypeHash,value:t.value}}));if(t)for(let t=a.length-2;t>=0;t--)for(let o=a.length-1;o>t;o--)a[t].statTypeHash===a[o].statTypeHash&&(a[t].activationRule?.rule===a[o].activationRule?.rule?(a[t].value+=a[o].value,a.splice(o,1),(0,n.zh)("plug stats","consolidating stat index",o,"into",t,e)):(0,n.XX)("plug stats","item has duplicated stats with different activity rule, subsequent code will not handle this correctly",e));return a}))},17222:(e,t,o)=>{o.d(t,{cm:()=>T,jC:()=>y,z8:()=>D,yh:()=>v,Zi:()=>A,vs:()=>M,OC:()=>k}),o(10131);var s=o(2290),n=o(59816),a=o(57551),r=o(16283),i=o(37082),c=o(37593),l=o(74136),d=o(73308),u=o(72549),m=o(14711),h=o(36871),p=o(73466);function f(e,t,o,s,n,a){const r=(0,h.oE)(Object.values(t));if(!r.length)return;const i=(0,p.c)(r)/r.length;let c=0,l=0;for(const{base:o,value:s,statHash:n}of e){const e=t[n]||0;c+=o*e,l+=s*e}return c=Math.round(c/i),l=Math.round(l/i),{investmentValue:0,statHash:o,displayProperties:{name:s,description:n},sort:y(o),value:a?c:l,base:c,maximumValue:1e3,bar:!1,smallerIsBetter:!1,additive:!1}}const g=[4284893193,2961396640,447667954,3614673599,2523465841,2837207746,4043523819,1240592695,1842278586,2762071195,209426660,1591432999,155624089,943549884,3022301683,3736848092,4188031367,1345609583,2714457168,3555269338,2715839340,3871231066,925767036,...n.BZ,n.Tt];function y(e){const t=g.indexOf(e);return-1===t?999999+Math.abs(e):t}function v(e){return g.includes(e)||e<0}const b=[2223994109];function A(e){return b.includes(e)}const k=[447667954,2961396640],w=[4284893193,3871231066,2715839340,...k],I=(0,l.O)((()=>(0,s.t)("Stats.Total"))),S=(0,l.O)((()=>(0,s.t)("Stats.CustomDesc"))),x=(0,i.b)((e=>M(e.scaledStats)));function T(e,t,o,s=e.InventoryItem.get(t.hash)){if(!s.stats?.statGroupHash)return null;const i=e.StatGroup.get(s.stats.statGroupHash);if(!i)return null;const c=x(i),l=function(e,t,o,s){const n=e.investmentStats||[],a=[];for(const r of n){const n=r.statTypeHash;if(!N(e,n,s))continue;const i=t.Stat.get(n);i&&a.push(C(r.statTypeHash,r.value,o,i,s))}for(const n of o.scaledStats){const r=n.statHash;if(!a.some((e=>e.statHash===r))){if(!N(e,r,s))continue;const n=t.Stat.get(r);if(!n)continue;a.push(C(r,0,o,n,s))}}return a}(s,e,i,c)||[];if(function(e,t,o){if(!t.sockets?.allSockets.length)return;const s=M(e),[n,r]=(0,d.j)(t.sockets.allSockets,u.KG),i=[[!0,n],[!1,r]];for(const[e,n]of i)for(const a of n)if(a.plugged?.enabled&&a.plugged.plugDef.investmentStats)for(const n of(0,m.e)(a.plugged.plugDef)){const a=n.statTypeHash,r=s[a];if(!r)continue;if(!(0,m.f)(n.activationRule,t))continue;r.investmentValue+=H(t,n);const i=o[a],c=i?D(r.investmentValue,i):Math.min(r.investmentValue,r.maximumValue);e&&(r.base=c),r.value=c}const c=t.sockets.allSockets.toSorted((0,a.VE)((e=>e.plugOptions.length)));for(const e of c)P(t,e,s,o)}(l,t,c),t.bucket.inArmor){const e=f(l,n.Yh,n.Tt,I(),"",!1);if(l.push(e),1585787867!==t.bucket.hash)for(const e of o)if((0,r.dO)(e.class,t.classType)){const t=f(l,e.weights,e.statHash,e.label,S(),!0);t&&l.push(t)}}return l.length?l.sort((0,a.VE)((e=>e.sort))):null}function N(e,t,o){return!(2961396640===t&&e.itemCategoryHashes?.includes(3317538576)||!o[t]||!v(t))}function C(e,t,o,s,n){t||=0;const a=t;let r=o.maximumValue,i=!w.includes(e),c=!1;const l=n[e];if(l){const e=l.displayInterpolation[0],o=l.displayInterpolation.at(-1);c=e.weight>o.weight,r=Math.max(l.maximumValue,e.weight,o.weight),i=!l.displayAsNumeric,t=D(t,l)}return{investmentValue:a,statHash:e,displayProperties:s.displayProperties,sort:y(e),value:t,base:t,maximumValue:r,bar:i,smallerIsBetter:c,additive:2===s.statCategory&&1===s.aggregationType}}function H(e,t){return"enhancedIntrinsic"===t.activationRule?.rule&&c.includes(e.hash)?t.value+((e.craftedInfo?.level??0)>=20?2:1):t.value}function P(e,t,o,s){const n=t.plugged,a={};if(n){const t={};for(const r of(0,m.e)(n.plugDef)){if(!(0,m.f)(r.activationRule,e))continue;const n=H(e,r),i=o[r.statTypeHash],c=s[r.statTypeHash];let l=n;if(i){const e=i.investmentValue-n;if(a[r.statTypeHash]=e,c){const t=D(e,c);l=i.value-t}else l=i.value-Math.min(e,i.maximumValue)}t[r.statTypeHash]={value:l,investmentValue:n}}n.stats=t}for(const n of t.plugOptions){if(n.plugDef.hash===t.plugged?.plugDef.hash)continue;const r={};for(const t of(0,m.e)(n.plugDef)){if(!(0,m.f)(t.activationRule,e))continue;const n=H(e,t),i=o[t.statTypeHash],c=s[t.statTypeHash];let l=n;if(i){const e=a[t.statTypeHash]??i.investmentValue;if(c){const t=D(e,c);l=D(e+n,c)-t}else{const e=a[t.statTypeHash]??i.value,o=Math.min(e,i.maximumValue);l=Math.min(e+n,i.maximumValue)-o}}r[t.statTypeHash]={value:l,investmentValue:n}}n.stats=r}}function D(e,t){if(n.BZ.includes(t.statHash))return e;const o=t.displayInterpolation;e=Math.min(e,t.maximumValue);let s=o.findIndex((t=>t.value>e));s<0&&(s=o.length-1);const a=o[Math.max(0,s-1)],r=o[s];if(0==r.value-a.value)return a.weight;const i=a.weight+(e-a.value)/(r.value-a.value)*(r.weight-a.weight);return 3871231066===t.statHash?Math.round(i):function(e){const t=Math.round(e);return(e>0?e:-e)%1==.5?t%2==0?t:t-1:t}(i)}function M(e){const t={};for(const o of e)t[o.statHash]=o;return t}},65:(e,t,o)=>{o.d(t,{Av:()=>f,Fh:()=>m,KA:()=>i,L4:()=>g,Px:()=>c,VS:()=>d,ZS:()=>r,j:()=>h,o$:()=>p,yq:()=>u}),o(89293);var s=o(36871),n=o(11519),a=o(37082);const r=e=>e.find((e=>e.current)),i=(e,t)=>e.find((e=>e.id===t)),c=e=>e.find((e=>e.isVault)),l=(0,a.b)((e=>Object.groupBy(e.items,(e=>e.location.hash)))),d=(e,t)=>l(e)[t]??(0,n.tR)();function u(e){const t=d(e,1506418338).find((e=>e.equipped));return t?.primaryStat?.value||0}function m(e,t){return(0,s.xu)(e.items,(e=>e.hash!==t.hash||e.location?.inPostmaster?0:e.amount))}function h(e,t){if(e.isVault){const e=t.bucket.vaultBucket;return e?e.capacity:0}return t.bucket.capacity}function p(e,t,o){return f(e,t,o).guaranteed}function f(e,t,o){let n=0;if(e.isVault){if(!t.bucket.vaultBucket)return{guaranteed:0,couldMakeSpace:!1};const o=t.bucket.vaultBucket;n=t.bucket.vaultBucket?(0,s.U9)(e.items,(e=>!(e.bucket.vaultBucket?.hash!==o.hash))):0}else{if(t.bucket.accountWide&&!e.current)return{guaranteed:0,couldMakeSpace:!1};n=d(e,t.bucket.hash).length}const a=Math.max(0,h(e,t)-n);if(t.uniqueStack){const s=m(t.bucket.accountWide&&!e.isVault?r(o):e,t);return 0===s?a>0?{guaranteed:t.maxStackSize,couldMakeSpace:!t.notransfer}:{guaranteed:0,couldMakeSpace:!!t.bucket.vaultBucket}:{guaranteed:Math.max(t.maxStackSize-s,0),couldMakeSpace:!t.notransfer}}const i=t.maxStackSize||1;if(1===i)return{guaranteed:a,couldMakeSpace:!!t.bucket.vaultBucket};{let o=m(e,t);for(;o>0;)o-=i;return{guaranteed:Math.max(a*i-o,0),couldMakeSpace:!!t.bucket.vaultBucket}}}function g(e){return 1===e.destinyVersion}},74941:(e,t,o)=>{o.d(t,{r:()=>d,y:()=>c});var s=o(46279),n=o(36871),a=o(72549),r=o(77335);const i={2:o.p+"static/subclass-arc-742dd6.png",3:o.p+"static/subclass-solar-6d2422.png",4:o.p+"static/subclass-void-4e7f10.png",6:o.p+"static/subclass-stasis-10b75a.png",7:o.p+"static/subclass-strand-2a17dd.png",1:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAADAFBMVEVHcEyni5+vsK+ur6+5t7mvsK+ur6+qqqqvr7Cvr6+usK6hnKKvr7C1tLWvr7C0tLSvr7CwsLCwsLGysrKvr6+vr7Cvr6+jnqSvr6+wra+wra+rq6yvr7Cvr7CsrKywr7Cwr6+vr6+vr6+pkqGxr7Cwr6+mo6eysrKurq+xrbDMW7BpKl5nJVfKV6rPa7LOYLJhJVlgJ1XMX53JZaGwgqXHU5DKWaDFd7rHXJixhqexgaC+WKbCUbDGVbHOiMFsL13CUIavfqHMX63Pb6q5TKHKXJ/NZK3PdK/DYKzGX6XTerjUfrvIY7bPbr3AVLS0pK7NYKLQarjBS6vNaKrHWbPQe7KzqrDLW6i/UaDGZKyyi6bCW6DGXa/GWri4mK3PZLTNZ7PGU6DWi8K9VrjDaLHSksXSjsiddpK9kK26TbO8XavFYLvHacC1prC+h6zOaqXBW6qvf6TFa7fUl8q1T6HSdbfOgbO9UqbLecXAVal4MmjHWJWzqK+4nK61oKzOc6TKdq20kqnFUqnDcr3KcLPReMDKg8K3Rq/CZr+9ZLC+VqC3RaTSgsLOfcK+fqnPbqPKcrnXpMuwfZnSpcXOkL/Tn8fOmLywQZe2Vae/XLW7R3vAY5TQirfAUZese5bGbqG+da/CobfYrM3btdF9ZX9eN2FZLF1bMF9kQmpfNGJaJlpiOmRaM2FkPGdbK2RiOVxSKF9mP2NlNGlMIlRIJ0dTM1FOKE1gLmFeOW5QI1ReNVtTIldUL1BeMWlyQGxXL2RSJlVYJFh6QYlUKVJYKlRbN1VbMlWHdYtEJEVaLleShZRNKktKIFNrQmNuP3ydlZ5pOHZ0So2ppqp1OmRhKVxtOWWBTHJQLE5gPlxkNVeYjZpyMGZmR3dhLldRL1ivsK+Ca4ZpPl6KTpVzRmd1XHlsSGx/aIOloaVXJVJ0P2NSJE+YeJCaepJpOlqbeJE/Ij9hOVaaRX+uqqxuNWOWc45LJEtpU216aXyfXIqYdY+sq62qlaNbJ1OAPGiefpejipxzpCj6AAAAKXRSTlMAwNz8CObzA7XVz/6uGKEUh2lTMuKpvf737OH8lpw7HSdgEOtFyPw5+nNO9asAAA+XSURBVHhezNZlcxtJEAbgWIocUcyxUhUH7NAvn5llEDMzm5kpzHzYs6vTlfeuXCInan3Tp6fe7p7eawOukZFrQ10j+/sjQ+4D4ZD7QDjkPhAOse/DB004vL5v34ZQeH16cs75UPe9f68LH85NTl8fBtujOavdYt7f/+0fny6kf5gtduvco1+pvHf38YyZYi74/hXSMs88vnvvV+BuTFlNtwFg9BmFtG6brFM3fi7vqdNkbtnuOLbKf7Z9F4R/bbl+tIxmk/Ppz5u7CfvoP7jygcilPrV9BuGnCH9QdrSQo/aJnzKPN8dMum6pUWD2FI7jLvgMQg5jzBQaS7rRNHbzynm3LHp2jYLg8SiJhLTy/YLPKGQJ5iJVttDQc7TculLieIv3pLwTSyiKshcMut8YfAbh94DEpSIcVpjyeYs4fmWLOzGj8RyFhJII1uvNZnBn55XB91/hCsdhVkh6Irjg0IgzE1ez0lM2s8Y7g+gAuLi4mE4vGvb3/+cw4BZZLhJJhSJnGtFsmxo8b8Gqba7rICEpUiImBXco8FJfO0NWXN3eDiihanUlcODSNtq6MGDfvEmfPQEnJCkWi0kxZmen3p6/y4Uvefd2s96MRUKBAEZlbaVN8wO9uE4a350tBgkkIQVibiDyjGH+LhOurMTqi0dpt9uNCS9u/aAhOgd3padtWndPFAEJgiAlUDAWY1ne4Lt8DrlE/ejoKN3ERMSeE22hbdMD8k1atPhEQhAAUUJgGCQR3H7/OhKmsFhPp9Nxd1AUMntCmYZomRyIb4y29/xMRgLL8wKBH3OqGnwdCJGKJKkZF4Mi2dvL6CGOjg1g/GbNAHEwRMCYxFhECGHFUwa97MBn2BSSSn2MuyV3IJlM+v25BgjNs/0O4ridtreMBEI4BYgEE5ZlRaYTn/GmcBz+uBxIbQeSL/x+/+eK1mZ7f3flvgkcS4UwQkjACkEsxgKPDPvRcZfxxz+WMbcKCWYqfr+3+JU+OKb7ffgeUN+TE4J4nkcEC6oqYARAQ34dZ7gcX2VRPBDKZKLrFa+3+OWcCh/053OdlihQRiwRVIYnAuLbvm6Fb5ZXZT4eeJGJRtdBWCxu9CW8r/nULABlEMoIqYyIEGr7uhe+Wt7k42w2m28B3/pcvXd5nPocfDKLiRBGGyq0uUarPX89CVcPVTGcz/kA6AfgW5+DCnvZlOt26hNCyWS2hAlSadXU2mn7+6BH4XNRlMO5XNTvr3gBqGdo7+HszdL+oqonBBFiIoOuVlPV03Z+PQt5UZXD0GN/xe99S4V0Dme7vx9m2F+mWvVAgFBhWQP21F/ji314CMBSVGsyFdJNMXd7UyZHwfelqgPzu6U8Ug3z10eGh6/DpVIUal2LsPhlCa5ed3d52gL346wKFcqUSvkwFG/w9SWU8/lcPurzVYpafYWbYpnuZkFsAClX9QApUJbDssHXl1CW5Xe5vC8Kr7WXCsvAtnWxKE6ANDzA032yfAhl9PU5hxvv3uXgnlQ0o7cBQmfHvnkYQJcAvFAoWWJ5TVerGe5HnxnWDjc2AAhCLUS6yqPzHfoWTDCAJ7ovu7saPz4G3nE7v8EJc75otAUsnsAYmhY6A1rpAFJe6Fm2BMC1NRAaff0LKdDngy6DsDWG1o58U9Bgh9Li5TdfPz8GYds3SOFmLpcDoUb8vO6CJk914Lthow0ORZ49+720u7u7CcK1Ne2+/c2u2cW0VYZxXFdQQTeBgTpl3myonNIeTisnlZicUiwnhDRtU6EBE9qSjHEjxCy4SA04My/VuEv82M2umhkviCRkxqxpZdm8MBmNpiO4mDiFKsavxq8z9f/CzJN4Tk930fNxwXt7bn75P+//eZ7zPG+N+MgpRfhkdVfFT5fLLMgNtzFzaEIJuYYxQFbJbwgCA9zeqi0fdV9fbX9QXEW2Qd0rl8vXUFCaqvcwrSgh58GXVYQNSVqX1ra2KL61JtwuFlH0oCAD/BJObq3a17SB5RIEzHQLgrR2E6eG8VX32MUiy4bsFwXnEpjbqs3/6uGQi4yvGwLuAKr0q+k93N4GYW6XcBm9Yf3+6gJ+gwB37wD+srZ2k+YvhhGu5nNf5BjhbyShnoAIMPh2CCXJAD5V1QNhPpdbLpVLVSU8AJpztwC7upxOp2p+YIhTNvKX8wywfA7Eep1h3b7/biD42KH5uJGEUkFQoGGpVMohW++r08mBOxbOZEDXbTwfedkpKEqOAZaYkXVyYSNyYP5CplDogoLG8xGhICibmwzwMnJhY+X9EarwlQvZAu6eSj+jCZVdws0rqMiP6/Spj9zIZhig0xw+mtvcIty88WflzvVuWOSzbEYAoMq/5hDiKOitH67QMrQ4YBE42OmUJOIzj1AAoaLAJk+0VGxUr56HRcC3biIfebkAxsLHVys2rizCSwCEgseJzzzC4+tSAeqwGGvvzx9ChJdWAEjxNZlwTnJK698jxpo7+sPw8PsrFwFoOh9piPM5fHxYC7ADZW5pJaviM5twDuWuQ6sOtyJL4wpaw0dRnpv7B421Rj0+6tjpBJ3kD6sIUSEcR9WA7ewKZml/bh0hu4TtmlnwXkWg+mYh4beaA81GZMEC8VlJ+JdWR1NXD49QfC0lhEvqVS456MAHq/nozZJDNc5sVr1vspawWWVi4rMFocrG9xGfLQiP/B/wCPFZfTTfcN5JfHYkJD57EhKfPQmJz56ExGdPQuKzJyHx2ZTQ/oBEuHcJDbDxXiI0pJTsFWPis3+7Rafd7g1rs81a/mb1X52tfpocB7X+i8fs89t5qE5rsjD+HhFay3e9QXM2M79IhBby9YUxm9GcbnX6idBCvuc6MWLVng+eWSRCy/hSb7D5oPaE9dSi33+GCC3hE8Xx6/CI9ow67PcToSV8vWIwiCvYUWHK3/m2NYTEF48Ez9IVVO9JxhhguteqNUSfKx4YnKI9iXrTNN/j70n7fKShqXxPxlOueHyeNk3qTDji68FJ9xChmfEdCKRSr46OIAtW3naOMUDI2Gv+MvEFjuNcLhci7GipvC+eT6eZhD4PEZrH5+L4AT5M+2KtjXvnWR8IfR4PEZoU3wDk4xKJV+Dhe/TeLIz7fGnYRBSDRGgGH8/zHJdIJpGl73pU79XHy15PMOgLijh9RGi4fxM8n4gm3O7TsEiD/ruZKU8QAY5EIsEUERqtXyLBBxLRqNs9BYIm/ZdH4QjwvLF+OSYSocH6DQ3NRnmOj0aTz9Oms+LbrWmmX0weHpYHRXKKgXxPTZ6YfD3Ew8OJaeAeqPb6LezxwCIx+cV3ZJEIDdTvxFsTr0HAQIDjIeCh/VXfD07DIhHvjDwsDwyOEqFR+S80ORGChSEgP03v0atIONPfL8vumNfrJacYlZ+ToVBodmgWIU6SgPoSTr25gCvYHxPfTQ26Rulfzwi+Z592cVxo8tjEkJtnFm67nVfAIwsz/fKC15N65uRLJ08fO2XMI9t/2zu337StOI5va7eu07p061Yp0e7dtBoJ98FRDTW2NCCObcwlYG7BEMIlCreEmrsKCYGEWyAhyl1N1Nsftr9he5q0lx2y05eqqbg4aTWVF56QPjq/3+9Yxuf78Vn/mUwRjVKJBiiOy/T2wPGxvs5Rl6aw7VXM43IVCH0ovAMJ5eeb9UaCJlKhRQ0ZWkuX4DnqPk6iI1uWbfu053SeaOkLEo7DKsvOF6/XSfDxtw2oVrmFwJPo/ZzlT2Db2WmVCixirpBOS9QkJJS3vsFIfVMjKqx8IOBXaM3wLH9/aQifzr6N2bOYZ73cbOLdIzjLsta3eix1hQq6IYgcp634YBqizzwJsoRhdqqswrIH2WY0nW6q5Y5rPGw04vvPuQrd7qC01tkr8Nc/D5DIKT7G7Hb2VPWkHMpt6qN4dVLewIs6WI8E8zWpQhrbGXbeXYSJnP4zTSvbOh176vHoN9PpKE7VcLWckaG1cDVSr9c3K6Ripota7q/Aa8ggqbDS9uqyimXT+qMmvr9PdWpwDWXpP2p/IRaJAEDhnk5no3sNOHF1wFwdsri6qmp5CKIp1XZ3KGqvCQllqG8+/DzVCB6bcjlwgZvWLYEGHL81cDLRsdgDZEIhqUqFw3v40ej7Ibw/DzZSO7VGoxEL5lxKdHrLAZOJg2Y7ka1HrM0d6uJSSMKr0eNqF1Z5xPUD149qJ4/j8bgkzjvt2SLMdg6ejnU8AQ2ynq3V8OZRWs/Xak24H45WX9B9wfjCTiof76JO+sQB07HD5IsdJ+Xpkz0qTIUAoBSmonpIOML1YwGMRxAAvniRMhoNhqwDxiaHS2gje9TB7p69G4pGkyE8lNPrH0LCofdnquPVeGMxQLjT2Ujt9/gmxobPuCMH+89P3AzDuJOtNCGKySis8pDz4fWaTCbSC754KkUt7CI9vh9GsQQgu7tZtkUwol5/tN7hCWK4KsP108wZTXW9VUOaNDwVbh+c8Y3oMUCelQFg6/Awjafax9FkAV+DhIPzeTWxhVps83DTdCyuh3dG5XtZ5UUPQZweHkapBem4yjB7u7PDiSDUmnjc1EnlIwDQK/KdZ7C+I7s+kDWCeKxqMeshMChEEsfdk8OoNNbyVikf9OY3+IISlFjw9fiuj8liS1nBMMxmwzyMlNTnwEArIOFA+4sxZjU1YiaSR1FaaQ2uQFuKPL6Z4tIU62ZZN58DgIwozkHCQe7fvKTVSvIxQXtPq3U+TUDfjFzGHsTn8bjdbrHgIhg37aeV6sGEOOoZBSmQPUBeW9HQpV55x7+U1Xlk3mLZZKFFJBn3OudXGOAs97l+G50ZhSBoNIIgiBWwfODz0S2ZrVFgEV0uF8swIa6NooEAXMO++o/cCGzMiILGqrFamRICrVGye7eKsy1QYcafyfgzAQMK+7CP+TUoZ9obRr9gteZy6uKZX+2nizGXmSddrN+P0k6dgcugD/oTg82GA1pyzmg0ilaX2gzNZRfmfjMvoaiNVVp0HEdPqftRqz3g2pyWFMAflPyWGbrfLtSel1iUkvP3l+2cxTINCd/4fMvJGfxKJc/zi4mz34/fvHbR/kGH7/Gj8ondYtHpYJXf9HyL5gKcc/5pqfgf3jdjl2FwRMzPDuyYZXnZAgnP5bPRqCF8sLiC/If3+Y1Lc2AiCV8ZAE5BwnP6z7ZsK/uKgO5sdL+4cbkWUSRRWlp+/fMUyLe6VEpAuk+u37x6iR7WCTDSsNil2fM0p/+YkZce1olPf7t8k+3dc0S2r6ps707c/ura23UBn6/avTIOXMBv16Z8G9iUXysrvjJ+/fZ3v1x9R3zUd17VPd95+z7qcwIfMCjwXjk+mrT9/6m9f//iAEj44fuXV7xTr//4F6gBPJ3JodLwAAAAAElFTkSuQmCC"};function c(e){if(e.sockets){const t=(0,a.tp)(e.sockets,457473665),o=t?.plugged?.plugDef,s=o?.displayProperties?.icon;if(s){const t=e.element?.enumValue;if(t&&i[t])return{base:i[t],super:s}}}}const l=(0,n.B8)(s.gB);function d(e){if(r.c.has(e.hash))return null;if(!e.itemCategoryHashes?.includes(1043342778))return null;for(const t in l)if(e.plug.plugCategoryIdentifier.includes(t))return l[t];return null}},18942:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(10544),n=o(59963);o(18374);const a={entry:"ActionButton-m_entry-riJK1dNz",actionButton:"ActionButton-m_actionButton-RMJmuSye common-m_resetButton-o3oKAnUN ActionButton-m_entry-riJK1dNz"};function r({disabled:e,title:t,hotkey:o,hotkeyDescription:r,children:i,onClick:c}){return(0,s.A)("button",{type:"button",className:a.actionButton,onClick:c,title:t||r?(t??r)+(o?` [${(0,n.vP)(o)}]`:""):void 0,disabled:e,"aria-keyshortcuts":o},void 0,i)}},80971:(e,t,o)=>{o.d(t,{EU:()=>F,m:()=>G,iu:()=>Q,FC:()=>Z,pq:()=>K,ov:()=>W,f3:()=>U});var s=o(10544),n=o(68807),a=o(19654),r=o(2290),i=o(74217),c=o(27699),l=o(28860),d=o(62447),u=o(65),m=o(18942),h=o(69260),p=o(8761),f=o(34966),g=o(20169),y=o(92369),v=o(13526),b=o(18374),A=o(60440);const k={inProgress:"LockButton-m_inProgress-OE11RRFH"};var w=o(94518);function I({type:e,item:t,disabled:o,noHotkey:n,children:a}){const[i,c]=(0,b.useState)(!1),l=(0,y._)(),d=async()=>{if(i||o)return;let s=!1;if("lock"===e?s=!t.locked:"track"===e&&(s=!t.tracked),t.pursuit?.recordHash)return l((0,h.Jd)({recordHash:t.pursuit.recordHash,tracked:s})),void(0,g.EV)();c(!0);try{await l((0,f.ic)(t,s,e))}finally{c(!1)}};(0,p.E)("l",(0,r.t)("Hotkey.LockUnlock"),d,n);const u=function(e,t){return(0,r.t)("lock"===t?e.locked?"MovePopup.LockUnlock.Unlock":"MovePopup.LockUnlock.Lock":e.tracked?"MovePopup.TrackUntrack.Untrack":"MovePopup.TrackUntrack.Track",{itemType:e.typeName})}(t,e),I="lock"===e?t.locked?A.hz:A.RQ:t.tracked?A.Mt:A.vf,S=(0,s.A)(A.z9,{className:(0,v.A)(i&&k.inProgress),icon:I});return(0,s.A)(m.A,{onClick:d,title:o?(0,r.t)("MovePopup.LockUnlock.AutoLock"):u,disabled:o,hotkey:"l",hotkeyDescription:(0,r.t)("Hotkey.LockUnlock")},void 0,a?(0,w.jsxs)(w.Fragment,{children:[S," ",a]}):S)}var S=o(12912),x=o(21402),T=o(50784),N=o(57551),C=o(8935),H=o(12462);const P={itemTagSelector:"ItemTagSelector-m_itemTagSelector-g1WHwbjb",item:"ItemTagSelector-m_item-P2wsn6dh",null:"ItemTagSelector-m_null-QekOddkl app-icon",keyHelp:"ItemTagSelector-m_keyHelp-rSVvfBy2",minimized:"ItemTagSelector-m_minimized-d1eXbXRg"};function D({item:e,className:t,hideKeys:o,hideButtonLabel:n}){const a=(0,y._)(),i=(0,C.d4)((0,d.Y2)(e)),c=H.Tw.map((e=>i&&!e.type?{label:(0,r.tl)("Tags.ClearTag"),icon:A.hj,hotkey:"shift+0",sortOrder:-1}:e)).sort((0,N.VE)((e=>e.sortOrder))).map((e=>({key:e.type||"none",content:(0,s.A)(M,{tagOption:e,hideKeys:o}),value:e.type})));return(0,s.A)(x.A,{options:c,value:i,onChange:t=>a((0,T.NA)(e,t)),hideSelected:!0,className:(0,v.A)(t,P.itemTagSelector,"item-tag-selector",n&&P.minimized)})}function M({tagOption:e,hideKeys:t}){return(0,s.A)("div",{className:P.item},void 0,e.icon?(0,s.A)(A.z9,{icon:e.icon}):(0,s.A)("div",{className:P.null}),(0,s.A)("span",{},void 0,(0,r.t)(e.label)),!t&&e.hotkey&&(0,s.A)(S.A,{combo:e.hotkey,className:P.keyHelp}))}var E=o(98313);const R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAQAAABtnpmgAAADr0lEQVR4Ae3ahXPjOhSFcYfKzMy0zMzMzLxl0D//BtvB7y1mxpV1YrnK8pwy/iLJ11dqo+i/aDNQtqLNUPmk+vSCXzCbvzqskzmmvmSUYYbI/TBCge4vGWD4S2rjsEOYWK6T/yGsIvcxsQwomKaFZ2mYlavOCS0QeSSnWf4www3HqB2mPTWrj1HJ8ocJ2kleU5OK1cBHJhJZDzAZYYJ2EsOtVFfcUwwTmqVhezHOXCdnwz7lcEXYJUwCrMRDjDN9cViOyxg5ajZsg1HFKj/YCT1asZxKqvxnxTfcJG/BDEu0ikW/lgDTrGOuW9JxTbNghpeUnIveWLCinMQD6l55WNMsWPJFkOcRxoKptbXB7ko38QMpaCdiHz1owS5iLFipjLWzznSa7mI3G5IWHzHDAwu2YsHUaK0xkbbtmWYd48gt8r4wyVpl2KcfG2MN48hdznjBZsQkLtPv2yiOsCoepQ9sCePIIt1ZOtgBljE6GqbDPJ1ZW+tuFqsGe0/bTnr+Dj5WBfaOlp1uRtr4EBz2msYQu6Rm3gaFPaeOyA9Wm5B6WuhnPhjssaPFlLBZUVgDwVT9V1M5ztpPgS0xUGmNDbL8w2HzdKVZ/N0sVBOmK5q+Ktt5/8Ngr2jyKReNvPohsGfU+daxOp5UHfaAUpYCW+IiN8q5y31HTlvf+YjnKXKBwm97PuaVf7CtXxK29W8q/8HK/ZvVX9XQ7Uw7LeXks8IaeJmuN7A2fh513x/WwjtMGJi+U2qYaH0CwGRvIWFiqxseJroxDRtjFRMepvpXARMbkpAw0fFr2H6MSACY2CMJ2ATPHfkQDHafG59ymYvbcp4GB0yfYASDvaA+VOXvZjHoVL6mKQBMlA4F03lP605hg6xUZfHP0+EBkyex/jCdBbqywqZZr2q5WKIvC2yPOO1/5QFb5z7GkRUGfGH7MM6cZcYLVhS0VUZ8YIclK/KERRS4K2r+ZFrYacE6Q1QRNmDBIjlq68ykgZ3VrATYbvsvuxYsosAdjDP7NSzHZc1KgJ0nslLgmQWrRDvohhW4qVkJsCeOg5EmFixYJdqpZFiB25qVAJsX5/X9rFmwSrTzNqwkFqfhNFECbJ1+IpEDNkxfoZ9ybjtsVLMsWHnRy1xOgOm5WdAwm2XDLkpS+SKwYJKmYfaCtGCxRa/SzEciQcsIO0GUmKHYotcZcI7mHQ+YGK3wKXDLA6ZZ4Wl+sBWOhQRI2hWef8pb3n3Ke95sh+Wp/ZTib30+9g/2i/5L8/9eoROA098vPQAAAABJRU5ErkJggg==",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAQAAABtnpmgAAADnElEQVR4Ae3aBW8bQRCG4TXbZWZmSJmZuQ0zOGzaP19hInzLOLm5XWfK1SdFYHq0pMzcOvfaLRhl0S1Y5a3q7R9+wyz87rCNnPycoxxKyEFyuDZTZHdQKt/CzuGD0k2hLVaZfnxQdigwNQOUo1mrGcObw0RGWRXFWs8k3gqmp8q6YNYWZvGWMD0zbA5i7aSGt4bpqbE7lXWABt4alp4GB1XWMZr4Hwlrco3zyHRwnJyyE68l5LHdiI2wAmeUNUxYTuUYq0xY65myXmNV1i6btZmZH7H4p9kQj5Enmj3MM8OmeJA80exhnjm2tcXaS8PiuBilUzlYd0azDisn2uMY2CA5XioH6/4o1lGVlY+DuRTawWBWBy2FlSGrw44ImCOvTGiTo0GsC/jEPCCDE7CN38IcjwXMkeOF8sWnU1nnlU/ff8cSsCuyGMkzKGBptHMq62YaS8A6yUiYYzWzApZGu5aAynAvjSVgE5STyrfdtATsHe05PjG3l2Q9TGMJWI0NonwTq2II9x3tZdSoPVPefe89S8IOphW8T8SIpY1al3h3LYUlYVdxabACIxImaTpMZUlYJ5l0mGM1nbhwmgqTLAmrUg7sXYjiTO7QeNjdxP270aKpkuNZKEwfLftuT1bQFJhg2cLEqF3lIU/e5xWdXBfv6GHwbXrpfJ+rf2V/LCL/YYu/JWzx/1T+h32OaBcX2fw261jzPmUyPwtWpIe5t2l8bh24b7JH1ELZnwErisa4ApM0e5hkKTCRh2QsYIcS3l5iAB8N00dtPxtCYZuYS2DJ0VJgIk+WpB1hjFIIrMwEDZ0VD1NoR8L+tc7wCi9hchJ1mNqtkDDP5TTYdTwSVmYwoh7PcB8fPGpHQsq3A3gBU0ZL6WDcUj7xlKyAqQXvRmoSprJaHMcl5LpOEzDPGEUkjBLjeAGTrPAu2XmdJmCe57KpkuElXsBKDC6rr3hKpwmY59L3sN14ASsztOxO7ElaGk3AZr6H7RWwCsNa79qkMfyMbCxMY8V2+/cprfSXHI+BNRXWFOvb6PLXle+LgNk/UdrBPD4hBrAxVhk8STKA2T613MC0BczgvoXIOiatYT0UcQZZzbgl7CV5nFFWMGIHG6JzyTxTVt1exqgyh0zdAKZmlq3mty4MYFXWmT3VNYSNssrw9DKDDVAxvwtlAOumaH57zAD2nJz5fTsD2AOybd5QfMlEYiY/HyVj38OylNT8b9z9/rDf9krzGwYvE5TMrbl5AAAAAElFTkSuQmCC",V="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAGAAYAMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAFAQIDBgcEAP/aAAgBAQAAAADLJCvWEf5h8aOjV5ggEtDqrYQwpqSmu7Tq489m4gVG2UyZ0ITITzwELiY+982r4F7f8nfSmxa9oGKAIE6rBtOeZGwvrPfm9f8AWLSB2SCotDClL3YVrdGGGc8ZYThesvb6zCAVfsk8g3tYq8hKOHg6hA5ev3IhIxyiRazeaq+iQl//xAAaAQACAwEBAAAAAAAAAAAAAAADBAACBQEG/9oACAECEAAAADIngHYh5+ehfTxtTmXt9xKy24NUsEzdjsqD/8QAGQEAAgMBAAAAAAAAAAAAAAAAAAMBBAUC/9oACAEDEAAAAIaue1FiwVkP0M00841+zjIdYWNrcVoJtf/EAEEQAAEDAwICBAsEBwkAAAAAAAECAwQABREGIRIxE0FRYRQVIiMyM1JxcrLBQ4GRsRA1RFRioeEkQlNjZHOC0dL/2gAIAQEAAT8AAoAHntVlaQ5d7e2tCVIXJbCgoZBBVWpmGWL7OaabShCVjhSkYSPJFYoDPPYdtEcPL8axWlY7L9/hNPNIcQouZQsBSThBq6NoRc56EISEpkuhIAwAAo0QOryu/wDQCByH6LB+u7YP9U18wrVac6iuAHPjT8ophhx55DDTZcdWoJQkdZNXHRl2t0NcqW5GQ2j+Pck9QAHOoGirxPholRHIy21jIw5v7iKdZW08tpxstuIJSpJHIjqrR6MakgA8/OfIavX62uOf3t35zXfRORyoHtoDr51YBi92vJ/amvmFasBVqK4JHtp2HwitJ6bYsUFd0uZCH+jKvL+xR2fEaXd7dqS9h65zER7dGOWmFE5c99NXm26cvXHbpiX7ZKOXGU5JaPaK1fplq8w03W2YU9wBRCPtkVo3I1Lbx/ufIqryAbvcsfvbu3/M0U9uwpR6hSRtk7UlWOW3f11YCDe7Xt+1tfMKvxCdYPKUcASWiSe4Jp1b+tLmY7KlIs0VfnXBsX11riVp62o8XW+2xBKI844G05aHcfaNaJkadurXi+dbYnhiU+SstpBeT/6FRXX9G3MQpS1LtElfmHjv0Kuw1pY51bGI5dK98iqvRAu9y6/7W985oqz6W/f10RttQ7jQNaW03c3psSa4jomWnEOAr5r4TnYVqNCHdVyWt8OPtJPZulNaivsLSlqZt1vSgSVIw0j2AebiqdddddWtxSlLUolSickk9Zpl95l1t1lakOIVxIUk7girDebfq+zvQJyEmQlvDyB/JxFaVARqqIj2FvD8EKrU+mrlFly5iUdKw46tziRzRxHPlCiaO3M0k1pey2PokSW3kS3hzUoerPwUldapLsTU773D/fbdRnkcAVOnyp8t6VJdK3XFZWo0DsOP7u2ic+jy/nVvuMq3TGZUVwodbOUn6HurSAdf1Ky8E7J6VxfdlJFKXWqbLYktLkl5MR85KeEesPwUTQUfdVnburkxHi3pA8OtG2M9p7Kb1LEghmPc5rKpXJwspJSj46utpt18ioK1A7ZafQQeff1ip2jrxFJLKEyEe0g7/gactlzaOHIMhJ721U3bLm6fNwZCj3NqqDo27yiC+lMdHtLOVfgKttsttjhrKFhIxl15wgZx2nqFOakj3BD0e1TWUygcN9MkgL+Dvq7N3NuY54xDnTHmV75x2HsoqJG+9JXjnv3GoV3gT7f4vae8WOnrR6tfxK5ijpq4MyujkBKGgONUgnzQQOvPX3Co1wfgJkz4DqmISSltpp3KxJWOZKc7dpIq36liyHRGlI8El4B6Jw7HIyMKoqIyDQXvgCrhqeMy4uNDR4ZKwT0aD5I4Rk5V9BUmc9OEafcHjIhucTbiGwUeDOHuB37QTSdM3F6UW2AlTWONMkHzRQevNXC8QYdu8XuOm5ugem56CPceZpS+zYU2kqUlIBUo8kp3JpFtjxAlV0dKVHdMRrd1WeXF7NNz51tYWZDbKYzpHR254layk9md0/fQahTpCHoyVCVHZwzbn/ICFdRAxuKueILDrMnDs+ThchxQz0YJzwo7+01aNXT7eENO+fjjYIUfKSP4VVd9W3G48TSPMRzt0aDuofxKq1EzmG2Y/m50XLkZxIxxjOShff2E0puDAfdcfQVypDPn7cx5aVKG5J7KcnzrmyhbKGXIrXrLcyS2pKR17bqpdsYlhS7W6VkbqiO7Opxz4fapxJSoggpUNik7EYq3l5MRK4qEQm+EB6c6fKJ6w32dwTUQlIWq2tBAT624ycDHwZ2H51EV5xxdtQX3hu7cZOyEd6eLl7zU2ZBZStEdapMlagXZq88x/h/9mo2pG5LSY14Y8Jb5JeHrUff11L08pTJlWx8S4/WB6xHcRUXTwaZEq6viKxzCPtV+4VK1KlhlUa0MeCs9bv2q/vqFMgvJbQ8sxZSCS1MRnc/5n0UKlnDra7igxnzu1cY27a+88PP3iphKujVcms59Vcou+fjxsfzq4qeVDUuY2iajhIZnNHygRyDh6+8GmFMLEUOqcuEjo0BqOnPRtjGwUfoKlyGWyk3N4PuI9XCZPC013EjYd4FTLpKmhKCoIaR6DCBwoT7gOdcVA5NRJ0mE8HmHlIcHsn86lTX5rynn3lLcPWo/lRODRVUK6yoQU2FBbKvTYWOJCvuPKokhh0q8WvJYcX6yE+eJp3uBPP76fLLYlBpTlvkdGoOxlk9G4MbhJ+ho3V5uMmPGQlhJSA4pHpuHG+VfSs0DQUD6f9aKuwjFZNZNBWRvgiirA8j+tZomk3V5cZUeQlL6Aghsr9Js9XCr6V//xAA0EQACAQMBBQMJCQAAAAAAAAABAgMABBEhBRIxQVETMnEQFBUiI0KywuFhZIKhscHR8PH/2gAIAQIBAT8Aok+klGdPNycfiFSXEETojyqrP3QTqaiuIJWdY5VZkOGAOopSfSMgycebr8R8rnG0Qelq3xCrcvJeHtt9ruVfcx7BD48DU5eK8HY763cK6h8e3QeHE0hztJz92T4j5Ly7S0i7RkZugArZ19LeX8rMAp7AhAPEVs3Z62cRyd6V9ZH6mtpbPW8iBU7kyaxv0NbRvpbPaMbIA2YFDg+Jqzu0uohIqMv2EVdPIkfqx7wOjE6hR1I51Js+IMklrcES5zvDu5PLThR2vfW5CzwKTybhmhte+uMrBCo6txxUez4ctLdXGZc53j3cjlrxq2kd4/Wj3caDkCOuOVSTMcgaDx/flRh7RzjIfmR8w6fnWI9wxXUY1PeOqnw6Vux7gitYxgHvcFH80IRG+uS/In5R/TUczDAOoOg/3nQhJbLHH6/SlVVGAABRAIIIyKGAMAUyqwwwBFGEhsqc9ev1r//EADIRAQABAwICBwYGAwAAAAAAAAECAAMRBEEhMRITIiQyUbEFECNCcYFhYmPC4fBzg8H/2gAIAQMBAT8ArHd1/UKjCaKRUOdMJxBYoPKsd3H876HvDuv+09Kngt9nBbi7/O1DDb7WG3J2+VpO6x/yvoe7TaeV+50IofWtZpYafSwDLm4Mn7VeutyRtE5FWbvVy4mYvMrR6SGo0kiWTFxYv2K1GnlYudCUh+laeEJz7VzopyOSvkO1Q1dzEoamx8Plh8WDfjR7K0l8ZWbyG5zxT7K0lgJXrsnyOWanq7mIw09j4fLB4sO/CtRCEJ9m50s8XdHyzvVuxEwvFTJw9Df0rrurhxww2H9r/Ss3On1uluPA8HKQfib1m4TbuquOU8HOSf8AKb3WQ4YIbh+5/pVyxFyhhDLw9Tb0qV8I4iC7+X8/epSlJzJVoURHCUqqrlqMpRcxUajfixxIw7Y5fx9q/9k=",q={entry:"ActionButtons-m_entry-LZgSV1l7 ActionButton-m_entry-riJK1dNz",label:"ActionButtons-m_label-US8Iulse",tagSelectorLabelHidden:"ActionButtons-m_tagSelectorLabelHidden-xLuS3UlO"};var O,_,B,j,z;function F({item:e,label:t}){const o=(0,C.wA)();return e.comparable?(0,s.A)(m.A,{onClick:()=>{(0,g.EV)(),o((0,n.YN)(e))},hotkey:"c",hotkeyDescription:(0,r.t)("Compare.ButtonHelp")},void 0,O||(O=(0,s.A)(A.z9,{icon:A.b9})),t&&(0,s.A)("span",{className:q.label},void 0,(0,r.t)("Compare.Button"))):null}function W({item:e,label:t,noHotkey:o}){const n=(0,C.d4)((0,a.A2)("autoLockTagged")),i=(0,C.d4)((0,d.Y2)(e));if(!e.lockable&&!e.trackable)return null;const l=n&&void 0!==i&&(0,c.u)(e),u=e.lockable?"lock":"track",m=(0,r.t)("lock"===u?e.locked?"MovePopup.LockUnlock.Locked":"MovePopup.LockUnlock.Unlocked":e.tracked?"MovePopup.TrackUntrack.Tracked":"MovePopup.TrackUntrack.Untracked");return(0,s.A)(I,{item:e,type:u,disabled:l,noHotkey:o},void 0,t&&(0,s.A)("span",{className:q.label},void 0,m))}function U({item:e,label:t,hideKeys:o}){return e.taggable?(0,s.A)("div",{title:(0,r.t)("Tags.TagItem"),className:(0,v.A)(q.entry,!t&&q.tagSelectorLabelHidden)},void 0,(0,s.A)(D,{item:e,hideButtonLabel:!t,hideKeys:o})):null}function G({item:e,label:t,actionModel:o}){const n=(0,C.d4)(d.pl),a=(0,u.KA)(n,e.owner),i=(0,y._)();return o.canConsolidate?(0,s.A)(m.A,{onClick:()=>{a&&(i((0,l.wO)(e,a)),(0,g.EV)())}},void 0,_||(_=(0,s.A)("img",{src:R})),t&&(0,s.A)("span",{className:q.label},void 0,(0,r.t)("MovePopup.Consolidate"))):null}function Q({item:e,label:t,actionModel:o}){const n=(0,y._)();return o.canDistribute?(0,s.A)(m.A,{onClick:()=>{n((0,l.mn)(e)),(0,g.EV)()}},void 0,B||(B=(0,s.A)("img",{src:L})),t&&(0,s.A)("span",{className:q.label},void 0,(0,r.t)("MovePopup.DistributeEvenly"))):null}function Z({item:e,label:t,actionModel:o}){return o.infusable?(0,s.A)(m.A,{onClick:()=>{(0,i.a)(e),(0,g.EV)()},hotkey:"i",hotkeyDescription:(0,r.t)("MovePopup.InfuseTitle")},void 0,j||(j=(0,s.A)("img",{src:V})),t&&(0,s.A)("span",{className:q.label},void 0,(0,r.t)("MovePopup.Infuse"))):null}function K({item:e,label:t,actionModel:o}){return o.loadoutable?(0,s.A)(m.A,{onClick:()=>{(0,g.EV)(),(0,E.YA)(e)},title:(0,r.t)("MovePopup.AddToLoadoutTitle")},void 0,z||(z=(0,s.A)(A.z9,{icon:A.Xv})),t&&(0,s.A)("span",{className:q.label},void 0,(0,r.t)("MovePopup.AddToLoadout"))):null}},40974:(e,t,o)=>{o.d(t,{N:()=>N,A:()=>C});var s=o(10544),n=o(11071),a=o(18374),r=o(80729),i=(o(10131),o(45839)),c=o(2290),l=o(20169),d=o(40934),u=o(92298),m=o(36871),h=o(57551),p=o(15353),f=o(75860),g=o(36839),y=o(48451),v=o(8935),b=o(87411),A=o(50279),k=o(62447),w=o(58062);const I={grid:"ItemPicker-m_grid-qtQ8KgXv sub-bucket",itemPickerItem:"ItemPicker-m_itemPickerItem-fiCdFvFG common-m_resetButton-o3oKAnUN",classIcon:"ItemPicker-m_classIcon-WpHBrn9U"};var S=o(94518);function x({prompt:e,filterItems:t,sortBy:o,uniqueBy:n,onItemSelected:r,onSheetClosed:i}){const[l,p]=(0,a.useState)(""),f=(0,a.useDeferredValue)(l),g=(0,v.d4)(k.V0),y=(0,v.d4)(u.OL),A=(0,v.d4)(w.s),S=(0,a.useCallback)(((e,t)=>{r(e),t()}),[r]),x=(0,s.A)("div",{},void 0,(0,s.A)("h1",{},void 0,e||(0,c.t)("ItemPicker.ChooseItem")),(0,s.A)(d.A,{placeholder:(0,c.t)("ItemPicker.SearchPlaceholder"),onQueryChanged:p,instant:!0})),N=(0,a.useMemo)((()=>t?g.filter(t):g),[g,t]),C=(0,a.useMemo)((()=>{let e=A(N.filter(y(f)));return o&&(e=e.toSorted((0,h.VE)(o))),n&&(e=(0,m.hS)(e,n)),e}),[A,N,y,f,o,n]);return(0,s.A)(b.A,{onClose:()=>{r(void 0),i()},header:x,freezeInitialHeight:!0,allowClickThrough:!0},void 0,(({onClose:e})=>(0,s.A)("div",{className:I.grid},void 0,C.map((t=>(0,s.A)(T,{item:t,onClose:e,onItemSelectedFn:S},t.index))))))}function T({item:e,onClose:t,onItemSelectedFn:o}){const n=(0,a.useRef)(null),{longPressProps:r}=(0,p.H)({onLongPress:()=>{(0,l.h3)(e,n.current)}}),{pressProps:c}=(0,f.d)({onPress:s=>{s.shiftKey?(0,l.h3)(e,n.current):l.$Z.getCurrentValue()?.item?(0,l.EV)():o(e,t)}}),{keyboardProps:d}=(0,g.d)({onKeyDown:t=>{"i"===t.key&&(0,l.h3)(e,n.current)}});return(0,a.useEffect)((()=>()=>{l.$Z.getCurrentValue()?.item?.index===e.index&&(0,l.EV)()}),[e.index]),(0,S.jsxs)("button",{type:"button",ref:n,className:I.itemPickerItem,"aria-keyshortcuts":"i",...(0,y.v)(c,r,d),children:[(0,s.A)(A.A,{item:e,hideSelectedSuper:!0}),3284755031===e.bucket.hash&&(0,s.A)(i.A,{classType:e.classType,className:I.classIcon})]})}const N=(0,a.createContext)(n.lQ);function C({children:e}){const t=(0,a.useContext)(N),[o,n]=(0,a.useState)(0),[i,c]=(0,a.useState)(),l=(0,a.useCallback)((e=>{t(void 0),c((t=>(t&&t.onItemSelected(void 0),e))),n((e=>e+1))}),[t]),d=(0,a.useCallback)((()=>{c((e=>{e&&e.onItemSelected(void 0)}))}),[]),u=(0,r.zy)();return(0,a.useEffect)((()=>{d()}),[u.pathname,d]),(0,s.A)(N.Provider,{value:l},void 0,e,i&&(0,S.jsx)(x,{...i,onSheetClosed:d},o))}},26470:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(10544),n=o(20505),a=o(38654),r=o(16283),i=o(13526);const c={breakerIcon:"BreakerType-m_breakerIcon-UYfweEmH",artifactBreaker:"BreakerType-m_artifactBreaker-VIiWH2t5"};function l({item:e}){const t=(0,a.I3)();let o,l=e.breakerType;if(!l){const s=(0,r.tK)(e);s&&(l=t.BreakerType.get(s),o=c.artifactBreaker)}return l&&(0,s.A)(n.Ay,{className:(0,i.A)(c.breakerIcon,o),src:l.displayProperties.icon})}},50503:(e,t,o)=>{o.d(t,{e:()=>m});var s=o(10544),n=o(20505),a=o(51504),r=o(2290),i=o(38654),c=o(59816);const l={deepsightHarmonizerIcon:"DeepSightHarmonizerIcon-m_deepsightHarmonizerIcon-vFvzfZih"};var d,u=o(94518);function m({item:e}){const t=(0,i.I3)(),o=t.InventoryItem.get(c.eL)?.displayProperties.icon;return(0,s.A)(a.Re,{tooltip:(0,s.A)(h,{item:e}),className:l.deepsightHarmonizerIcon},void 0,(0,s.A)(n.Ay,{src:o}))}function h({item:e}){const t=e.tooltipNotifications?.map((e=>e.displayString));return(0,u.jsxs)(u.Fragment,{children:[(0,s.A)("p",{},void 0,t),(0,s.A)("p",{},void 0,(0,r.t)("Filter.FilterWith")," ",d||(d=(0,s.A)("code",{},void 0,"deepsight:harmonizable")))]})}},1946:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(10544),n=o(20505),a=o(38654),r=o(82072),i=o(6789);const c={container:"EmblemPreview-m_container-rR__fuOw",banner:"EmblemPreview-m_banner-foc6jiaW",value:"EmblemPreview-m_value-vnAqpgMh"};function l({item:e}){const t=(0,a.I3)(),o=e.metricObjective&&void 0!==e.metricHash&&t.Metric.get(e.metricHash),l=o&&t.PresentationNode.get(o.parentNodeHashes[0]),d=o&&t.Trait.get(o.traitHashes.at(-1)),u=e.metricObjective?.objectiveHash,m=void 0!==u&&t.Objective.get(u);return(0,s.A)("div",{className:c.container},void 0,e.metricObjective&&void 0!==e.metricHash&&(0,s.A)(i.A,{className:c.banner,metricHash:e.metricHash,objectiveProgress:e.metricObjective}),void 0!==e.metricObjective?.progress&&m&&(0,s.A)("div",{className:c.value},void 0,(0,s.A)(r.z,{objectiveDef:m,progress:e.metricObjective.progress})),e.secondaryIcon&&(0,s.A)(n.Ay,{src:e.secondaryIcon,width:"237",height:"48"}),l&&o&&d&&(0,s.A)("div",{},void 0,d.displayProperties.name," // ",l.displayProperties.name," // ",o.displayProperties.name))}},20029:(e,t,o)=>{o.d(t,{A:()=>l});var s,n=o(10544),a=o(82907),r=o(2290),i=o(60440),c=o(94518);function l({item:e,compact:t}){const o=e.pursuit?.expiration;if(!o)return null;const l=o.expirationDate.getTime()<Date.now();if(o.suppressExpirationWhenObjectivesComplete&&e.complete)return null;const d=o.expirationDate.getTime()-Date.now()<36e5;return(0,n.A)("div",{className:"quest-expiration item-details"+(d?" expires-soon":"")},void 0,l?t?(0,r.t)("Progress.QuestExpired"):o.expiredInActivityMessage:(0,c.jsxs)(c.Fragment,{children:[s||(s=(0,n.A)(i.z9,{icon:i.a$}))," ",!t&&(0,r.t)("Progress.QuestExpires"),(0,n.A)(a.A,{endTime:o.expirationDate,compact:t})]}))}},93919:(e,t,o)=>{o.d(t,{A:()=>uo});var s=o(10544),n=o(28817),a=o(51504),r=o(87411),i=o(99880),c=o(11226),l=o(2290),d=o(62447),u=o(92803),m=o(18374),h=o(8935),p=o(80971),f=o(94518);const g=(0,m.lazy)((()=>o.e(277).then(o.bind(o,41297))));function y({item:e,mobile:t,actionsModel:o,showLabel:n=!0}){const a=(0,h.d4)(u.A1);return(0,f.jsxs)(f.Fragment,{children:[o.taggable&&(0,s.A)(p.f3,{item:e,label:t||n,hideKeys:t}),o.lockable&&(0,s.A)(p.ov,{item:e,label:n}),o.comparable&&(0,s.A)(p.EU,{item:e,label:n}),o.canConsolidate&&(0,s.A)(p.m,{item:e,label:n,actionModel:o}),o.canDistribute&&(0,s.A)(p.iu,{item:e,label:n,actionModel:o}),o.loadoutable&&(0,s.A)(p.pq,{item:e,label:n,actionModel:o}),o.infusable&&(0,s.A)(p.FC,{item:e,label:n,actionModel:o}),a&&(0,s.A)(m.Suspense,{},void 0,(0,s.A)(g,{label:n,item:e}))]})}var v=o(59428),b=o(59963),A=o(28860),k=o(65),w=o(18942),I=o(71814);const S={moveAmount:"ItemMoveAmount-m_moveAmount-eiVHFpW3"};function x({maximum:e,amount:t,onAmountChanged:o}){return(0,s.A)("div",{className:S.moveAmount},void 0,(0,s.A)("label",{htmlFor:"amount"},void 0,(0,l.t)("MoveAmount.Amount")),(0,s.A)("input",{name:"amount",type:"number",min:"1",max:e,value:t,onBlur:()=>{const s=(0,I.q)(t,1,e);s!==t&&o(s)},onChange:e=>{o(parseInt(e.currentTarget.value,10))}}))}var T=o(20169),N=o(92369),C=o(11071),H=o(13526);const P={moveLocations:"ItemMoveLocations-m_moveLocations-lkffyvrR",moveLocationPadding:"ItemMoveLocations-m_moveLocationPadding-neZ1Ausj",moveLocationIcons:"ItemMoveLocations-m_moveLocationIcons-wMdPjTou",move:"ItemMoveLocations-m_move-xXtnEg_b common-m_resetButton-o3oKAnUN",vaultLabel:"ItemMoveLocations-m_vaultLabel-geqSoDNa",moveWithVault:"ItemMoveLocations-m_moveWithVault-NTLyP0WE",vaultButton:"ItemMoveLocations-m_vaultButton-kZJeShVO"};function D({item:e,splitVault:t,actionsModel:o}){const n=(0,h.d4)(d.pl),a=(0,k.Px)(n),[r,i]=(0,m.useState)(e.amount),c=(0,k.KA)(n,e.owner),u=(0,N._)(),p=(t,o=!1,s=r)=>{u((0,A.YO)(e,t,o,s)),(0,T.EV)()};return c&&o.hasMoveControls?(0,f.jsxs)(f.Fragment,{children:[o.inPostmaster?o.pullFromPostmaster&&(0,s.A)(L,{item:e,itemOwner:c,submitMoveTo:p,vault:a,actionsModel:o}):(0,f.jsxs)(f.Fragment,{children:[t&&o.canVault&&(0,s.A)(E,{vault:a,onClick:()=>p(a)}),o.equip.length>0&&(0,s.A)(R,{label:(0,l.t)("MovePopup.Equip"),actionsModel:o,type:"equip",defaultPadding:t,submitMoveTo:p}),(o.store.length>0||o.canVault)&&(0,s.A)("div",{className:P.moveWithVault},void 0,(0,s.A)(R,{label:(0,l.t)("MovePopup.Store"),shortcutKey:"p",actionsModel:o,type:"store",defaultPadding:t,submitMoveTo:p}),!t&&o.canVault&&(0,s.A)(M,{store:a,handleMove:()=>p(a)}))]}),o.showAmounts&&(0,s.A)(x,{amount:r,maximum:o.maximumMoveAmount,onAmountChanged:i})]}):null}function M({store:e,handleMove:t}){return(0,s.A)("button",{type:"button",className:(0,H.A)(P.move,P.vaultButton),onClick:t},void 0,(0,s.A)(v.D,{store:e}))}function E({vault:e,onClick:t}){return(0,s.A)(w.A,{onClick:t,hotkey:"v",hotkeyDescription:(0,l.t)("Hotkey.Vault")},void 0,(0,s.A)(v.D,{store:e})," ",(0,s.A)("span",{className:P.vaultLabel},void 0,(0,l.t)("MovePopup.Vault")))}function R({label:e,shortcutKey:t,defaultPadding:o,type:n,actionsModel:a,submitMoveTo:r}){const i=a[n],c="equip"===n;return i.length?(0,s.A)("div",{className:(0,H.A)(P.moveLocations,o&&P.moveLocationPadding)},void 0,e,(0,s.A)("div",{className:P.moveLocationIcons},void 0,i.map((function({store:e,enabled:o}){const a=o?()=>r(e,c):C.lQ,i=(0,l.t)("equip"===n?"MovePopup.EquipWithName":"MovePopup.StoreWithName",{character:e.name}),d=t&&e.current?` [${(0,b.vP)(t)}]`:"";return(0,s.A)(m.Fragment,{},`${c}-${e.id}`,(0,s.A)("button",{type:"button",className:P.move,title:`${i}${d}`,onClick:a,"aria-keyshortcuts":e.current?t:void 0,disabled:!o},void 0,(0,s.A)(v.D,{store:e,useBackground:!0})))})))):null}function L({item:e,itemOwner:t,submitMoveTo:o,actionsModel:n,vault:a}){const r=e.maxStackSize>1||1469714392===e.bucket.hash,i=r?(0,l.t)("MovePopup.All"):void 0,c=e.amount===n.maximumMoveAmount?i:""+n.maximumMoveAmount;return(0,s.A)("div",{className:(0,H.A)(P.moveLocations,P.moveLocationPadding)},void 0,(0,l.t)("MovePopup.PullPostmaster"),(0,s.A)("div",{className:P.moveLocationIcons},void 0,r&&(0,s.A)("button",{type:"button",className:P.move,onClick:()=>o(t,!1,1)},void 0,(0,s.A)(v.D,{store:t,useBackground:!0,label:"1"})),r?1!==n.maximumMoveAmount&&(0,s.A)("button",{type:"button",className:P.move,onClick:()=>o(t,!1,n.maximumMoveAmount)},void 0,(0,s.A)(v.D,{store:t,useBackground:!0,label:c})):(0,s.A)("button",{type:"button",className:P.move,onClick:()=>o(t,!1,e.amount)},void 0,(0,s.A)(v.D,{store:t,useBackground:!0,label:i})),n.canVault&&(0,s.A)("button",{type:"button",className:P.move,onClick:()=>o(a,!1,e.amount)},void 0,(0,s.A)(v.D,{store:a,label:i}))))}var V=o(86119),q=o(20204),O=o(68807),_=o(8761),B=o(74217),j=o(88312),z=o(60440);const F={interaction:"DesktopItemActions-m_interaction-Ul_ZE389",collapseButton:"DesktopItemActions-m_collapseButton-xhYBQjeB common-m_resetButton-o3oKAnUN",collapsed:"DesktopItemActions-m_collapsed-Lc2WXhl2"},W=F.interaction;function U({item:e,actionsModel:t}){const o=(0,h.d4)(d.pl),n=(0,N._)(),[a,r]=(0,j.i)("sidecarCollapsed"),i=()=>r(!a);return(0,_.E)("esc",(0,l.t)("Hotkey.ClearDialog"),(()=>(0,T.EV)())),(0,_.E)("k",(0,l.t)("MovePopup.ToggleSidecar"),i),(0,_.E)("p",(0,l.t)("Hotkey.Pull"),(()=>{const t=(0,k.ZS)(o);n((0,A.YO)(e,t,!1,e.amount)),(0,T.EV)()})),(0,_.E)("v",(0,l.t)("Hotkey.Vault"),(()=>{const t=(0,k.Px)(o);n((0,A.YO)(e,t,!1,e.amount)),(0,T.EV)()})),(0,_.E)("c",(0,l.t)("Compare.ButtonHelp"),(()=>{e.comparable&&((0,T.EV)(),n((0,O.YN)(e)))})),(0,_.E)("i",(0,l.t)("MovePopup.InfuseTitle"),(t=>{e.infusable&&(t.preventDefault(),(0,B.a)(e),(0,T.EV)())})),(0,s.A)("div",{className:(0,H.A)(F.interaction,a&&F.collapsed)},void 0,t.hasControls&&(0,s.A)("button",{type:"button",className:F.collapseButton,onClick:i,title:(0,l.t)("MovePopup.ToggleSidecar")+" [K]","aria-keyshortcuts":"k"},void 0,(0,s.A)(z.z9,{icon:a?z.gw:z.MR})),(0,s.A)(y,{item:e,mobile:!1,showLabel:!a,actionsModel:t}),!a&&(0,s.A)(D,{item:e,splitVault:!0,actionsModel:t},e.index))}const G={arrow:"ItemPopup-m_arrow-_wTCbgER",desktopPopupRoot:"ItemPopup-m_desktopPopupRoot-H9kcjZJF",movePopupDialog:"ItemPopup-m_movePopupDialog-KIMUhqIg",exotic:"ItemPopup-m_exotic-jl28yQCY",legendary:"ItemPopup-m_legendary-UyC8DNQv",rare:"ItemPopup-m_rare-qlJaJbod",uncommon:"ItemPopup-m_uncommon-cSMU63m3",common:"ItemPopup-m_common-i3J1yVlY",popupBackground:"ItemPopup-m_popupBackground-wB8P8rVg",desktopPopup:"ItemPopup-m_desktopPopup-NE0cTyTY",desktopPopupBody:"ItemPopup-m_desktopPopupBody-gi12X5mX",desktopActions:"ItemPopup-m_desktopActions-WDlrbzPo",mobileItemActions:"ItemPopup-m_mobileItemActions-leHiFHOB",mobileMoveLocations:"ItemPopup-m_mobileMoveLocations-EgaV24OS",sheetHeader:"ItemPopup-m_sheetHeader-SC4AZ6jn",sheetClose:"ItemPopup-m_sheetClose-fi6e7ETP",failureReason:"ItemPopup-m_failureReason-ye4QU4px",header:"ItemPopup-m_header-DJShGPgK"};var Q=o(24769),Z=o(19654),K=o(20505),J=o(45839),X=o(14565);const Y={textBlockWrapper:"ExpandableTextBlock-m_textBlockWrapper-T_EU01Tt",open:"ExpandableTextBlock-m_open-ldUUaFkM"};function $({children:e,linesWhenClosed:t,alreadyOpen:o,className:s}){const[n,a]=(0,m.useState)(o),[r,i]=(0,m.useState)(),c=(0,m.useRef)(null),l=(0,m.useRef)(null);return(0,m.useLayoutEffect)((()=>{i(c.current.clientHeight)}),[]),(0,m.useEffect)((()=>{r&&l.current.clientHeight>=c.current.clientHeight&&a(!0)}),[r]),(0,f.jsx)("div",{className:(0,H.A)(s,Y.textBlockWrapper,n&&Y.open),ref:l,onClick:()=>a(!0),style:{height:n?"max-content":r,overflow:"hidden"},children:(0,f.jsx)("div",{ref:c,style:r?void 0:{WebkitLineClamp:t,WebkitBoxOrient:"vertical",display:"-webkit-box"},children:e})})}var ee=o(49662);const te={setFilterButton:"SetFilterButton-m_setFilterButton-WzIBDZx5"};var oe;function se({filter:e}){const t=(0,h.wA)();return(0,s.A)("a",{onClick:()=>{t((0,ee.Ri)(e))},title:e,className:te.setFilterButton},void 0,oe||(oe=(0,s.A)(z.z9,{icon:z.qc})))}var ne=o(76436),ae=o(6967),re=o(98313),ie=o(57942),ce=o(70055),le=o(51077),de=o(92298),ue=o(18076),me=o(36871),he=o(98207),pe=o(90789),fe=o(55310),ge=o(58947);const ye={description:"ItemDescription-m_description-K8hVnQnc",label:"ItemDescription-m_label-Pd4921dG",secondaryText:"ItemDescription-m_secondaryText-sGGIBrI5"},ve={itemTriagePane:"ItemTriage-m_itemTriagePane-T0iYxJIY",collapseTitle:"ItemTriage-m_collapseTitle-wMEvZqjd",controls:"ItemTriage-m_controls-xtPtMcZv",statTable:"ItemTriage-m_statTable-eYVColAO",header:"ItemTriage-m_header-S7qdkuEu",headerDivider:"ItemTriage-m_headerDivider-d2pNga0F",similarItemsTable:"ItemTriage-m_similarItemsTable-O4wstDtV",count:"ItemTriage-m_count-ypWHXI_F",tableRow:"ItemTriage-m_tableRow-nP00qn8S",factorCombo:"ItemTriage-m_factorCombo-FnaLT9DQ",statsHeaderLeft:"ItemTriage-m_statsHeaderLeft-NEUJ4rbc",statsHeaderRight:"ItemTriage-m_statsHeaderRight-ed9ji0Hu",statsHeaderDivider:"ItemTriage-m_statsHeaderDivider-JFXfbGnM",dimmed:"ItemTriage-m_dimmed-BTDAFy2m",statValue:"ItemTriage-m_statValue-A16pleWv",weaponSvg:"ItemTriage-m_weaponSvg-HCEkhQlq",inlineIcon:"ItemTriage-m_inlineIcon-KoPVsmKp",loadoutRow:"ItemTriage-m_loadoutRow-d4mtq31H",loadoutName:"ItemTriage-m_loadoutName-rJj6zo9X",thumbsUp:"ItemTriage-m_thumbsUp-qB5R4BD7",inLoadout:"ItemTriage-m_inLoadout-T4A6iQRQ",factorCollapsedValue:"ItemTriage-m_factorCollapsedValue-j5lHFQdX",loadoutList:"ItemTriage-m_loadoutList-M2iUxNWv",factorIcon:"ItemTriage-m_factorIcon-eQ_6RXhf",artificeExplanation:"ItemTriage-m_artificeExplanation-e20cxOH8",popupTabTitle:"ItemTriage-m_popupTabTitle-E1PSuDR2"};var be=o(17222),Ae=o(59816),ke=o(17839),we=o(97085),Ie=o(16283),Se=o(72549),xe=o(73308),Te=o(87447),Ne=o(44261),Ce=o(73899),He=o(77663),Pe=o(87545),De=o(7379),Me=o(74987);const Ee="TriageFactors-m_inlineIcon2-TMARyiUi",Re="TriageFactors-m_factorIcon-YaKrzORN",Le={class:{id:"class",runIf:()=>!0,render:()=>null,filter:ke.x_.fromItem},name:{id:"name",runIf:e=>e.bucket.inWeapons||e.bucket.inArmor&&e.isExotic,render:e=>(0,f.jsxs)(f.Fragment,{children:[(0,s.A)(K.Ay,{className:Ee,src:e.icon}),(0,s.A)("span",{},void 0,e.name)]}),filter:e=>(0,Te.V)(e)},element:{id:"element",runIf:e=>e.element&&e.bucket.inWeapons,render:e=>(0,s.A)(a.Re,{minimal:!0,elementType:"span",tooltip:e.element?.displayProperties.name},void 0,(0,s.A)(Ne.A,{className:Re,element:e.element})),filter:ke.SN.fromItem},weaponType:{id:"weaponType",runIf:e=>e.bucket.inWeapons,render:e=>(0,s.A)(Ce.c3,{item:e,className:Ee}),filter:ke._2.fromItem},specialtySocket:{id:"specialtySocket",runIf:e=>(0,Ie.Ep)(e)||!e.isExotic&&(0,Se.C2)(e),render:e=>{var t;const o=[],n=(0,Se.C2)(e)?.plugged;n&&o.push((0,s.A)(a.Re,{tooltip:()=>t||(t=(0,s.A)(De.Ks,{item:e,plug:n}))},n.plugDef.hash,(0,s.A)(Pe.Wj,{className:Re,itemDef:n.plugDef,borderless:!0})));const r=(0,s.A)(He.Q,{className:"TriageFactors-m_modSlotIcon-AgbZwWE9",item:e,lowRes:!0,excludeStandardD2ModSockets:!0},"specialty");return r&&o.push(r),(0,f.jsx)(f.Fragment,{children:o})},filter:e=>{const t=(0,Se.C2)(e)?.plugged;return[t&&"exactperk:"+(0,we.Os)(t.plugDef.displayProperties.name),Me.R.fromItem(e)].filter(Boolean).join(" ")}},armorSlot:{id:"armorSlot",runIf:e=>e.bucket.inArmor,render:e=>(0,s.A)(Ce.nn,{item:e,className:(0,H.A)(Ee,Re)}),filter:ke.c9.fromItem},archetype:{id:"archetype",runIf:e=>!e.isExotic&&(0,Se.WX)(e),render:e=>{const t=(0,Se.Np)(e);return t?.plugged?(0,s.A)(a.Re,{elementType:"span",tooltip:(0,s.A)(De.Ks,{item:e,plug:t.plugged})},void 0,(0,s.A)(K.Ay,{className:Ee,src:t.plugged.plugDef.displayProperties.icon})):null},filter:e=>"exactperk:"+(0,we.Os)((0,Se.WX)(e).displayProperties.name)}},Ve={Weapons:[[Le.element,Le.weaponType],[Le.archetype,Le.weaponType],[Le.name]],Armor:[[Le.class,Le.specialtySocket,Le.armorSlot],[Le.class,Le.specialtySocket],[Le.class,Le.name]],General:[[Le.element]]},qe=Object.keys(Ve);function Oe(e){const t=1.25*(e=Math.min(e,100));return[`hsl(${t}, 100%, 8%)`,`hsl(${t}, 100%, ${Math.floor(-(e**2)/250+2*e/5+30)}%)`]}const _e=.82,Be=.9;function je(e,t,o,s=Ae.BZ){let n=0,a=0,r=0,i=o;const c=s.map((o=>(e[o]?.base??0)-(t[o]?.base??0)));c.sort(((e,t)=>t-e));for(let e of c)if(e<0&&i&&(e+=3,i=!1),e>0?n++:e<0?a++:r++,n&&a)return!1;return r===s.length?!!o&&e:n?e:!!a&&t}var ze,Fe,We;function Ue({tabActive:e,item:t}){const o=(0,h.d4)((0,pe.Zd)(t)),n=!!(0,h.d4)(le.df)[t.id];return(0,s.A)("span",{className:ve.popupTabTitle},void 0,(0,l.t)("MovePopup.TriageTab"),!e&&(0,f.jsxs)(f.Fragment,{children:[o&&(0,s.A)(he.A,{wishListRoll:o,className:ve.thumbsUp}),n&&(0,s.A)("img",{title:(0,l.t)("Triage.InLoadouts"),src:fe,className:ve.inLoadout})]}))}function Ge({item:e,id:t}){return(0,s.A)("div",{id:t,role:"tabpanel","aria-labelledby":t+"-tab",className:ve.itemTriagePane},void 0,e.wishListEnabled&&(0,s.A)(Qe,{item:e}),(0,s.A)(Ze,{item:e}),(0,s.A)(Ke,{item:e}),e.bucket.inArmor&&1585787867!==e.bucket.hash&&(0,f.jsxs)(f.Fragment,{children:[(0,s.A)(Ye,{item:e}),(0,s.A)(Xe,{item:e})]}))}function Qe({item:e}){const t=(0,h.d4)((0,pe.Zd)(e)),o=!t,n=(0,h.d4)((0,Z.Bz)("triage-wishlist")),a=o||n,[r]=(0,m.useState)(a);return(0,s.A)(X.Ay,{title:(0,l.t)("WishListRoll.Header"),sectionId:"triage-wishlist",defaultCollapsed:!1,className:ve.collapseTitle,extra:t?(0,s.A)(he.A,{wishListRoll:t}):"–",disabled:o},void 0,t&&!!t?.notes?.length&&(0,s.A)($,{linesWhenClosed:3,className:ye.description,alreadyOpen:r},void 0,(0,s.A)("span",{className:ye.secondaryText},void 0,t.notes)))}function Ze({item:e}){const t=(0,h.d4)(le.df)[e.id]||[];return(0,s.A)(X.Ay,{title:(0,l.t)("Triage.InLoadouts"),sectionId:"triage-loadout",defaultCollapsed:!0,className:ve.collapseTitle,extra:(0,s.A)("span",{className:ve.factorCollapsedValue},void 0,t.length,(0,s.A)("img",{src:fe,className:ve.inLoadout})),disabled:!t.length},void 0,(0,s.A)("ul",{className:ve.loadoutList},void 0,t.map((t=>{const o=t.loadout,n=!(0,ce.C)(o),a=n&&(()=>{(0,re.Xw)(o,e.owner),(0,T.EV)()});return(0,s.A)("li",{className:ve.loadoutRow},o.id,n?(0,s.A)(J.A,{classType:o.classType,className:ve.inlineIcon}):(0,s.A)(ie.Ay,{loadout:o}),(0,s.A)(ne.A,{text:o.name,className:ve.loadoutName}),(0,s.A)("span",{className:ve.controls},void 0,a&&(0,s.A)("a",{onClick:a,title:(0,l.t)("Loadouts.Edit"),className:te.setFilterButton},void 0,ze||(ze=(0,s.A)(z.z9,{icon:z.IZ}))),(0,s.A)(se,{filter:(0,ue.bc)(o)})))}))))}function Ke({item:e}){const t=(0,h.d4)(de.OL),o=(0,h.d4)(d.V0),n=function(e,t,o){const s=[];if(qe.includes(e.bucket.sort))for(const n of Ve[e.bucket.sort])if(n.every((t=>t.runIf(e)))){const a=n.map((t=>t.filter(e)));a.push(e.isExotic?"is:exotic":"not:exotic");const r=a.join(" "),i=t.filter(o(r)),c=i.length;if(1===c&&n.some((e=>"name"===e.id)))continue;s.push({count:c,items:i,query:r,factorCombo:n})}return s}(e,o,t);if(0===n.length)return null;const a=(e.bucket.inArmor?"armor":"weapon")+"-triage-itemcount",r=(0,me._h)(n,(e=>e.count));return(0,s.A)(X.Ay,{title:(0,l.t)("Triage.SimilarItems"),sectionId:a,defaultCollapsed:!1,className:ve.collapseTitle,extra:(0,s.A)("span",{className:ve.factorCollapsedValue},void 0,r),showExtraOnlyWhenCollapsed:!0},void 0,(0,s.A)("div",{className:ve.similarItemsTable},void 0,(0,s.A)("div",{className:ve.header},void 0,(0,s.A)("span",{},void 0,(0,l.t)("Triage.ThisItem")),(0,s.A)("span",{},void 0,(0,l.t)("Triage.OwnedCount"))),(0,s.A)("div",{className:ve.headerDivider}),n.length>0&&n.map((({count:t,query:o,factorCombo:n,items:a})=>(0,s.A)("div",{className:ve.tableRow},o,(0,s.A)($e,{exampleItem:e,factorCombo:n}),(0,s.A)("span",{className:ve.count},void 0,t),(0,s.A)("span",{className:ve.controls},void 0,(0,s.A)(et,{filter:o,items:a,initialItem:e}),(0,s.A)(se,{filter:o})))))))}const Je={worse:[(0,l.tl)("Triage.StatWorseArmorDesc"),(0,l.tl)("Triage.PerkWorseArmorDesc")],worseStats:[(0,l.tl)("Triage.StatWorseArmorDesc"),(0,l.tl)("Triage.StatNotPerkArmorDesc")],better:[(0,l.tl)("Triage.StatBetterArmorDesc"),(0,l.tl)("Triage.PerkBetterArmorDesc")],betterStats:[(0,l.tl)("Triage.StatBetterArmorDesc"),(0,l.tl)("Triage.StatNotPerkArmorDesc")]};function Xe({item:e}){const t=(0,h.d4)(de.OL),o=(0,h.d4)(d.V0);if(!e.stats)return null;const n=function(e,t,o){const s=ke.c9.fromItem(e),n=ke.x_.fromItem(e),a=t.filter(o(`${s} ${e.isExotic?"is:exotic":"(not:exotic not:green not:white)"} ${n}`)),r=[],i=[],c=[],l=[],d=(0,be.vs)(e.stats),u=(0,Ie.CA)(e);for(const e of a)if(e.stats){const t=(0,Ie.CA)(e),o=(0,be.vs)(e.stats);let s=!1,n=!1;if(u===t)s=je(d,o,!1);else{const e=u?d:o,t=u?o:d;je(e,t,!1)===e?s=e:(s=je(e,t,!0),n=!0)}s&&(s===d?n?l:i:n?c:r).push(e)}const m=(0,Ie.Ep)(e),h=m&&`(${m.map((e=>"modslot:"+(e.slotTag||"none"))).join(" ")})`,p=!e.isExotic&&(0,Se.C2)(e)?.plugged?.plugDef.displayProperties,f=[];p&&f.push("perk:"+(0,we.Os)(p.name)),h&&f.push(h);const g=o(f.join(" ")),[y,v]=(0,xe.j)(r,(e=>!!g(e))),[b,A]=(0,xe.j)(c,(e=>!!g(e))),k=[];p&&k.push(`(perk:${(0,we.Os)(p.name)} or armorintrinsic:none)`),h&&k.push(`(${h} or modslot:none)`);const w=o(k.join(" ")),[I,S]=(0,xe.j)(i,(e=>!!w(e))),[x,T]=(0,xe.j)(l,(e=>!!w(e)));return{betterItems:y,betterStatItems:v,artificeBetterItems:b,artificeBetterStatItems:A,worseItems:I,worseStatItems:S,artificeWorseItems:x,artificeWorseStatItems:T}}(e,o,t);if(!Object.values(n).some((e=>e.length)))return null;const{betterItems:r,betterStatItems:i,artificeBetterItems:c,artificeBetterStatItems:u,worseItems:m,worseStatItems:p,artificeWorseItems:g,artificeWorseStatItems:y}=n,v=[[(0,l.t)("Triage.BetterArmor"),Je.better,r,!1],[(0,l.t)("Triage.WorseStatArmor"),Je.betterStats,i,!1],[(0,l.t)("Triage.BetterArtificeArmor"),Je.better,c,!0],[(0,l.t)("Triage.BetterStatArtificeArmor"),Je.betterStats,u,!0],[(0,l.t)("Triage.WorseArmor"),Je.worse,m,!1],[(0,l.t)("Triage.BetterStatArmor"),Je.worseStats,p,!1],[(0,l.t)("Triage.WorseArtificeArmor"),Je.worse,g,!0],[(0,l.t)("Triage.WorseStatArtificeArmor"),Je.worseStats,y,!0]];return(0,s.A)(X.Ay,{title:(0,l.t)("Triage.BetterWorseArmor"),sectionId:"better-worse-armor",defaultCollapsed:!1,className:ve.collapseTitle,extra:(0,s.A)("span",{className:ve.factorCollapsedValue},void 0,"!!"),showExtraOnlyWhenCollapsed:!0},void 0,(0,s.A)("div",{className:ve.similarItemsTable},void 0,v.map((([t,[o,n],r,i])=>{const c=(0,f.jsxs)(f.Fragment,{children:[(0,l.t)("Triage.BetterWorseIncludes"),(0,s.A)("ul",{},void 0,(0,s.A)("li",{},void 0,(0,l.t)(o),i&&(0,s.A)("span",{className:ve.artificeExplanation},void 0,Fe||(Fe=(0,s.A)("br",{})),(0,l.t)("Triage.AccountsForArtifice"))),(0,s.A)("li",{},void 0,(0,l.t)(n)))]});if(r.length){const o=r.map((e=>"id:"+e.id)).join(" or ");return(0,s.A)("div",{className:ve.tableRow},t,(0,s.A)("span",{},void 0,(0,s.A)(a.Re,{tooltip:c,elementType:"span",placement:"top"},void 0,t)),(0,s.A)("span",{className:ve.count},void 0,r.length),(0,s.A)("span",{className:ve.controls},void 0,(0,s.A)(et,{filter:`id:${e.id} or ${o}`,items:r,initialItem:e})))}}))))}function Ye({item:e}){const t=(0,h.d4)(d.V0),o=(0,h.d4)((0,Z.A2)("customTotalStatsByClass"));let n="?",a=null;if(!e.classified){n="–";const r=function(e,t,o){const s=t[e.classType]??[],n=function(e,t,o){const s={custom:0};for(const n of o){if(!n.stats||n.bucket.hash!==e.bucket.hash||!(0,Ie.dO)(e.classType,n.classType)||e.isExotic&&e.hash!==n.hash)continue;let o=0;for(const e of n.stats){const n=(e.smallerIsBetter?Math.min:Math.max)(s[e.statHash]??(e.smallerIsBetter?9999999:-9999999),e.base);s[e.statHash]=n,t.includes(e.statHash)&&(o+=e.base)}s.custom=Math.max(s.custom,o)}return s}(e,s,o),a=e.stats?.reduce(((e,t)=>s.includes(t.statHash)?e+t.base:e),0)??0,r=a/n.custom||0;return{notableStats:(e.stats??[]).filter((e=>e.base/n[e.statHash]>=(e.statHash===Ae.Tt||e.statHash===Ae.Jn?Be:_e))).map((e=>{const t=n[e.statHash],o=e.base/t||0;return{quality:100-100/3*(10-Math.floor(10*o)),stat:e,best:t,percent:Math.floor(100*o)}})),customTotalMax:{quality:100-100/3*(10-Math.floor(10*r)),stat:a,best:n.custom,percent:Math.floor(100*r)}}}(e,o,t);if(r.notableStats.length>0){const t=(0,ge.S)(r.notableStats,(e=>e.percent));n=(0,s.A)("span",{style:{color:Oe(t.quality)[1]}},void 0,t.percent,"%"),a=(0,s.A)("div",{className:ve.statTable},void 0,(0,s.A)("div",{className:ve.header},void 0,(0,s.A)("div",{className:ve.statsHeaderLeft},void 0,(0,l.t)("Triage.YourBestItem")," (",(0,s.A)(ae.A,{className:(0,H.A)(ve.inlineIcon,ve.weaponSvg),bucketHash:e.bucket.hash}),")"),(0,s.A)("div",{className:ve.statsHeaderRight},void 0,(0,l.t)("Triage.ThisItem"))),(0,s.A)("div",{className:ve.statsHeaderDivider}),r.notableStats?.map((({best:e,quality:t,percent:o,stat:n})=>(0,s.A)("div",{className:ve.tableRow},n.statHash,(0,s.A)("span",{},void 0,n.displayProperties.icon&&(0,s.A)(K.Ay,{className:ve.factorIcon,src:n.displayProperties.icon},n.statHash)||" "),(0,s.A)("span",{className:ve.statValue},void 0,e),(0,s.A)("span",{className:ve.dimmed},void 0,n.displayProperties.name),(0,s.A)("span",{className:ve.statValue},void 0,n.base),(0,s.A)("span",{},void 0,"(",(0,s.A)("span",{style:{color:Oe(t)[1]}},void 0,o,"%"),")")))))}}return(0,s.A)(X.Ay,{title:(0,l.t)("Triage.HighStats"),sectionId:"triage-highstat",defaultCollapsed:!1,showExtraOnlyWhenCollapsed:!0,disabled:null===a,className:ve.collapseTitle,extra:n},void 0,a)}function $e({exampleItem:e,factorCombo:t}){return(0,s.A)("div",{className:ve.factorCombo},void 0,t.map((t=>(0,s.A)(m.Fragment,{},t.id,t.render(e)))))}function et({filter:e,items:t,initialItem:o}){const n=(0,h.wA)(),a=t[0]?.typeName;return!a||t.some((e=>e.typeName!==a))?null:(0,s.A)("a",{onClick:()=>{n((0,O.Z0)(e,t,o)),(0,T.EV)()},title:(0,l.t)("Compare.Button"),className:te.setFilterButton},void 0,We||(We=(0,s.A)(z.z9,{icon:z.b9})))}var tt=o(22668),ot=o(26397),st=o(94186),nt=o(26023),at=o(38654),rt=o(71237),it=o(82072),ct=o(43435),lt=o(71684),dt=o(46727),ut=o(11682),mt=o(13933),ht=o(14231),pt=o(69063);const ft={buttons:"ApplyPerkSelection-m_buttons-kML4NsVM item-details common-m_flexRow-ZPndn63a",insertButton:"ApplyPerkSelection-m_insertButton-xJtOBsN9 dim-button"};var gt,yt,vt;function bt({item:e,setSocketOverride:t,onApplied:o}){const n=(0,N._)(),a=(0,at.I3)(),r=(0,h.d4)(at.oy),[i,c]=(0,m.useState)(!1),d=(0,h.d4)((0,pe.Zd)(e));if(!e.sockets)return null;const u=[],p=[];for(const t of e.sockets.allSockets){if(d&&!d.isUndesirable&&t.isPerk&&t.plugOptions.length>1){const e=t.plugOptions.find((e=>d.wishListPerks.has(e.plugDef.hash)));e&&t.actuallyPlugged!==e&&t.plugged!==e&&p.push({socket:t,plugHash:e.plugDef.hash})}!e.vendor&&t.actuallyPlugged&&t.plugged&&(0,mt.M)(t,t.plugged.plugDef.hash,r,a)&&u.push({socket:t,plugHash:t.plugged.plugDef.hash})}return 0===p.length&&0===u.length?null:(0,s.A)("div",{className:ft.buttons},void 0,p.length>0&&(0,s.A)("button",{type:"button",className:"dim-button",onClick:()=>{for(const o of p)t({...o,item:e})}},void 0,gt||(gt=(0,s.A)(z.z9,{icon:z.ms}))," ",(0,l.t)("Sockets.SelectWishlistPerks")),u.length>0&&(0,s.A)("button",{type:"button",className:ft.insertButton,onClick:async()=>{if(!i){c(!0);try{for(const{socket:t,plugHash:o}of u)try{await n((0,mt.Q)(e,t,o))}catch(t){const s=a.InventoryItem.get(o)?.displayProperties.name??"Unknown Plug";return void(0,ht.Ds)({type:"error",title:(0,l.t)("AWA.Error"),body:(0,l.t)("AWA.ErrorMessage",{error:(0,pt.g)(t),item:e.name,plug:s})})}o()}finally{c(!1)}}},disabled:i},void 0,i&&(yt||(yt=(0,s.A)("span",{},void 0,(0,s.A)(z.z9,{icon:z.he,spinning:!0})))),(0,s.A)("span",{},void 0,vt||(vt=(0,s.A)(z.z9,{icon:z.SG}))," ",(0,l.t)("Sockets.ApplyPerks"))))}var At=o(1946),kt=o(4201),wt=o(57551),It=o(75724),St=o(93192),xt=o(6380);const Tt={energyMeter:"EnergyMeter-m_energyMeter-nljJfx0d",clickable:"EnergyMeter-m_clickable-_eX1FhzO",upgradePreview:"EnergyMeter-m_upgradePreview-MlajH73l common-m_flexRow-ZPndn63a",upgradeButton:"EnergyMeter-m_upgradeButton-uAOEdHl5 common-m_resetButton-o3oKAnUN",cost:"EnergyMeter-m_cost-egUNoL23"};var Nt;const Ct={shown:{height:"auto",opacity:1},hidden:{height:0,opacity:0}},Ht={duration:.3};function Pt({item:e}){const t=(0,at.I3)(),o=e.energy?.energyCapacity||0,[n,a]=(0,m.useState)(0),[r,i]=(0,m.useState)(o);if((0,N._)(),!e.energy)return null;const c=e.energy.energyCapacity,d=[,,,,,,,,,,].fill("unavailable").fill("unused",0,Math.max(c,n||r||0)).fill("used",0,e.energy.energyUsed),u=()=>a(0);return t&&(0,s.A)("div",{className:Tt.energyMeter},void 0,(0,s.A)("div",{className:"item-socket-category-name"},void 0,(0,s.A)("b",{},void 0,Math.max(c,r))," ",(0,s.A)("span",{},void 0,(0,l.t)("EnergyMeter.Energy"))),(0,s.A)("div",{className:"energyMeterIncrements medium"},void 0,d.map(((e,t)=>(0,s.A)("div",{className:(0,H.A)(e,t+1>o&&Tt.clickable),onPointerEnter:()=>(e=>a(e))(t+1),onPointerLeave:u,onClick:()=>(e=>i(Math.max(c,e)))(t+1)},t)))),(0,s.A)(St.N,{},void 0,r>c&&(0,s.A)(xt.P.div,{className:Tt.upgradePreview,initial:"hidden",animate:"shown",exit:"hidden",variants:Ct,transition:Ht},void 0,(0,s.A)(Dt,{item:e,previewCapacity:r||o}),!1,(0,s.A)("button",{type:"button",onClick:()=>i(o),className:Tt.upgradeButton},void 0,Nt||(Nt=(0,s.A)(z.z9,{icon:z.WO}))))))}function Dt({item:e,previewCapacity:t}){const o=(0,at.I3)();if(!e.energy)return null;const n=(0,kt.$P)(e,t),a=(0,kt.cy)(o,n.map((e=>o.InventoryItem.get(e)))).sort((0,wt.VE)((e=>e.quantity)));return(0,f.jsxs)(f.Fragment,{children:[(0,s.A)("span",{},void 0,e.energy.energyCapacity," → ",t),a.map((e=>(0,s.A)(It.A,{cost:e,className:Tt.cost},e.itemHash)))]})}var Mt=o(83793);function Et({item:e}){return(0,h.d4)((0,pe.Zd)(e)),(0,f.jsxs)(f.Fragment,{children:[!e.bucket.inWeapons&&!e.bucket.inArmor&&(0,f.jsxs)(f.Fragment,{children:[!!e.description?.length&&(0,s.A)("div",{className:ye.description},void 0,(0,s.A)(i.A,{text:e.description,ownerId:e.owner})),!!e.displaySource?.length&&(0,s.A)("div",{className:(0,H.A)(ye.description,ye.secondaryText)},void 0,(0,s.A)(i.A,{text:e.displaySource,ownerId:e.owner}))]}),!1,(0,s.A)(Mt.A,{item:e,className:ye.description})]})}const Rt={itemDetailsBody:"ItemDetails-m_itemDetailsBody-TNEBABJb",itemDescription:"ItemDetails-m_itemDescription-SUPBq_Fh",itemSource:"ItemDetails-m_itemSource-h0RS5FQS",itemShader:"ItemDetails-m_itemShader-eWUD5cHg",acquiredIcon:"ItemDetails-m_acquiredIcon-V7mfUaaI",ownedIcon:"ItemDetails-m_ownedIcon-tJHZqKhQ",fullImage:"ItemDetails-m_fullImage-n_Uf4lyw",milestoneImage:"ItemDetails-m_milestoneImage-nTl4624A",mods:"ItemDetails-m_mods-M_fznuCA"};var Lt=o(20029);const Vt={itemPerk:"ItemPerks-m_itemPerk-DYdig8Zd common-m_flexRow-ZPndn63a",itemPerkName:"ItemPerks-m_itemPerkName-LpjraQDq"};function qt({item:e}){return e.perks?(0,s.A)("div",{className:"item-details"},void 0,e.perks.map((e=>(0,s.A)(Ot,{perk:e},e.perkHash)))):null}function Ot({perk:e}){const t=(0,at.I3)().SandboxPerk.get(e.perkHash),{hasIcon:o,icon:n,name:a,description:r}=t.displayProperties;return(0,s.A)("div",{className:Vt.itemPerk},void 0,o&&(0,s.A)(K.Ay,{src:n}),(0,s.A)("div",{},void 0,(0,s.A)("div",{className:Vt.itemPerkName},void 0,a),(0,s.A)(i.A,{text:r})))}var _t=o(9803),Bt=o(13406),jt=o(67956),zt=o(37914);const Ft={catalystProgressTitle:"WeaponCatalystInfo-m_catalystProgressTitle-RWRLRFv0 common-m_flexRow-ZPndn63a",elementIcon:"WeaponCatalystInfo-m_elementIcon-V4Dg5MdE",catalystProgress:"WeaponCatalystInfo-m_catalystProgress-Fb88aibI common-m_flexColumn-xaQidJJA"};function Wt({item:e}){const{catalystInfo:t}=e;return t?.unlocked&&!t.complete&&t.objectives?.length?(0,s.A)("div",{className:Ft.catalystProgress},void 0,(0,s.A)("div",{className:Ft.catalystProgressTitle},void 0,(0,s.A)(Ne.p,{className:Ft.elementIcon}),(0,l.t)("MovePopup.CatalystProgress")),t.objectives.map((e=>(0,s.A)(it.A,{objective:e},e.objectiveHash)))):null}var Ut=o(76678),Gt=o(47490);const Qt={patternIcon:"WeaponCraftedInfo-m_patternIcon-WhknqJ1n"};var Zt;function Kt({item:e,className:t}){if(!e.crafted||!e.craftedInfo)return null;const o=e.craftedInfo.progress,n={width:(0,Gt.KN)(o)};return(0,s.A)("div",{className:t},void 0,e.craftedInfo&&(0,s.A)(Jt,{item:e}),(0,s.A)("div",{className:"objective-progress"},void 0,(0,s.A)("div",{className:"objective-progress-bar",style:n}),(0,s.A)("div",{className:"objective-description"},void 0,e.craftedInfo?.enhancementTier>0&&(0,l.t)("MovePopup.EnhancementTier",{tier:e.craftedInfo?.enhancementTier})+" - ",(0,l.t)("MovePopup.WeaponLevel",{level:e.craftedInfo.level})),(0,s.A)("div",{className:"objective-text"},void 0,(0,Gt.tw)(o))))}function Jt({item:e}){const t=(0,me.x1)(e.sockets?.allSockets.find((e=>(0,Ie.iR)(e)))?.plugOptions??[],(e=>(0,Ie.a6)(e))),o=(0,Ut.dL)(e)?.plugged?.plugObjectives.find((t=>t.progress===e.craftedInfo?.craftedDate));return(0,s.A)(a.Re,{tooltip:(0,f.jsxs)(f.Fragment,{children:[o&&(0,f.jsxs)(f.Fragment,{children:[(0,s.A)(it.A,{objective:o}),Zt||(Zt=(0,s.A)("hr",{}))]}),t.map((e=>(0,s.A)(nt.$,{tracker:e,showTextLabel:!0,className:"masterwork-progress"},e?.trackerDef.hash)))]})},void 0,(0,s.A)(z.z9,{className:Qt.patternIcon,icon:"enhanced"===e.crafted?z.K1:z.b0}))}var Xt=o(39014),Yt=o(50503);const $t={deepsightProgress:"WeaponDeepsightInfo-m_deepsightProgress-ZosAh8K1",deepsightProgressBar:"WeaponDeepsightInfo-m_deepsightProgressBar-b9Nw9KIP"};var eo;function to({item:e}){const t=e.patternUnlockRecord,o=t?.objectives.filter((e=>!e.complete));return o?.length?(0,s.A)("div",{className:$t.deepsightProgress},void 0,o&&o.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,Xt.l0)(e)?(0,s.A)(Yt.e,{item:e}):eo||(eo=(0,s.A)("div",{className:"objective-checkbox"})),(0,s.A)("div",{className:$t.deepsightProgressBar},void 0,o.map((e=>(0,s.A)(it.A,{objective:e,showHidden:!0,noCheckbox:!0},e.objectiveHash))))]})):null}function oo({item:e,id:t,extraInfo:o={}}){const n=(0,at.A_)(),a=(0,h.d4)(d.cb),[r,i,c]=(0,st.iz)(),u=n.isDestiny2?(0,st.FN)(a,e,r):e,p=u.itemCategoryHashes.includes(4104513227)?fe:ut,f=(0,h.d4)((e=>(0,k.KA)((0,d.Wh)(e),u.owner))),g=(0,Ie.Ul)(u),y=(0,m.useContext)(lt.B),v=(0,l.tl)("missing"===u.missingSockets?"MovePopup.MissingSockets":"MovePopup.LoadingSockets");return(0,s.A)("div",{id:t,role:"tabpanel","aria-labelledby":t+"-tab",className:Rt.itemDetailsBody},void 0,u.itemCategoryHashes.includes(41)&&(0,s.A)(K.Ay,{className:Rt.itemShader,src:u.icon,width:"96",height:"96"}),(1345459588===u.bucket.hash||u.itemCategoryHashes.includes(56))&&u.secondaryIcon&&(0,s.A)(K.Ay,{src:u.secondaryIcon,className:(0,H.A)(Rt.fullImage,1345459588===u.bucket.hash&&Rt.milestoneImage)}),(0,s.A)(Et,{item:u}),!u.stats&&!!u.collectibleHash&&n.isDestiny2&&(0,s.A)("div",{className:(0,H.A)("item-details",Rt.itemSource)},void 0,n.Collectible.get(u.collectibleHash).sourceString),n.isDestiny2&&u.itemCategoryHashes.includes(19)&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(At.A,{item:u})),n.isDestiny2&&u.availableMetricCategoryNodeHashes&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(zt.A,{availableMetricCategoryNodeHashes:u.availableMetricCategoryNodeHashes})),n.isDestiny2&&(0,s.A)(Kt,{item:u,className:"crafted-progress"}),n.isDestiny2&&(0,s.A)(to,{item:u}),n.isDestiny2&&(0,s.A)(Wt,{item:u}),g&&n.isDestiny2&&(0,s.A)(nt.$,{tracker:g,showTextLabel:!0,className:"masterwork-progress"}),u.classified&&(0,s.A)("div",{className:"item-details"},void 0,(0,l.t)("ItemService.Classified2")),u.stats&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(Bt.A,{item:u})),(0,Ie.Ne)(u)&&u.talentGrid&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)(jt.A,{item:u})),u.missingSockets&&(0,s.A)("div",{className:"item-details warning"},void 0,(0,l.t)(v)),n.isDestiny2&&u.energy&&n&&(0,s.A)(Pt,{item:u}),u.sockets&&(0,s.A)(_t.A,{item:u,onPlugClicked:i}),(0,s.A)(bt,{item:u,setSocketOverride:i,onApplied:c}),u.perks&&(0,s.A)(qt,{item:u}),n&&u.objectives&&(0,s.A)("div",{className:"item-details"},void 0,u.objectives.map((e=>(0,s.A)(it.A,{objective:e,isTrialsPassage:n.isDestiny2&&(0,ot.eo)(u.hash)},e.objectiveHash)))),void 0!==u.previewVendor&&0!==u.previewVendor&&(o.characterId??(f&&!f.isVault))&&(0,s.A)("div",{className:Rt.itemDescription},void 0,(0,s.A)("a",{onClick:()=>y?.({characterId:o.characterId??f.id,vendorHash:u.previewVendor})},void 0,(0,l.t)("ItemService.PreviewVendor",{type:u.typeName}))),n.isDestiny2&&u.pursuit&&0!==u.pursuit.rewards.length&&(0,s.A)("div",{className:"item-details"},void 0,(0,s.A)("div",{},void 0,(0,l.t)("MovePopup.Rewards")),u.pursuit.rewards.map((e=>(0,s.A)(ct.e,{reward:e,store:f,itemHash:u.hash},e.itemHash)))),n.isDestiny2&&u.pursuit&&0!==u.pursuit.modifierHashes.length&&(0,s.A)("div",{className:"item-details"},void 0,u.pursuit.modifierHashes.map((e=>(0,s.A)(rt.l,{modifierHash:e},e)))),o.mod?(0,s.A)("div",{className:(0,H.A)("item-details",Rt.mods)},void 0,o.owned&&(0,s.A)("div",{},void 0,(0,s.A)("img",{className:Rt.ownedIcon,src:dt})," ",(0,l.t)("MovePopup.OwnedMod")),o.acquired&&(0,s.A)("div",{},void 0,(0,s.A)("img",{className:Rt.acquiredIcon,src:p})," ",(0,l.t)("MovePopup.AcquiredMod"))):(o.owned||o.acquired)&&(0,s.A)("div",{className:"item-details"},void 0,o.owned&&(0,s.A)("div",{},void 0,(0,s.A)(z.z9,{className:Rt.ownedIcon,icon:z.e6})," ",(0,l.t)("MovePopup.Owned")),o.acquired&&(0,s.A)("div",{},void 0,(0,s.A)(z.z9,{className:Rt.acquiredIcon,icon:z.e6})," ",(0,l.t)("MovePopup.Acquired"))),(0,s.A)(Lt.A,{item:u}),(0,s.A)(tt.P,{item:u}))}const so={movePopupTabs:"ItemPopupTabs-m_movePopupTabs-twrZaygr",movePopupTab:"ItemPopupTabs-m_movePopupTab-ggc5Vini common-m_resetButton-o3oKAnUN",selected:"ItemPopupTabs-m_selected-KDvXIrZt"};var no=o(11519),ao=o(50784),ro=o(12462);function io({item:e}){const t=(0,N._)(),o=(0,h.d4)((0,d.Y2)(e)),s=(0,m.useMemo)((()=>{let s=(0,no.tR)();if(e.taggable){s=[{combo:"shift+0",description:(0,l.t)("Tags.ClearTag"),callback:()=>t((0,ao.NA)(e,"clear"))}];for(const n of ro.eB)n.hotkey&&s.push({combo:n.hotkey,description:(0,l.t)("Hotkey.MarkItemAs",{tag:n.type}),callback:()=>t((0,ao.NA)(e,o===n.type?"clear":n.type))})}return s}),[t,e,o]);return(0,_.v)(s),null}var co=o(48371);const lo={Exotic:G.exotic,Legendary:G.legendary,Rare:G.rare,Uncommon:G.uncommon,Common:G.common,Unknown:"",Currency:""};function uo({item:e,element:t,extraInfo:o,boundarySelector:u,zIndex:p,noLink:g,onClose:v}){const{content:b,tabButtons:A}=function(e,t){const[o,n]=(0,j.i)("itemPopupTab"),a=(0,m.useId)(),r=(0,m.useRef)(void 0),i=a+"-details",c=a+"-triage",d=[{tab:0,title:(0,l.t)("MovePopup.OverviewTab"),id:i,component:(0,s.A)(oo,{item:e,extraInfo:t,id:i})}];(function(e){return 2===e.destinyVersion&&(e.bucket.inArmor||"Weapons"===e.bucket.sort&&1506418338!==e.bucket.hash&&3284755031!==e.bucket.hash)})(e)&&d.push({tab:1,title:(0,s.A)(Ue,{item:e,tabActive:1===o}),id:c,component:(0,s.A)(Ge,{item:e,id:c})});const u=(0,m.useCallback)(((e,t=!1)=>{const s=0===o?1:0;t&&(r.current=s),n(s)}),[n,o]),h=e=>{if(!e.repeat)switch(e.key){case"ArrowLeft":case"ArrowRight":case"Home":case"End":u(e,!0),e.stopPropagation(),e.preventDefault()}};return(0,_.E)("t",(0,l.t)("Hotkey.ItemPopupTab"),u),{content:(d.length>1?d.find((e=>e.tab===o)):d[0]).component,tabButtons:d.length>1?(0,s.A)("div",{className:so.movePopupTabs,role:"tablist","aria-label":(0,l.t)("MovePopup.TabList")},void 0,d.map((e=>(0,s.A)("div",{role:"tab",id:e.id+"-tab","aria-keyshortcuts":"t",className:(0,H.A)(so.movePopupTab,o===e.tab&&so.selected),"aria-selected":o===e.tab,"aria-controls":e.id,onClick:()=>n(e.tab),onKeyDown:h,tabIndex:o===e.tab?0:-1},e.tab,e.title)))):void 0}}(e,o),w=(0,h.d4)(d.pl),I=(0,V.Jn)(),S=(0,m.useRef)(null);(0,c.E)({placement:"right",contents:S,reference:{current:t||null},boundarySelector:u,arrowClassName:G.arrow,menuClassName:W});const x=(0,m.useMemo)((()=>e&&function(e,t){const o=(0,k.KA)(t,e.owner),s=!e.notransfer&&e.location.hasTransferDestination&&e.maxStackSize>1&&t.some((t=>t!==o&&(0,k.Fh)(t,e)>0)),n=1===e.destinyVersion&&!e.notransfer&&e.maxStackSize>1,a=e.taggable,r=e.lockable||e.trackable,i=e.comparable,c=!(!e.infusionFuel||!o),l=!(!(0,Ie.Yk)(e)||!o),d=215593132===e.location.hash,u=d?e.bucket.accountWide?(0,k.ZS)(t):o:void 0,m=u?(0,co.o_)(e,u,t):0,h=m>0,p=!(!o||!function(e,t){return e&&!e.isVault&&!t.notransfer&&!(t.location.inPostmaster&&!t.canPullFromPostmaster)}(o,e)),f=d?m:!o||e.maxStackSize<=1||e.notransfer||e.uniqueStack?1:(0,k.Fh)(o,e),g=!d&&f>1,y=o?t.filter((t=>(0,Ie.BE)(e,t))):[],v=o?t.filter((t=>function(e,t,o){return!(e.isVault||!t)&&1!==o.location.capacity&&1506418338!==o.location.hash&&3683254069!==o.location.hash&&(o.location.inPostmaster&&375726501!==o.location.hash?o.canPullFromPostmaster:o.notransfer?!(!o.equipped||t.id!==e.id):!o.bucket?.accountWide||e.current)}(t,o,e))):[],b=t=>e.owner===t.id&&e.equipped,A=t=>!o||!function(e,t,o){if(o.location.inPostmaster&&375726501!==o.location.hash)return o.canPullFromPostmaster;if(o.notransfer){if(o.equipped&&t.id===e.id)return!0}else if(t.id!==e.id||o.equipped)return!o.bucket?.accountWide||e.current;return!1}(t,o,e),w=y.map((e=>({store:e,enabled:!b(e)}))),I=v.map((e=>({store:e,enabled:!A(e)}))),S=!!(d&&h||w.length||I.length),x=!!(a||r||i||c||l||s||n);return{canConsolidate:s,canDistribute:n,taggable:a,lockable:r,comparable:i,infusable:c,loadoutable:l,inPostmaster:d,pullFromPostmaster:h,canVault:p,maximumMoveAmount:f,showAmounts:g,equip:w,store:I,hasMoveControls:S,hasAccessoryControls:x,hasControls:x||S}}(e,w)),[e,w]),T=Array.from(o?.failureStrings??[]);"unknown"!==e.owner&&!e.canPullFromPostmaster&&e.location.inPostmaster&&T.push((0,l.t)("MovePopup.CantPullFromPostmaster"));const N=(0,s.A)("div",{className:G.header},void 0,(0,s.A)(Q.Ay,{item:e,noLink:g},"header"+e.hash),T?.map((t=>t.length>0&&(0,s.A)("div",{className:G.failureReason},t,(0,s.A)(i.A,{text:t,ownerId:e.owner})))),I&&x.hasAccessoryControls&&(0,s.A)("div",{className:G.mobileItemActions},void 0,(0,s.A)(y,{item:e,mobile:!0,showLabel:!1,actionsModel:x})),A);return I?(0,s.A)(r.A,{onClose:v,zIndex:p,header:N,headerClassName:G.sheetHeader,closeButtonClassName:G.sheetClose,sheetClassName:(0,H.A)(lo[e.tier],G.movePopupDialog),footer:x.hasMoveControls&&(0,s.A)("div",{className:G.mobileMoveLocations},void 0,(0,s.A)(D,{item:e,actionsModel:x},e.index))},void 0,(0,s.A)("div",{className:G.popupBackground},void 0,b)):(0,s.A)(q.Z,{},void 0,(0,f.jsxs)("div",{className:(0,H.A)("item-popup",G.movePopupDialog,lo[e.tier],G.desktopPopupRoot),style:{zIndex:p},ref:S,role:"dialog","aria-modal":"false",children:[(0,s.A)(n.A,{onClickOutside:v},void 0,(0,s.A)(a.xw.Provider,{value:S},void 0,(0,s.A)(io,{item:e}),(0,s.A)("div",{className:G.desktopPopup},void 0,(0,s.A)("div",{className:(0,H.A)(G.desktopPopupBody,G.popupBackground)},void 0,N,b),x.hasControls&&(0,s.A)("div",{className:G.desktopActions},void 0,(0,s.A)(U,{item:e,actionsModel:x}))))),(0,s.A)("div",{className:(0,H.A)("arrow",G.arrow,lo[e.tier])})]}))}},24769:(e,t,o)=>{o.d(t,{wE:()=>y,NK:()=>v,Ay:()=>f});var s=o(10544),n=o(51700),a=o(44261),r=o(99880),i=o(8761),c=o(2290),l=o(13526),d=o(65564),u=o(18374),m=o(26470);const h={header:"ItemPopupHeader-m_header-ob9pVwC1 common-m_resetButton-o3oKAnUN",armory:"ItemPopupHeader-m_armory-SaIy4wH8",title:"ItemPopupHeader-m_title-K5Dg82cy",subtitle:"ItemPopupHeader-m_subtitle-I1AZaUn7",type:"ItemPopupHeader-m_type-UM3_fJ1Y",details:"ItemPopupHeader-m_details-iNGccF20",elementIcon:"ItemPopupHeader-m_elementIcon-TEC0tZeK",rare:"ItemPopupHeader-m_rare-bLVztQKP",common:"ItemPopupHeader-m_common-tVE4wlVe",exotic:"ItemPopupHeader-m_exotic-xrO6FQV_",ammoIcon:"ItemPopupHeader-m_ammoIcon-Z7tlzXfH",itemType:"ItemPopupHeader-m_itemType-vIgZvz6J",power:"ItemPopupHeader-m_power-j2eGLSfu",primary:"ItemPopupHeader-m_primary-XN6HV7cE",masterwork:"ItemPopupHeader-m_masterwork-YoQQrZNV",uncommon:"ItemPopupHeader-m_uncommon-RM4oOD4o",pursuit:"ItemPopupHeader-m_pursuit-IyN_sHKa",legendary:"ItemPopupHeader-m_legendary-pVp554TO"},p={Common:h.common,Uncommon:h.uncommon,Rare:h.rare,Legendary:h.legendary,Exotic:h.exotic};function f({item:e,noLink:t}){const[o,d]=(0,u.useState)(!1);(0,i.E)("a",(0,c.t)("Hotkey.Armory"),(()=>d(!0)));const f=!!e.element,g=!t&&2===e.destinyVersion;return(0,s.A)("button",{type:"button",disabled:!g,className:(0,l.A)(h.header,p[e.tier],e.masterwork&&h.masterwork,e.pursuit&&h.pursuit,g&&h.armory),title:g?(0,c.t)("Hotkey.Armory")+" [A]":void 0,"aria-keyshortcuts":g?"a":void 0,onClick:()=>d(!0)},void 0,g?(0,s.A)("h1",{className:h.title},void 0,(0,s.A)(r.A,{text:e.name,ownerId:e.owner})):(0,s.A)("span",{className:h.title},void 0,e.name),(0,s.A)("div",{className:h.subtitle},void 0,(0,s.A)("div",{className:h.type},void 0,(0,s.A)(v,{item:e,className:h.itemType}),2===e.destinyVersion&&e.ammoType>0&&(0,s.A)(y,{type:e.ammoType}),(0,s.A)(m.A,{item:e})),(0,s.A)("div",{className:h.details},void 0,f&&(0,s.A)(a.A,{element:e.element,className:h.elementIcon}),(0,s.A)("div",{className:h.power},void 0,e.primaryStat?.value),e.maxStackSize>1&&!e.itemCategoryHashes.includes(56)&&(0,s.A)("div",{className:h.itemType},void 0,e.amount.toLocaleString()," / ",e.maxStackSize.toLocaleString()),e.pursuit?.questLine&&(0,s.A)("div",{className:h.itemType},void 0,(0,c.t)("MovePopup.Subtitle.QuestProgress",{questStepNum:e.pursuit.questLine.questStepNum,questStepsTotal:e.pursuit.questLine.questStepsTotal})))),o&&g&&(0,s.A)(n.A,{onClose:()=>d(!1),item:e}))}const g={1:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1434 1024'%3e%3cpath fill='white' d='M716.8 243.2c38.4 0 89.6 128 89.6 179.2H627.2c0-51.2 51.2-179.2 89.6-179.2M627.2 473.6h179.2V768H627.2z'/%3e%3cpath fill='white' d='M179.2 1024 0 844.8V179.2L179.2 0h1075.2l179.2 179.2v665.6L1254.4 1024zm51.2-128h972.8l102.4-102.4V230.4L1203.2 128H230.4L128 230.4v563.2z'/%3e%3c/svg%3e",2:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1434 1024'%3e%3cpath fill='%237af48b' d='M588.8 243.2c38.4 0 89.6 128 89.6 179.2H499.2c0-51.2 51.2-179.2 89.6-179.2M499.2 473.6h179.2V768H499.2zM844.8 243.2c38.4 0 89.6 128 89.6 179.2H755.2c0-51.2 51.2-179.2 89.6-179.2M755.2 473.6h179.2V768H755.2z'/%3e%3cpath fill='%237af48b' d='M179.2 1024 0 844.8V179.2L179.2 0h1075.2l179.2 179.2v665.6L1254.4 1024zm51.2-128h972.8l102.4-102.4V230.4L1203.2 128H230.4L128 230.4v563.2z'/%3e%3c/svg%3e",3:d};function y({type:e,className:t}){return(0,s.A)("img",{className:(0,l.A)(h.ammoIcon,t,1===e&&h.primary),src:g[e]})}function v({item:e,className:t}){const o=3!==e.classType&&1585787867!==e.bucket.hash&&434908299!==e.bucket.hash&&3284755031!==e.bucket.hash&&!e.classified&&e.classTypeNameLocalized[0].toUpperCase()+e.classTypeNameLocalized.slice(1)||"",n=e.typeName&&o?(0,c.t)("MovePopup.Subtitle.Type",{classType:o,typeName:e.typeName}):e.typeName||o;return n?(0,s.A)("div",{className:t},void 0,n):null}},9803:(e,t,o)=>{o.d(t,{A:()=>z});var s=o(10544),n=o(18374),a=o(7398),r=o(99880),i=o(38654),c=o(36871),l=o(30803),d=o(72549),u=o(13526),m=o(8935),h=o(90789);const p={mod:"ArchetypeSocket-m_mod-wP6eprZ2",minimal:"ArchetypeSocket-m_minimal-HF8qRnO_",isWeapons:"ArchetypeSocket-m_isWeapons-ip8nn488",row:"ArchetypeSocket-m_row-u85T5wvj common-m_flexRow-ZPndn63a",info:"ArchetypeSocket-m_info-vkafEp1X",name:"ArchetypeSocket-m_name-stGGmYUc"};var f=o(89280),g=o(94518);function y({archetypeSocket:e,item:t,noTooltip:o,children:n,onClick:a}){return e?.plugged?(0,g.jsxs)(g.Fragment,{children:[(0,s.A)("div",{className:p.mod},void 0,(0,s.A)(f.A,{item:t,noTooltip:o,socket:e,onClick:a},e.socketIndex)),(0,s.A)("div",{className:p.info},void 0,(0,s.A)("div",{className:p.name},void 0,e.plugged.plugDef.displayProperties.name),n)]}):null}function v({className:e,children:t,minimal:o,isWeapons:n}){return(0,s.A)("div",{className:(0,u.A)(e,p.row,o&&p.minimal,n&&p.isWeapons)},void 0,t)}var b=o(87545);const A={emoteWheel:"EmoteSockets-m_emoteWheel-zF0pp9jT",collectionIcon:"EmoteSockets-m_collectionIcon-q4Tvr2he"};function k({item:e,itemDef:t,sockets:o,onClick:n}){const a=(0,s.A)(b.Wj,{itemDef:t,className:A.collectionIcon});return(0,s.A)("div",{className:(0,u.A)(A.emoteWheel,"item-sockets")},void 0,o.map(((t,o)=>(0,s.A)("div",{style:{gridArea:"slot"+o}},`${e.id}${t.socketIndex}`,(0,s.A)(f.A,{item:e,socket:t,onClick:n})))),(0,s.A)("div",{className:"plug",style:{gridArea:"collection"}},void 0,a))}const w={armorIntrinsicDescription:"ItemSocketsGeneral-m_armorIntrinsicDescription-iV9btrAP",clarityDescription:"ItemSocketsGeneral-m_clarityDescription-IYElruSW",minimalSockets:"ItemSocketsGeneral-m_minimalSockets-XZFOvJVs",generalSockets:"ItemSocketsGeneral-m_generalSockets-e6K3hSRl"};function I({item:e,minimal:t,onPlugClicked:o}){const n=(0,i.I3)(),a=(0,m.d4)((0,h.Zd)(e));if(!e.sockets||!n)return null;const{intrinsicSocket:r,modSocketsByCategory:l}=(0,d.$p)(e),p=e.sockets.categories.find((e=>1093090108===e.category.hash)),y=(0,d.kf)(e),v=y.map((e=>e.socketIndex)),b=(t?(0,c.hS)(l.entries(),(([e])=>e.category.categoryStyle)):[...l.entries()]).map((([e,t])=>[e,t.filter((e=>!v.includes(e.socketIndex)))])).filter((([,e])=>e.length>0)),A=(0,c.x1)([r,...y],(n=>n&&(0,s.A)(S,{item:e,socket:n,minimal:t,onPlugClicked:o},n.socketIndex)));return(0,g.jsxs)(g.Fragment,{children:[!t&&A,(0,s.A)("div",{className:(0,u.A)(w.generalSockets,t&&w.minimalSockets)},void 0,p&&(0,s.A)(k,{item:e,itemDef:n.InventoryItem.get(e.hash),sockets:p.socketIndexes.map((t=>e.sockets.allSockets[t])),onClick:o}),b.map((([n,r])=>(0,s.A)("div",{},n.category.hash,!t&&(0,s.A)("div",{className:"item-socket-category-name"},void 0,n.category.displayProperties.name),(0,s.A)("div",{className:"item-sockets"},void 0,r.map((t=>(0,s.A)(f.A,{item:e,socket:t,wishlistRoll:a,onClick:o},t.socketIndex)))))))),t&&A]})}function S({item:e,socket:t,minimal:o,onPlugClicked:n}){const i=(0,l.R1)(t.plugged?.plugDef);return(0,s.A)(v,{minimal:o},void 0,(0,s.A)(y,{archetypeSocket:t,noTooltip:!o,item:e,onClick:n},void 0,!o&&(0,s.A)("div",{className:w.armorIntrinsicDescription},void 0,i.perks.map((e=>e.description&&(0,s.A)(r.A,{text:e.description},e.perkHash))),i.communityInsight&&(0,s.A)(a.A,{perk:i.communityInsight,className:w.clarityDescription}))))}var x=o(2290),T=o(17222),N=o(88312),C=o(60440),H=o(16283);o(8068);const P={sockets:"ItemPerksList-m_sockets-I_xMl1KD",socket:"ItemPerksList-m_socket-YUnWXHkm common-m_flexRow-ZPndn63a",plug:"ItemPerksList-m_plug-OeLhMZ7d common-m_flexRow-ZPndn63a",perkIconWrapper:"ItemPerksList-m_perkIconWrapper-p1UU9jfP",perkInfo:"ItemPerksList-m_perkInfo-CDz84JR5 common-m_flexColumn-xaQidJJA",selected:"ItemPerksList-m_selected-X9TlpRyU",disabled:"ItemPerksList-m_disabled-sRJTSQWj",plugLabel:"ItemPerksList-m_plugLabel-eon7qxxU"};var D=o(13642),M=o(7379);function E({item:e,perks:t,onClick:o}){const a=(0,i.I3)(),r=(0,m.d4)((0,h.Zd)(e)),[c,l]=(0,n.useState)(),u=(t,s)=>{l(c?.perkHash===s.plugDef.hash?void 0:{socketIndex:t.socketIndex,perkHash:s.plugDef.hash}),o?.(e,t,s,!1)};if(!t.socketIndexes||!a||!e.sockets)return null;const p=t.socketIndexes.toReversed(),f=(0,d.I8)(e.sockets,p);return(0,s.A)("div",{className:P.sockets},void 0,f.map((t=>!(0,H.iR)(t)&&(0,s.A)(R,{item:e,socket:t,wishlistRoll:r,selectedPerk:c,onPerkSelected:u},t.socketIndex))))}function R({item:e,socket:t,wishlistRoll:o,selectedPerk:n,onPerkSelected:a}){return t.plugOptions.length?(0,s.A)("div",{className:P.socket},void 0,t.plugOptions.map((r=>(0,s.A)(L,{plug:r,item:e,socketInfo:t,wishlistRoll:o,selectedSocket:n?.socketIndex===t.socketIndex,selectedPerk:n?.perkHash===r.plugDef.hash,onPerkSelected:a},r.plugDef.hash)))):null}function L({item:e,plug:t,socketInfo:o,wishlistRoll:n,selectedSocket:a,selectedPerk:r,onPerkSelected:i}){if(!t.plugDef.plug)return null;const c=t===o.plugged;return(0,s.A)("div",{className:(0,u.A)(P.plug,!t.enabled&&P.disabled,c&&P.selected),onClick:()=>i(o,t)},t.plugDef.hash,(0,s.A)("div",{className:P.perkIconWrapper},void 0,(0,s.A)(D.C,{item:e,plug:t,wishlistRoll:n,socketInfo:o})),r?(0,s.A)("div",{className:P.perkInfo},void 0,(0,s.A)(M.Ks,{item:e,plug:t,wishlistRoll:n})):c&&!a&&(0,s.A)("div",{className:P.perkInfo},void 0,(0,s.A)("h2",{className:P.plugLabel},void 0,t.plugDef.displayProperties.name)))}const V="ItemSocketsWeapons-m_perks-mDCuySCm",q="ItemSocketsWeapons-m_displayStyleButton-qIajuSK6 common-m_resetButton-o3oKAnUN";var O,_;function B({item:e,minimal:t,grid:o,onPlugClicked:n}){const a=(0,i.I3)(),r=(0,m.d4)((0,h.Zd)(e)),[c,l]=(0,N.i)("perkList");if(!e.sockets||!a)return null;const{intrinsicSocket:p,perks:g,modSocketsByCategory:b}=(0,d.$)(e),A=[...b.values()].flat(),k=e.stats&&!e.itemCategoryHashes.includes(54)&&!e.itemCategoryHashes.includes(1504945536)&&e.stats.slice(0,2).filter((e=>!T.OC.includes(e.statHash)&&3614673599!==e.statHash)),w={4284893193:(0,x.t)("Organizer.Stats.RPM")},I=t=>(0,s.A)(f.A,{item:e,socket:t,wishlistRoll:r,onClick:n},t.socketIndex);return(0,s.A)("div",{className:(0,u.A)("ItemSocketsWeapons-m_weaponSockets-BbUFpvHF",t&&"ItemSocketsWeapons-m_minimal-pUZa4ijM")},void 0,(p?.plugged||!t&&A.length>0)&&(0,s.A)(v,{minimal:t,isWeapons:!0},void 0,p?.plugged&&(0,s.A)(y,{archetypeSocket:p,item:e},void 0,!t&&k&&k.length>0&&(0,s.A)("div",{className:"ItemSocketsWeapons-m_stats-G6YIq1sz"},void 0,k?.map((e=>`${e.value} ${(w[e.statHash]||e.displayProperties.name).toLowerCase()}`))?.join(" / "))),!t&&A.length>0&&(0,s.A)("div",{className:"item-sockets"},void 0,A.map(I))),g&&(!c||t||o?(0,s.A)("div",{className:V},void 0,!t&&!o&&(0,s.A)("button",{className:q,type:"button",title:(0,x.t)("Sockets.ListStyle"),onClick:()=>l(!0)},void 0,_||(_=(0,s.A)(C.z9,{icon:C.IT}))),(0,s.A)("div",{className:(0,u.A)("item-sockets","ItemSocketsWeapons-m_grid-zDrLcA1N")},void 0,(0,d.I8)(e.sockets,g.socketIndexes).map((t=>!(0,H.iR)(t)&&(0,s.A)(f.A,{item:e,socket:t,wishlistRoll:r,onClick:n},t.socketIndex))))):(0,s.A)("div",{className:V},void 0,!t&&!o&&(0,s.A)("button",{className:q,type:"button",title:(0,x.t)("Sockets.GridStyle"),onClick:()=>l(!1)},void 0,O||(O=(0,s.A)(C.z9,{icon:C.yO}))),(0,s.A)(E,{item:e,perks:g,onClick:n}))),t&&A.length>0&&(0,s.A)("div",{className:"item-sockets"},void 0,A.map(I)))}var j=o(59745);const z=(0,n.memo)((function({item:e,minimal:t,grid:o,onPlugClicked:a}){const[r,i]=(0,n.useState)(null),c=(e,t,o,s)=>{s?i(t):a?.({item:e,socket:t,plugHash:o.plugDef.hash})};return(0,g.jsxs)(g.Fragment,{children:[2===e.destinyVersion&&e.bucket.inWeapons?(0,s.A)(B,{item:e,minimal:t,grid:o,onPlugClicked:c}):(0,s.A)(I,{item:e,minimal:t,onPlugClicked:c}),r&&(0,s.A)(j.A,{item:e,socket:r,allowInsertPlug:!0,onClose:()=>i(null),onPlugSelected:a},r.socketIndex)]})}))},94798:(e,t,o)=>{o.d(t,{rk:()=>V,rL:()=>L,Ay:()=>D,IB:()=>_});var s=o(10544),n=(o(10131),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060),o(19654)),a=o(68548),r=o(20505),i=o(62032),c=o(66265),l=o(51504),d=o(2290),u=o(17222),m=o(59816),h=o(47490),p=o(60440),f=o(372),g=o(36871),y=o(57551),v=o(13526),b=o(71814),A=o(18374),k=o(8935),w=o(72549);const I={statName:"ItemStat-m_statName-nCZq_YnF",value:"ItemStat-m_value-ZujokUoq",icon:"ItemStat-m_icon-uDt29Bto",statBar:"ItemStat-m_statBar-EKoVWWwS",barContainer:"ItemStat-m_barContainer-SmHxMlUC",statBarSegment:"ItemStat-m_statBarSegment-yhclreRu",negative:"ItemStat-m_negative-NGGean0K",parts:"ItemStat-m_parts-IMGgCd1M",mod:"ItemStat-m_mod-uDpg0vpf",masterwork:"ItemStat-m_masterwork-kUOH0tEY",statBarTooltip:"ItemStat-m_statBarTooltip-rHlgbof8",base:"ItemStat-m_base-AEhVLh7w",tooltipNetStat:"ItemStat-m_tooltipNetStat-C47VUHav",tooltipTotalRow:"ItemStat-m_tooltipTotalRow-csfQ3eZV",qualitySummary:"ItemStat-m_qualitySummary-WAQrFhBf",quality:"ItemStat-m_quality-W7FD6_SL",masterworked:"ItemStat-m_masterworked-g6JOgHPr",negativeModded:"ItemStat-m_negativeModded-Nzd9wQC1",totalRow:"ItemStat-m_totalRow-ZtP141Vh",totalStatDetailed:"ItemStat-m_totalStatDetailed-cTWbaY3e",totalStatModded:"ItemStat-m_totalStatModded-GUTgxwOC",totalStatNegativeModded:"ItemStat-m_totalStatNegativeModded-dg0M0bAc",totalStatMasterwork:"ItemStat-m_totalStatMasterwork-zPfOYvri",customTotal:"ItemStat-m_customTotal-Wk2XUcCi",nonDimmedStatIcons:"ItemStat-m_nonDimmedStatIcons-hBez1ID_",smallStatToggle:"ItemStat-m_smallStatToggle-wFJXisFU"};var S,x=o(18631),T=o(94518);const N=new Set([1052191496,4062965806,4104513227]),C=new Set([444756050,1334054322,1709863189,2076918099,2411768833,2840834688,3055157023,3072652064,3085181971,3360831066,3836367751,3866509906,4184407433]),H={4284893193:(0,d.tl)("Organizer.Stats.RPM"),2714457168:(0,d.tl)("Organizer.Stats.Airborne")},P={base:[I.base,(0,d.tl)("Organizer.Columns.BaseStats")],parts:[I.parts,(0,d.tl)("Stats.WeaponPart")],mod:[I.mod,(0,d.tl)("Loadouts.Mods")],masterwork:[I.masterwork,(0,d.tl)("Organizer.Columns.MasterworkStat")]};function D({stat:e,item:t}){const o=(0,k.d4)((0,n.A2)("itemQuality")),c=(0,k.d4)(n.qg).map((e=>e.statHash)),l=t&&O(t,e.statHash).sort((0,y.fb)((0,y.VE)((([e])=>e)))),p=l?(0,g.xu)(l,(([e])=>e)):0,f=t&&function(e,t){const o=function(e){return(e.sockets?.allSockets??[]).filter((e=>e.plugged?.plugDef.itemCategoryHashes?.some((e=>C.has(e)))))}(e);return j(o,[t])}(t,e.statHash).sort((0,y.fb)((0,y.VE)((([e])=>e)))),A=f?(0,g.xu)(f,(([e])=>e)):0,S=t?.sockets&&(0,w.Yf)(t.sockets,5),N=S&&B(S,[e.statHash]),P=t?.masterworkInfo?.stats?.find((t=>t.hash===e.statHash))?.value??0,D=0!==P;let E=P||N||0;const L=[[t?.bucket.inArmor?Math.max(Math.min(e.base,e.value),0):e.value-P-p-A,"base"]];for(const[e,t]of f??[])L.push([e,"parts",t]);for(const[e,t]of l??[])L.push([e,"mod",t]);E&&(p<0&&(E=(0,b.q)(E,0,e.value)),L.push([E,"masterwork"]));const V=t&&e.statHash===m.Tt&&function(e,t,o){return{baseTotalValue:e,totalModsValue:B(q(t),m.BZ),totalMasterworkValue:o?B(o,m.BZ):0}}(e.base,t,S||[]),z=(e.value!==e.base?p:0)*(e.smallerIsBetter?-1:1),F={[I.masterworked]:D,[I.mod]:z>0,[I.negativeModded]:z<0,[I.totalRow]:!!V,[I.customTotal]:c.includes(e.statHash)};return(0,T.jsxs)(T.Fragment,{children:[(0,s.A)("div",{className:(0,v.A)(I.statName,F),"aria-label":e.displayProperties.name,title:e.displayProperties.description},void 0,e.statHash in H?(0,d.t)(H[e.statHash]):e.displayProperties.name),(0,s.A)("div",{className:(0,v.A)(I.value,F)},void 0,e.additive&&e.value>=0&&"+",(0,s.A)(a.A,{value:e.value})),2===t?.destinyVersion&&u.OC.includes(e.statHash)&&(0,s.A)("div",{className:(0,v.A)(F)},void 0,(0,d.t)("Stats.Milliseconds")),e.displayProperties.hasIcon&&(0,s.A)("div",{className:I.icon},void 0,(0,s.A)(r.Ay,{className:"stat-icon",src:e.displayProperties.icon,alt:""})),o&&t&&_(t)&&e.qualityPercentage&&0!==e.qualityPercentage.min&&(0,s.A)("div",{className:I.quality,style:(0,h.oU)(e.qualityPercentage.min,"color")},void 0,"(",e.qualityPercentage.range,")"),2715839340===e.statHash&&(0,s.A)("div",{className:I.statBar},void 0,(0,s.A)(x.A,{value:e.value})),e.bar&&(0,s.A)(M,{stat:e,segments:L}),V&&!!V.baseTotalValue&&!(!V.totalModsValue&&!V.totalMasterworkValue)&&(0,s.A)(R,{totalDetails:V,optionalClasses:F,stat:e}),t&&c.includes(e.statHash)&&(0,s.A)(i.F,{className:(0,v.A)(I.smallStatToggle,I.nonDimmedStatIcons),customStatHash:e.statHash})]})}function M({segments:e,stat:t}){let o=t.value,n=Math.max(t.maximumValue-t.value,0);return(0,s.A)("div",{className:I.statBar,"aria-label":t.displayProperties.name,"aria-hidden":"true"},void 0,(0,s.A)(l.Re,{placement:"top-start",className:I.barContainer,tooltip:(0,s.A)(E,{segments:e,stat:t})},void 0,e.toSorted((([,e])=>"base"===e?1:0)).map((([e,a],r)=>{let i=Math.abs(e);return e<0?(i=Math.min(i,n),n-=i):(i=Math.min(i,o),o-=i),(0,s.A)("div",{className:(0,v.A)(I.statBarSegment,e<0&&"masterwork"!==a?I.negative:P[a][0]),style:{width:(0,h.KN)(i/t.maximumValue)}},r)}))))}function E({segments:e,stat:t}){const o=!(1===e.length&&"base"===e[0][1]);return(0,T.jsx)(T.Fragment,{children:(0,s.A)("div",{className:I.statBarTooltip},void 0,o&&e.map((([e,t,o],n)=>{const[a,r]=P[t],i=(0,v.A)(a,e<0&&I.negative);return(0,s.A)(A.Fragment,{},n,(0,s.A)("span",{className:i},void 0,n>0&&e>=0&&"+",e),(0,s.A)("span",{className:i},void 0,o||(0,d.t)(r)))})),(0,s.A)("span",{className:(0,v.A)(I.tooltipNetStat,o&&I.tooltipTotalRow)},void 0,(0,s.A)("span",{},void 0,t.value),(0,s.A)("span",{},void 0,t.displayProperties.name)))})}function R({totalDetails:e,optionalClasses:t,stat:o}){return(0,s.A)("div",{className:(0,v.A)(I.totalStatDetailed,t),"aria-label":o.displayProperties.name,title:o.displayProperties.description},void 0,(0,s.A)("span",{},void 0,e.baseTotalValue),!!(e.totalModsValue>0)&&(0,s.A)("span",{className:I.totalStatModded},void 0," + "+e.totalModsValue),!!(e.totalModsValue<0)&&(0,s.A)("span",{className:I.totalStatNegativeModded},void 0," - "+-e.totalModsValue),!!e.totalMasterworkValue&&(0,s.A)("span",{className:I.totalStatMasterwork},void 0," + "+e.totalMasterworkValue))}function L({stat:e,item:t,baseStat:o}){const n=t.masterworkInfo?.stats?.findIndex((t=>t.hash===e.statHash))||0,r=!o&&t.masterworkInfo?.stats?.[n]?.hash===e.statHash,i=!o&&function(e,t){return(0,g.xu)(O(e,t),(([e])=>e))}(t,e.statHash),c=(o?e.base:e.value)??0,l=(0,v.A)(r&&I.masterworked,!!(i&&i>0&&e.value!==e.base)&&I.mod,!!(i&&i<0&&e.value!==e.base)&&I.negativeModded);return(0,s.A)("div",{className:(0,v.A)(I.value,l)},void 0,(0,s.A)(a.A,{value:c}),u.OC.includes(e.statHash)&&(0,d.t)("Stats.Milliseconds"),2715839340===e.statHash&&(0,s.A)(x.A,{value:c}))}function V({item:e}){return e.quality?(0,T.jsxs)(T.Fragment,{children:[(0,s.A)("div",{className:I.statName},void 0,(0,d.t)("Stats.Quality")),(0,s.A)("div",{className:I.qualitySummary,style:(0,h.oU)(e.quality.min,"color")},void 0,(0,d.t)("Stats.OfMaxRoll",{range:e.quality.range}),(0,s.A)(c.A,{href:(0,f.JD)("View-how-good-the-stat-(Int-Dis-Str)-roll-on-your-armor-is"),title:(0,d.t)("Stats.PercentHelp")},void 0,S||(S=(0,s.A)(p.z9,{icon:p.$y}))))]}):null}function q(e){return e.sockets?e.sockets.allSockets.filter((e=>e.plugged&&!e.isPerk&&!(0,w.KG)(e)&&!e.plugged.plugDef.plug.plugCategoryIdentifier.includes("masterwork")&&(e.plugged.plugDef.itemCategoryHashes?.some((e=>N.has(e)))||m.dl.includes(e.plugged.plugDef.hash)))):[]}function O(e,t){return j(q(e),[t])}function _(e,t){return 1===e.destinyVersion}function B(e,t){return(0,g.xu)(j(e,t),(([e])=>e))}function j(e,t){const o=[];for(const s of e)if(s.plugged?.enabled&&s.plugged.stats&&!(0,w.KG)(s))for(const[e,n]of Object.entries(s.plugged.stats))t.includes(+e)&&o.push([n.value,s.plugged.plugDef.displayProperties.name]);return o}},13406:(e,t,o)=>{o.d(t,{A:()=>c});var s=o(10544),n=o(16283),a=o(13526),r=o(94798);const i={stats:"ItemStats-m_stats-g5ACoYaA",hasIcons:"ItemStats-m_hasIcons-SSwBB63q"};function c({stats:e,item:t,className:o}){if(e||=t?.stats,!e?.length)return null;const c=e.some((e=>e.displayProperties.hasIcon||t&&(0,r.IB)(t,e)&&e.qualityPercentage?.min));return(0,s.A)("div",{className:(0,a.A)(o,i.stats,c&&i.hasIcons)},void 0,e.map((e=>(0,s.A)(r.Ay,{stat:e,item:t},e.statHash))),t&&(0,n.Ne)(t)&&!!t.quality?.min&&(0,s.A)(r.rk,{item:t}))}},67956:(e,t,o)=>{o.d(t,{A:()=>d});var s=o(10544),n=o(36871),a=o(13526),r=o(18374),i=o(20505),c=o(51504),l=o(94518);const d=(0,r.memo)((function({item:e,perksOnly:t}){const o=e.talentGrid;if(!o)return null;let r=0;t&&(o.nodes.find((e=>1270552711===e.hash))&&(r+=1),o.nodes.find((e=>2133116599===e.hash))&&(r+=1));const d=o.nodes.filter((e=>!e.hidden)),u=(0,n._)(d,(e=>e.column))+1-r,m=1.1*(38*((0,n._)(d,(e=>e.row))+1)-4),h=1.1*(38*u-4);return(0,s.A)("svg",{preserveAspectRatio:"xMaxYMin meet",viewBox:`0 0 ${h} ${m}`,className:"talent-grid",height:m,width:h},void 0,(0,s.A)("g",{transform:"scale(1.1)"},void 0,function(e,t){return(e||[]).filter((e=>!e.hidden&&e.column>=t))}(o.nodes,r).map((e=>(0,s.A)(c.Re,{elementType:"g",tooltip:(0,l.jsxs)(l.Fragment,{children:[(0,s.A)(c.m_.Header,{text:e.name}),(0,s.A)("div",{},void 0,e.description)]})},e.hash,(0,s.A)("g",{transform:`translate(${38*(e.column-r)},${38*e.row})`,className:(0,a.A)("talent-node",e.activated?"talent-node-activated"+(!e.xpRequired&&!e.exclusiveInColumn&&e.column<1?" talent-node-default":""):e.xpRequired&&"talent-node-showxp")},void 0,(0,s.A)("circle",{r:"16",cx:"-17",cy:"17",transform:"rotate(-90)",className:"talent-node-xp",strokeWidth:e.xp?2:0,strokeDasharray:100*e.xp/e.xpRequired+" 100"}),(0,s.A)("image",{className:"talent-node-img",href:(0,i.Tu)(e.icon),x:"20",y:"20",height:"96",width:"96",transform:"scale(0.25)"})))))))}))},26023:(e,t,o)=>{o.d(t,{$:()=>r});var s=o(10544),n=o(38654),a=o(20505);function r({tracker:e,showTextLabel:t,className:o}){const r=(0,n.I3)(),i=e.trackerDef.objectives&&r.Objective.get(e.trackerDef.objectives.objectiveHashes[0])||null;return i&&(0,s.A)("div",{className:o},void 0,(0,s.A)(a.Ay,{src:i.displayProperties.icon})," ",t&&i.progressDescription," ",(0,s.A)("span",{},void 0,e.count.toLocaleString()))}},37914:(e,t,o)=>{o.d(t,{A:()=>i});var s=o(10544),n=o(20505),a=o(38654);const r={list:"MetricCategories-m_list-C0XI0OWi",icon:"MetricCategories-m_icon-UO8WoB0J"};function i({availableMetricCategoryNodeHashes:e}){return(0,s.A)("ul",{className:r.list},void 0,e.map((e=>(0,s.A)(c,{categoryHash:e},e))))}function c({categoryHash:e}){const t=(0,a.I3)().PresentationNode.get(e);return(0,s.A)("li",{},void 0,(0,s.A)(n.Ay,{className:r.icon,src:t.displayProperties.iconSequences[0].frames[2]}),t.displayProperties.name)}},83793:(e,t,o)=>{o.d(t,{A:()=>k,R:()=>A});var s=o(10544),n=o(43036),a=o(24416),r=o(8761),i=o(2290),c=o(50784),l=o(62447),d=o(60440),u=o(86119),m=o(92369),h=o(49629),p=o(13526),f=o(18374),g=o(8935),y=o(86335);const v={openNotesEditor:"NotesArea-m_openNotesEditor-NOec1BKM",noNotesYet:"NotesArea-m_noNotesYet-aiG2iNi0",notesLabel:"NotesArea-m_notesLabel-Kfce4lYw",addNotesLabel:"NotesArea-m_addNotesLabel-HmOxqgLf",minimal:"NotesArea-m_minimal-Sf3FqNkq",editIcon:"NotesArea-m_editIcon-BHlvRjJI",error:"NotesArea-m_error-nX941WfJ"};var b=o(94518);const A=1024;function k({item:e,minimal:t,className:o}){const n=(0,g.d4)((0,l.fC)(e)),[a,c]=(0,f.useState)(!1),u=(0,f.useCallback)((()=>{c(!0)}),[]);return(0,r.E)("n",(0,i.t)("Hotkey.Note"),u),e.taggable?(0,s.A)("div",{className:(0,p.A)(o,t&&v.minimal)},void 0,a?(0,s.A)(w,{notes:n,item:e,setNotesOpen:c}):(0,s.A)("div",{role:"button",className:(0,p.A)(v.openNotesEditor,!n&&v.noNotesYet),onClick:u,tabIndex:0},void 0,(0,s.A)(d.z9,{className:v.editIcon,icon:d.IZ})," ",(0,s.A)("span",{className:n?v.notesLabel:v.addNotesLabel},void 0,(0,i.t)(n?"MovePopup.Notes":"MovePopup.AddNote"))," ",n)):null}function w({notes:e,item:t,setNotesOpen:o}){const r=(0,u.Jn)(),[d,p]=(0,f.useState)(e??""),k=(0,f.useRef)(null),w=(0,m._)(),I=(0,f.useCallback)((()=>{const e=k.current?.value.trim();w((0,c.bS)(t,e))}),[w,t]),S=e=>e.stopPropagation();(0,f.useLayoutEffect)((()=>I),[I]);const x=(0,g.d4)(l.d6);(0,a.m)(k,x);const T=!r&&!(0,h.QM)();return(0,s.A)("form",{name:"notes"},void 0,(0,s.A)(n.C,{input:k,setValue:e=>p(e)},void 0,(0,b.jsx)(y.A,{ref:k,name:"data",autoFocus:T,placeholder:(0,i.t)("Notes.Help"),maxLength:A,value:d,onClick:e=>{e.stopPropagation()},onChange:e=>p(e.target.value),onBlur:S,onKeyDown:t=>{t.stopPropagation(),"Escape"===t.key&&(k.current.value=e??"",o(!1)),"Enter"!==t.key||t.shiftKey||(t.preventDefault(),o(!1))},onPointerDown:S})),d&&d.length>A&&(0,s.A)("span",{className:v.error},void 0,(0,i.t)("Notes.Error")))}},13642:(e,t,o)=>{o.d(t,{C:()=>k,A:()=>A});var s=o(10544),n=o(20505),a=o(87545),r=o(45680),i=o(38654),c=o(72549),l=o(98207),d=o(13526),u=o(51504),m=o(68363);const h={perkCircle:"Plug-m_perkCircle-e_nYedyn",perkOutline:"Plug-m_perkOutline-od45Ah47",mod:"Plug-m_mod-fcXy7olj",masterwork:"Plug-m_masterwork-Y25GXuDw",none:"Plug-m_none-OkujBhzX",notSelected:"Plug-m_notSelected-NjrU5lbb",plugged:"Plug-m_plugged-kMgwBqLo",selected:"Plug-m_selected-AendhPLA",cannotRoll:"Plug-m_cannotRoll-JE7KTgxc",disabled:"Plug-m_disabled-zrA_qIsO",selectable:"Plug-m_selectable-oHZXmQjY",hasMenu:"Plug-m_hasMenu-FWbDUk0Y"};var p,f,g,y,v=o(7379),b=o(94518);function A({plug:e,item:t,socketInfo:o,wishlistRoll:n,hasMenu:l,noTooltip:m,isMod:p,onClick:f,plugged:g,selected:y,cannotRoll:b,unreliablePerkOption:A,notSelected:w}){const I=(0,i.I3)().InventoryItem.get(e.plugDef.hash);if(!I||!(0,r.rH)(I))return null;const S=o.plugOptions.length>1,x=(l||S)&&f?()=>f(e):void 0;return(0,s.A)("div",{className:(0,d.A)("plug",!e.enabled&&h.disabled,S&&h.selectable,l&&h.hasMenu,p&&h.mod,t.masterwork&&(0,c.hN)(o)&&h.masterwork),role:x?"button":void 0,onClick:x},e.plugDef.hash,o.isReusable?(0,s.A)(k,{item:t,plug:e,wishlistRoll:n,socketInfo:o,plugged:g,selected:y,cannotRoll:b,unreliablePerkOption:A,notSelected:w}):m?(0,s.A)(a.Wj,{itemDef:e.plugDef}):(0,s.A)(u.Re,{tooltip:(0,s.A)(v.Ks,{item:t,plug:e,wishlistRoll:n})},void 0,(0,s.A)(a.Wj,{itemDef:e.plugDef})))}function k({item:e,plug:t,socketInfo:o,wishlistRoll:n,plugged:a,selected:r,cannotRoll:i,unreliablePerkOption:c,notSelected:d}){a??=t===o.plugged,d??=o.actuallyPlugged&&!a&&t===o.actuallyPlugged,r??=o.actuallyPlugged&&a,i??=t.cannotCurrentlyRoll,c??=t.unreliablePerkOption;const h=(0,m._t)(t,n);return(0,b.jsxs)(b.Fragment,{children:[(0,s.A)(u.Re,{tooltip:()=>(0,s.A)(v.Ks,{item:e,plug:t,wishlistRoll:n,craftingData:o.craftingData?.[t.plugDef.hash]})},void 0,(0,s.A)(w,{plug:t,plugged:a,notSelected:d,selected:r,cannotRoll:i,unreliablePerkOption:c})),h&&(0,s.A)(l.A,{wishListRoll:n,floated:!0})]})}function w({plug:e,className:t,plugged:o,selected:a,cannotRoll:r,notSelected:i,unreliablePerkOption:l}){const u=(0,c.tR)(e.plugDef),m=(0,d.A)(o&&h.plugged,a&&h.selected,i&&h.notSelected)||h.none;return(0,s.A)("svg",{viewBox:"0 0 100 100",width:"100",height:"100",className:(0,d.A)(h.perkCircle,t)},void 0,p||(p=(0,s.A)("defs",{},void 0,(0,s.A)("linearGradient",{id:"mw",x1:"0",x2:"0",y1:"0",y2:"1"},void 0,(0,s.A)("stop",{stopColor:"#eade8b",offset:"50%",stopOpacity:"0"}),(0,s.A)("stop",{stopColor:"#eade8b",offset:"100%",stopOpacity:"1"})))),f||(f=(0,s.A)("mask",{id:"mask"},void 0,(0,s.A)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"black"}),(0,s.A)("circle",{cx:"50",cy:"50",r:"46",fill:"white"}))),(0,s.A)("circle",{cx:"50",cy:"50",r:"48",className:m}),u&&(g||(g=(0,b.jsxs)(b.Fragment,{children:[(0,s.A)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#mw)",mask:"url(#mask)"}),(0,s.A)("rect",{x:"5",y:"0",width:"6",height:"100",fill:"#eade8b",mask:"url(#mask)"})]}))),(0,s.A)("image",{href:(0,n.Tu)(e.plugDef.displayProperties.icon),x:"10",y:"10",width:"80",height:"80",mask:"url(#mask)"}),(0,s.A)("circle",{cx:"50",cy:"50",r:"46",stroke:"white",fill:"transparent",strokeWidth:"2",className:(0,d.A)(h.perkOutline,(r||l)&&h.cannotRoll)}),u&&(y||(y=(0,s.A)("path",{d:"M5,50 l0,-24 l-6,0 l9,-16 l9,16 l-6,0 l0,24 z",fill:"#eade8b"}))))}},7379:(e,t,o)=>{o.d(t,{Ks:()=>x,Zv:()=>T,eo:()=>C});var s=o(10544),n=o(7398),a=o(20505),r=o(44261),i=o(51504),c=o(99880),l=o(2290),d=o(26397),u=o(45680),m=o(74941),h=o(84211),p=o(38654),f=o(16283),g=o(30803),y=o(72549),v=o(98207),b=o(13526),A=o(81584),k=o(18374),w=o(82072);const I={objectives:"PlugTooltip-m_objectives-QRpiWhyx",perkName:"PlugTooltip-m_perkName-CrELksG9",requirement:"PlugTooltip-m_requirement-uLW3OJfY",clarityDescription:"PlugTooltip-m_clarityDescription-e3ZmJvow",source:"PlugTooltip-m_source-yRuzD9Xf",tooltip:"PlugTooltip-m_tooltip-GHf_yP6m",subheader:"PlugTooltip-m_subheader-mJUaJxKP",energyCost:"PlugTooltip-m_energyCost-bLHBXuwo",elementIcon:"PlugTooltip-m_elementIcon-mlWwNsDM",communityInsightSection:"PlugTooltip-m_communityInsightSection-qR7wFJDr",craftingRequirementsSection:"PlugTooltip-m_craftingRequirementsSection-1tJBZnwT",cannotRollSection:"PlugTooltip-m_cannotRollSection-N1jW21sG",automaticallyPickedSection:"PlugTooltip-m_automaticallyPickedSection-gnvolDH4",tooltipExotic:"PlugTooltip-m_tooltipExotic-fbN0hawE",tooltipEnhanced:"PlugTooltip-m_tooltipEnhanced-YHgAFdUW",tooltipElementArc:"PlugTooltip-m_tooltipElementArc-Q3j1TsOp",tooltipElementSolar:"PlugTooltip-m_tooltipElementSolar-WDUbz3QR",tooltipElementVoid:"PlugTooltip-m_tooltipElementVoid-wRdRu5uy",tooltipElementStasis:"PlugTooltip-m_tooltipElementStasis-PNkcS7JA",tooltipElementStrand:"PlugTooltip-m_tooltipElementStrand-vrfxubpC",plugStats:"PlugTooltip-m_plugStats-luOtuTmN",stackable:"PlugTooltip-m_stackable-Sv11oQtA"};var S=o(94518);function x({item:e,plug:t,wishlistRoll:o,craftingData:n}){const a=o?.wishListPerks.has(t.plugDef.hash)?(0,s.A)(v.A,{wishListRoll:o,legend:!0}):void 0,r=(0,g.g8)(e,t),i=t.plugDef.traitHashes?.includes(4036726046)&&e.masterwork;return(0,s.A)(N,{def:t.plugDef,stats:r,plugObjectives:t.plugObjectives,enableFailReasons:t.enableFailReasons,cannotCurrentlyRoll:t.cannotCurrentlyRoll,unreliablePerkOption:t.unreliablePerkOption,wishListTip:a,hideRequirements:i,craftingData:n})}function T({def:e,classType:t,automaticallyPicked:o,disabledByAutoStatMods:n}){const a=(0,g.PD)(e,t);return(0,s.A)(N,{def:e,stats:a,automaticallyPicked:o,disabledByAutoStatMods:n})}function N({def:e,stats:t,plugObjectives:o,enableFailReasons:a,cannotCurrentlyRoll:v,unreliablePerkOption:x,wishListTip:T,automaticallyPicked:N,disabledByAutoStatMods:H,hideRequirements:P,craftingData:D}){const M=(0,p.I3)(),E=t||[],R=(0,g.R1)(e,E),L=M&&e.collectibleHash&&M.Collectible.get(e.collectibleHash).sourceString,V=o?.filter((e=>8!==(0,d.JW)(M?.Objective.get(e.objectiveHash),e.progress??0,e.completionValue))),q=(0,f.mP)(e);P||=q;const O=R.perks.length>0&&R.perks.map((e=>(0,s.A)("div",{},e.perkHash,e.name&&(0,s.A)("div",{className:I.perkName},void 0,e.name),e.description&&(0,s.A)(c.A,{text:e.description}),!P&&e.requirement&&(0,s.A)(c.A,{text:e.requirement,className:I.requirement})))),_=R.communityInsight&&(0,s.A)(i.m_.Section,{className:I.communityInsightSection},void 0,(0,s.A)(n.A,{perk:R.communityInsight,className:I.clarityDescription})),B=E.length>0&&(0,s.A)(C,{stats:E}),j=(0,u.rH)(e),z=j&&(0,y.ei)(e)?e.plug.energyCost:null,F=j&&(0,m.r)(e),W=(0,i.Cy)({getHeader:(0,k.useCallback)((()=>e.displayProperties.name),[e.displayProperties.name]),getSubheader:(0,k.useCallback)((()=>(0,s.A)("div",{className:I.subheader},void 0,(0,s.A)("span",{},void 0,e.itemTypeDisplayName),void 0!==z?.energyCost&&z.energyCost>0&&(0,s.A)("span",{className:I.energyCost},void 0,(0,s.A)(r.p,{className:I.elementIcon}),z.energyCost))),[e.itemTypeDisplayName,z?.energyCost]),className:(0,b.A)(I.tooltip,(A.A.has(e.hash)||j&&(0,y.tR)(e))&&I.tooltipEnhanced,6===e.inventory?.tierType&&I.tooltipExotic,2===F&&I.tooltipElementArc,3===F&&I.tooltipElementSolar,4===F&&I.tooltipElementVoid,6===F&&I.tooltipElementStasis,7===F&&I.tooltipElementStrand)});return(0,S.jsxs)(S.Fragment,{children:[!W&&(0,s.A)("h2",{},void 0,e.displayProperties.name),O?(0,S.jsxs)(S.Fragment,{children:[(0,s.A)(i.m_.Section,{},void 0,O,B,q&&(0,s.A)(h.A,{descriptions:R,hash:e.hash,className:I.stackable})),_]}):(_||B)&&(0,S.jsxs)(S.Fragment,{children:[_,(0,s.A)(i.m_.Section,{},void 0,B,q&&(0,s.A)(h.A,{descriptions:R,hash:e.hash,className:I.stackable}))]}),(0,s.A)(i.m_.Section,{},void 0,!!L&&(0,s.A)("div",{className:I.source},void 0,L),!P&&M&&V&&V.length>0&&(0,s.A)("div",{className:I.objectives},void 0,V.map((e=>(0,s.A)(w.A,{objective:e},e.objectiveHash)))),a&&(0,s.A)("p",{},void 0,a)),D&&(0,s.A)(i.m_.Section,{className:I.craftingRequirementsSection},void 0,D.unlockRequirements.map((e=>(0,s.A)("p",{},e.failureDescription,e.failureDescription))),M&&D.materialRequirementHashes.length>0&&D.materialRequirementHashes.flatMap((e=>{const t=M?.MaterialRequirementSet.get(e).materials;return t.map((e=>{if(!e.countIsConstant||e.omitFromRequirements)return null;const t=M.InventoryItem.get(e.itemHash).displayProperties.name;return(0,s.A)("div",{},`${e.itemHash}-${e.count}`,(0,s.A)("b",{},void 0,e.count)," ",t)}))}))),v&&(0,s.A)(i.m_.Section,{className:I.cannotRollSection},void 0,(0,s.A)("p",{},void 0,(0,l.t)("MovePopup.CannotCurrentlyRoll"))),x&&(0,s.A)(i.m_.Section,{className:I.cannotRollSection},void 0,(0,s.A)("p",{},void 0,(0,l.t)("MovePopup.UnreliablePerkOption"))),N&&(0,s.A)(i.m_.Section,{className:I.automaticallyPickedSection},void 0,(0,s.A)("p",{},void 0,(0,l.t)("LoadoutBuilder.AutomaticallyPicked"))),H&&(0,s.A)(i.m_.Section,{className:I.automaticallyPickedSection},void 0,(0,s.A)("p",{},void 0,(0,l.t)("LoadoutBuilder.DisabledByAutoStatMods"))),!!T&&(0,s.A)(i.m_.Section,{},void 0,(0,s.A)("p",{},void 0,T))]})}function C({stats:e}){return(0,s.A)("div",{className:I.plugStats},void 0,e.map((e=>(0,s.A)(H,{statHash:e.statHash,value:e.value},e.statHash))))}function H({value:e,statHash:t}){const o=(0,p.I3)().Stat.get(t);return o?.displayProperties.name?(0,S.jsxs)(S.Fragment,{children:[(0,s.A)("div",{},void 0,e<0?"":"+",e),(0,s.A)("div",{},void 0,o.displayProperties.hasIcon&&(0,s.A)(a.Ay,{height:16,width:16,src:o.displayProperties.icon}),o.displayProperties.name)]}):null}},18631:(e,t,o)=>{o.d(t,{A:()=>l,_:()=>r});var s,n=o(10544);function a(e){return Math.sin((e+5)*(Math.PI/10))*(100-e)}function r(e){return 100-Math.abs(a(e))+e/1e5}const i=.8,c=180;function l({value:e}){const t=a(e)*i*(Math.PI/180),o=Math.sin(t),r=Math.cos(t),l=(100-e)/100*(c/2)*(Math.PI/180)*Math.sign(t),d=Math.sin(t+l),u=Math.cos(t+l),m=Math.sin(t-l),h=Math.cos(t-l);return(0,n.A)("svg",{height:"12",viewBox:"0 0 2 1"},void 0,s||(s=(0,n.A)("circle",{r:1,cx:1,cy:1,fill:"#333"})),e>=95?(0,n.A)("line",{x1:1-o,y1:1+r,x2:1+o,y2:1-r,stroke:"white",strokeWidth:"0.1"}):(0,n.A)("path",{d:`M1,1 L${1+d},${1-u} A1,1 0 0,${t<0?"1":"0"} ${1+m},${1-h} Z`,fill:"#FFF"}))}},89280:(e,t,o)=>{o.d(t,{A:()=>a});var s=o(10544),n=o(13642);function a({item:e,socket:t,noTooltip:o,wishlistRoll:a,onClick:r,pluggedOnly:i=!1}){const c=!(!r||t.isPerk||!t.socketDefinition.plugSources);return t.plugOptions.length?(0,s.A)("div",{className:"item-socket"},void 0,t.plugOptions.map((l=>(!i||t.plugged===l)&&(0,s.A)(n.A,{plug:l,item:e,socketInfo:t,noTooltip:o,wishlistRoll:a,hasMenu:c,isMod:t.isMod,onClick:r&&(()=>r(e,t,l,c))},l.plugDef.hash)))):null}},59745:(e,t,o)=>{o.d(t,{y:()=>K,A:()=>J});var s=o(10544),n=(o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060),o(19654)),a=o(20505),r=o(44261),i=o(87411),c=o(2290),l=o(87545),d=o(62447),u=o(47486),m=o(45680),h=o(16328),p=o(38654),f=o(10349),g=o(59816),y=o(63150),v=o(92981);const b=(0,y.Mz)(p.v2,d.yu,((e,t)=>{if(!e||!t)return;const o=s=>{const n=s.children.collectibles.map((t=>e.Collectible.get(t.collectibleHash))).filter((e=>{const o=(0,v.cr)(e,t);return!(void 0===o||4&o||e.redacted)})).map((e=>e.itemHash));return s.children.presentationNodes.flatMap((t=>o(e.PresentationNode.get(t.presentationNodeHash)))).concat(n)};return new Set(o(e.PresentationNode.get(g.XP)))}));var A=o(10419),k=o(44346),w=o(57551),I=o(11519),S=o(13526),x=o(18374),T=o(8935);const N={notUnlocked:"SocketDetails-m_notUnlocked-q7kbIo27",socketDetailsSheet:"SocketDetails-m_socketDetailsSheet-Y_DZoCDb",header:"SocketDetails-m_header-VN5ntPlp",clickableMod:"SocketDetails-m_clickableMod-s0FhXX8K",categoryIcon:"SocketDetails-m_categoryIcon-Z9VJgjJN",modList:"SocketDetails-m_modList-WtU6VUMZ",selected:"SocketDetails-m_selected-o2mXTlXQ",energyElement:"SocketDetails-m_energyElement-ppQ2uTfd"};var C=o(7398),H=o(99880),P=o(13933),D=o(17222),M=o(14711),E=o(14231),R=o(60440),L=o(1458),V=o(92369),q=o(36871),O=o(69063),_=o(30803),B=o(6380),j=o(13406),z=o(7379);const F={selectedPlug:"SocketDetailsSelectedPlug-m_selectedPlug-md5JvJoZ common-m_flexRow-ZPndn63a",hasStats:"SocketDetailsSelectedPlug-m_hasStats-jdX_yIfd",modIcon:"SocketDetailsSelectedPlug-m_modIcon-Ny8_48it common-m_flexColumn-xaQidJJA",modDescription:"SocketDetailsSelectedPlug-m_modDescription-CDV8WJGO common-m_flexColumn-xaQidJJA",modRequirement:"SocketDetailsSelectedPlug-m_modRequirement-t0ZS3EZ7",modClarityDescription:"SocketDetailsSelectedPlug-m_modClarityDescription-dG4euKqZ",modStats:"SocketDetailsSelectedPlug-m_modStats-kGBxHNp8",itemStats:"SocketDetailsSelectedPlug-m_itemStats-tWlde0BX",source:"SocketDetailsSelectedPlug-m_source-hlaBkx9d",material:"SocketDetailsSelectedPlug-m_material-nPLKMM4I common-m_flexRow-ZPndn63a",insertButton:"SocketDetailsSelectedPlug-m_insertButton-czFUmTr1 dim-button",insertLabel:"SocketDetailsSelectedPlug-m_insertLabel-mWklzcON",perk:"SocketDetailsSelectedPlug-m_perk-EpoyTZ5w"};var W;const U=[3578062600,2399985800,3344745325,3779394102],G={2973005342:"Shader",3189353766:"Transmat",2272427828:"Projection"},Q={457473665:"Super",309722977:"Ability",3218807805:"Ability",2140934067:"Aspect",764703411:"Aspect",3400923910:"Aspect",1313488945:"Fragment",193371309:"Fragment",2819965312:"Fragment"};function Z({plug:e,socket:t,item:o,currentPlug:n,equippable:r,allowInsertPlug:i,closeMenu:l,onPlugSelected:d}){const u=(0,V._)(),m=(0,p.I3)(),h=(0,T.d4)(p.oy),f=e.plug.insertionMaterialRequirementHash&&m.MaterialRequirementSet.get(e.plug.insertionMaterialRequirementHash)||void 0,y=e.collectibleHash?m.Collectible.get(e.collectibleHash)?.sourceString:void 0,v=(0,q.x1)((0,M.e)(e),(e=>{if(U.includes(e.statTypeHash))return;const t=o.stats?.find((t=>t.statHash===e.statTypeHash));if(!t)return;if(!(0,M.f)(e.activationRule,o))return;const s=m.StatGroup.get(m.InventoryItem.get(o.hash).stats.statGroupHash),a=s?.scaledStats.find((t=>t.statHash===e.statTypeHash));let r=e.value;const i=t.investmentValue+r-(n?.stats?.[e.statTypeHash]?.investmentValue??0);let c=i;return a&&(c=(0,D.z8)(i,a),r=c-(0,D.z8)(i-r,a)),{modValue:r,dimStat:{...t,value:c}}})),b=i&&o.instanced&&(0,P.M)(t,e.hash,h,m),A=function(e,t){const o=t.socketTypeHash&&e.SocketType.get(t.socketTypeHash);if(o){const e=o.socketCategoryHash;if(Q[e])return Q[e];{const e=o.plugWhitelist.find((e=>G[e.categoryHash]));if(e)return G[e.categoryHash]}}const s=t.singleInitialItemHash;return s&&g.W.includes(s)?"Ornament":"Mod"}(m,t.socketDefinition),k=(0,c.t)(b?"Sockets.Insert."+A:"Sockets.Select."+A,{metadata:{keys:"sockets"}}),[w,I]=(0,x.useState)(!1),N=f?.materials.map((e=>{const t=m.InventoryItem.get(e.itemHash);return t&&e.count>0&&!e.omitFromRequirements&&(0,s.A)("div",{className:F.material},e.itemHash,e.count.toLocaleString(),(0,s.A)(a.Ay,{className:"dontInvert",src:t.displayProperties.icon,title:t.displayProperties.name}))})),Z=(0,_.R1)(e,v.map((e=>({value:e.modValue,statHash:e.dimStat.statHash})))),J=e.traitHashes?.includes(4036726046)&&o.masterwork,X=[1001093745,1810021207,2050399386,726291246,1046443715].includes(e.plug.plugCategoryHash);return(0,s.A)("div",{className:(0,S.A)(F.selectedPlug,v.length>0&&F.hasStats)},void 0,(0,s.A)("div",{className:F.modIcon},void 0,(0,s.A)(K,{itemDef:e})),(0,s.A)("div",{className:F.modDescription},void 0,(0,s.A)("h3",{},void 0,(0,s.A)("span",{},void 0,e.displayProperties.name),e.hash===t.emptyPlugItemHash&&(0,s.A)("span",{},void 0," — ",e.itemTypeDisplayName)),Z.perks.map((e=>(0,s.A)(x.Fragment,{},e.perkHash,e.description&&(0,s.A)("div",{},void 0,(0,s.A)(H.A,{text:e.description})),!J&&e.requirement&&(0,s.A)("div",{className:F.modRequirement},void 0,(0,s.A)(H.A,{text:e.requirement}))))),X&&e.perks.map((e=>{const t=m.SandboxPerk.get(e.perkHash);return t?(0,s.A)("div",{className:F.perk},e.perkHash,(0,s.A)(a.Ay,{src:t.displayProperties.icon,alt:""}),(0,s.A)(H.A,{text:t.displayProperties.name||t.displayProperties.description})):null}))),v.length>0&&(0,s.A)("div",{className:F.modStats},void 0,(0,s.A)(z.eo,{stats:v.map((e=>({statHash:e.dimStat.statHash,value:e.modValue})))})),v.length>0&&(0,s.A)(j.A,{stats:v.map((e=>e.dimStat)),className:F.itemStats}),Z.communityInsight&&(0,s.A)(C.A,{perk:Z.communityInsight,className:F.modClarityDescription}),y&&(0,s.A)("div",{className:F.source},void 0,y),(b||d)&&(0,s.A)(B.P.button,{layout:!0,type:"button",className:F.insertButton,onClick:async()=>{if(b){I(!0);try{await u((0,P.Q)(o,t,e.hash)),l()}catch(t){const s=e.displayProperties.name??"Unknown Plug";(0,E.Ds)({type:"error",title:(0,c.t)("AWA.Error"),body:(0,c.t)("AWA.ErrorMessage",{error:(0,O.g)(t),item:o.name,plug:s})})}finally{I(!1)}}else d?.({item:o,socket:t,plugHash:e.hash}),l()},disabled:b&&!r||w},void 0,w&&(W||(W=(0,s.A)(B.P.span,{layout:!0},void 0,(0,s.A)(L.A,{icon:R.he,spinning:!0})))),(0,s.A)(B.P.span,{layout:!0,className:F.insertLabel},void 0,(0,s.A)(B.P.span,{layout:!0},void 0,k),(0,s.A)(B.P.span,{layout:!0},void 0,N))))}const K=(0,x.memo)((({itemDef:e,className:t,onClick:o})=>{const n=o&&(()=>o(e));return(0,s.A)("div",{role:"button",className:(0,S.A)("item",t),title:`${e.displayProperties.name}\n${e.itemTypeDisplayName}`,onClick:n,tabIndex:0},void 0,(0,s.A)(l.Wj,{itemDef:e}))}));function J({item:e,socket:t,allowInsertPlug:o,onClose:l,onPlugSelected:y}){const v=(0,p.I3)(),C=t.plugged?.plugDef,H=(t.actuallyPlugged||t.plugged)?.plugDef,[P,D]=(0,x.useState)(C||null),[M,E]=(0,x.useState)(""),R=(0,T.d4)(n.md),L=v.SocketType.get(t.socketDefinition.socketTypeHash),V=v.SocketCategory.get(L.socketCategoryHash),q=(0,T.d4)(d.V0),O=(0,x.useMemo)((()=>function(e,t,o){const s=t.socketDefinition.plugSources,n=o.SocketType.get(t.socketDefinition.socketTypeHash);if(!(1&s&&n.plugWhitelist))return(0,I.mj)();const a=new Set,r=new Set(n.plugWhitelist.map((e=>e.categoryHash)));for(const t of e){const e=o.InventoryItem.get(t.hash);e.plug&&r.has(e.plug.plugCategoryHash)&&3313201758===t.location.hash&&a.add(t.hash)}return a}(q,t,v)),[q,v,t]),_=(0,T.d4)(b),B=(0,x.useMemo)((()=>function(e,t,o){const s=e?.SocketType.get(o.socketDefinition.socketTypeHash);if(s?.plugWhitelist.some((e=>2973005342===e.categoryHash)))return t}(v,_,t)),[v,t,_]),j=(0,T.d4)(d.yu),z=(0,x.useMemo)((()=>function(e,t,o){const s=o.socketDefinition.reusablePlugSetHash||o.socketDefinition.randomizedPlugSetHash;return s&&e?(0,f.e)(e,s,t):(0,I.mj)()}(j,e.owner,t)),[e.owner,j,t]),F=new Set(O),W=new Set;for(const e of O)W.add(e);if(t.emptyPlugItemHash&&F.add(t.emptyPlugItemHash),t.reusablePlugItems)for(const e of t.reusablePlugItems)F.add(e.plugItemHash),W.add(e.plugItemHash);if(t.plugSet?.plugs)for(const e of t.plugSet.plugs)F.add(e.plugDef.hash);if(t.socketDefinition.randomizedPlugSetHash)for(const e of v.PlugSet.get(t.socketDefinition.randomizedPlugSetHash).reusablePlugItems)F.add(e.plugItemHash);const U=e=>void 0!==e&&(e===t.emptyPlugItemHash||z.has(e)||W.has(e)),G=(0,k.Q)(M,R,v);let Q=(0,m.bA)(v,Array.from(F));t.socketDefinition.socketTypeHash===g.Om&&(Q=Q.filter((t=>!(1!==t.plug.plugStyle||!(0,u.m)(v,v.InventoryItem.get(e.hash),t.investmentStats[0]?.statTypeHash))||t.plug.plugCategoryHash===H?.plug.plugCategoryHash&&t.investmentStats[0]?.value>H.investmentStats[0]?.value)));const J=Q.some((e=>e.plug.energyCost?.energyCost));Q=Q.filter(G).filter((e=>U(e.hash)||(B?B.has(e.hash):!U((0,h.qu)(e.hash))))).sort((0,w.o2)((0,w.VE)((e=>e.hash!==t.emptyPlugItemHash)),(0,w.fb)((0,w.VE)((e=>U(e.hash)))),(0,w.VE)((e=>-e.inventory.tierType)),(0,w.VE)((t=>3284755031===e.bucket.hash||(t.plug?.energyCost?.energyCost??0)>0||t.displayProperties.name)))),t.socketDefinition.socketTypeHash===g.Om&&(Q=Q.sort((0,w.o2)((0,w.VE)((e=>e.plug.plugCategoryHash!==H?.plug.plugCategoryHash)),(0,w.VE)((e=>e.investmentStats[0]?.value))))),C&&(Q=Q.filter((e=>e.hash!==C.hash)),Q.unshift(C));const X=t.emptyPlugItemHash&&v.InventoryItem.get(t.emptyPlugItemHash)||t.plugged?.plugDef,Y=(0,s.A)("div",{},void 0,(0,s.A)("h1",{className:N.header},void 0,X&&(0,s.A)(a.Ay,{className:N.categoryIcon,src:X.displayProperties.icon,alt:""}),J&&(0,s.A)(r.p,{className:N.energyElement}),(0,s.A)("div",{},void 0,V.displayProperties.name)),(0,s.A)(A.D,{query:M,onQueryChanged:E,placeholder:(0,c.t)("Sockets.Search"),autoFocus:!0})),$=P&&(0,m.rH)(P)&&(({onClose:n})=>(0,s.A)(Z,{plug:P,item:e,socket:t,currentPlug:t.plugged,equippable:U(P.hash),allowInsertPlug:o,onPlugSelected:y,closeMenu:n}));return(0,s.A)(i.A,{onClose:l,header:Y,footer:$,sheetClassName:N.socketDetailsSheet},void 0,(0,s.A)("div",{className:(0,S.A)("sub-bucket",N.modList)},void 0,Q.map((e=>(0,s.A)(K,{className:(0,S.A)(N.clickableMod,P===e&&N.selected,!U(e.hash)&&N.notUnlocked),itemDef:e,onClick:D},e.hash)))))}},20169:(e,t,o)=>{o.d(t,{$Z:()=>n,EV:()=>r,h3:()=>a});var s=o(95840);const n=new(o(46673).c)(void 0);function a(e,t,o){n.getCurrentValue()?.item===e?r():((0,s.zh)("clicked item",e),n.next({item:e,element:t,extraInfo:o}))}function r(){n.next(void 0)}},55854:(e,t,o)=>{o.d(t,{l:()=>I,z:()=>H});var s=o(24367),n=o(19654),a=o(2290),r=o(62447),i=o(45680),c=o(65),l=o(63252),d=o(27267),u=o(21271),m=o(14231),h=o(59816),p=o(36871),f=o(11519),g=o(46226),y=o(1773),v=o(87912),b=o(18374),A=o(8935),k=o(70016),w=o(324);function I(e,t){const o=Object.values(t.Class.getAll()).find((t=>t.classType===e)).displayProperties.name;(0,m.Ds)({type:"error",title:(0,a.t)("LoadoutBuilder.MissingClass",{className:o}),body:(0,a.t)("LoadoutBuilder.MissingClassDescription")})}const S=({stores:e,allItems:t,defs:o,preloadedLoadout:n,storeId:a,savedLoadoutBuilderParameters:r,savedStatConstraintsPerClass:i,strictUpgradesStatConstraints:l})=>{const m=n?.classType??3,h=(0,d.qx)(e,a,m),p=n?.parameters;h||3===m||(I(m,o),n=void 0);const g=h??(0,c.ZS)(e),y=g.id,v=g.classType;let b=n??(0,d.$W)("",[],v),A={...s.KJ,...r};const S=i[v];S&&(A.statConstraints=S),A={...A,...p};const T={};if(n){for(const e of n.items)if(e.equip){const s=(0,d.oH)(o,t,y,e);s&&(0,u.N_)(s)&&(T[s.bucket.hash]=s)}if(!A.exoticArmorHash){const e=n.items.filter((e=>e.equip)).map((e=>o.InventoryItem.get(e.hash))).find((e=>!!e?.equippingBlock?.uniqueLabel&&w.WI.includes(e.inventory?.bucketTypeHash??0)));e&&(A={...A,exoticArmorHash:e.hash})}}return A.mods&&(A.mods=x(o,A.mods)),b={...b,parameters:A},{loadout:b,resolvedStatConstraints:(0,k.z)(A.statConstraints),strictUpgradesStatConstraints:l,pinnedItems:T,excludedItems:(0,f.vB)(),selectedStoreId:y}};function x(e,t){return t.filter((t=>{const o=e.InventoryItem.get(t);return!o||!(0,i.rH)(o)||3773173029!==o.plug.plugCategoryHash}))}function T(e,t){switch(t.type){case"openCompareDrawer":return{...e,compareSet:{set:t.set,items:t.items}};case"openModPicker":return{...e,modPicker:{open:!0,plugCategoryHashWhitelist:t.plugCategoryHashWhitelist}};case"closeCompareDrawer":return{...e,compareSet:void 0};case"closeModPicker":return{...e,modPicker:{open:!1}}}}function N(e,t){return{...e,loadout:t(e.loadout)}}function C(e,t){return{...e,resolvedStatConstraints:t,loadout:(0,l.lO)({statConstraints:(0,k.c)(t)})(e.loadout)}}function H(e,t,o,s,i){const c=(0,A.d4)(n.x8),d=(0,A.d4)(n.$f),u=(0,A.d4)(r.V0),{state:f,setState:w,redo:I,undo:H,canRedo:P,canUndo:D}=(0,g.W)(S({stores:e,allItems:u,defs:t,preloadedLoadout:o,storeId:s,savedLoadoutBuilderParameters:c,savedStatConstraintsPerClass:d,strictUpgradesStatConstraints:i})),M=(0,b.useMemo)((()=>function(e){return(t,o)=>{switch(o.type){case"setLoadout":return N(t,(t=>{const s=o.updateFn(t),n=s.parameters?.mods??[],a=x(e,n);return a.length!==n.length?(0,l.lu)(a)(s):s}));case"changeCharacter":{const{store:s}=o;let n={...t.loadout,classType:s.classType};n=(0,l.UF)(e)(n);let a={...n.parameters,exoticArmorHash:void 0};const r=o.savedStatConstraintsByClass[s.classType];return r&&(a={...a,statConstraints:r}),n=(0,l.lO)(a)(n),{...t,loadout:n,resolvedStatConstraints:(0,k.z)(a.statConstraints),selectedStoreId:s.id,pinnedItems:{},excludedItems:{}}}case"statConstraintChanged":{const{constraint:e}=o,s=t.resolvedStatConstraints.map((t=>t.statHash===e.statHash?e:t));return C(t,s)}case"statConstraintReset":return C(t,h.BZ.map((e=>({statHash:e,minTier:0,maxTier:10,ignored:!1}))));case"statConstraintRandomize":return C(t,(0,y.k)(h.BZ.map((e=>({statHash:e,minTier:Math.floor(10*Math.random()),maxTier:10,ignored:!1})))));case"setStatConstraints":{const{constraints:e}=o;return C(t,e)}case"statOrderChanged":{const{sourceIndex:e,destinationIndex:s}=o;return C(t,(0,p.Yb)(t.resolvedStatConstraints,e,s))}case"pinItem":{const{item:e}=o,s=e.bucket.hash;return{...t,pinnedItems:{...t.pinnedItems,[s]:e},excludedItems:{...t.excludedItems,[s]:void 0}}}case"setPinnedItems":{const{items:e}=o;return{...t,pinnedItems:(0,v.p)(e,(e=>e.bucket.hash)),excludedItems:{}}}case"unpinItem":{const{item:e}=o,s=e.bucket.hash;return{...t,pinnedItems:{...t.pinnedItems,[s]:void 0}}}case"excludeItem":{const{item:e}=o,s=e.bucket.hash;if(t.excludedItems[s]?.some((t=>t.id===e.id)))return t;const n=t.excludedItems[s]??[];return{...t,pinnedItems:{...t.pinnedItems,[s]:void 0},excludedItems:{...t.excludedItems,[s]:[...n,e]}}}case"unexcludeItem":{const{item:e}=o,s=e.bucket.hash,n=(t.excludedItems[s]??[]).filter((t=>t.id!==e.id));return{...t,excludedItems:{...t.excludedItems,[s]:n.length>0?n:void 0}}}case"clearExcludedItems":return{...t,excludedItems:{}};case"lockedModsChanged":return N(t,(0,l.lu)(o.lockedMods));case"assumeArmorMasterworkChanged":{const{assumeArmorMasterwork:e}=o;return N(t,(0,l.lO)({assumeArmorMasterwork:e}))}case"addGeneralMods":{const s=[...t.loadout.parameters?.mods??[]];let n=(0,p.U9)(s,(t=>e.InventoryItem.get(t)?.plug?.plugCategoryHash===h.SC.general))??0;const r=[];for(const e of o.mods)n<5?(s.push(e.hash),n++):r.push(e.displayProperties.name);return r.length&&(0,m.Ds)({title:(0,a.t)("LoadoutBuilder.UnableToAddAllMods"),body:(0,a.t)("LoadoutBuilder.UnableToAddAllModsBody",{mods:r.join(", ")}),type:"warning"}),N(t,(0,l.lu)(s))}case"removeLockedMod":return N(t,(0,l.xV)(o.mod));case"lockExotic":{const{lockedExoticHash:e}=o;return N(t,(0,l.lO)({exoticArmorHash:e}))}case"removeLockedExotic":return N(t,(0,l.lO)({exoticArmorHash:void 0}));case"autoStatModsChanged":return N(t,(0,l.lO)({autoStatMods:o.autoStatMods}));case"dismissComparisonStats":return{...t,strictUpgradesStatConstraints:void 0};case"setSearchQuery":return N(t,(0,l.lO)({query:o.query||void 0}))}}}(t)),[t]),[E,R]=(0,b.useReducer)(T,{compareSet:void 0,modPicker:{open:!1}});return[{...f,...E,canUndo:D,canRedo:P},(0,b.useCallback)((e=>{switch(e.type){case"undo":H(),R({type:"closeCompareDrawer"}),R({type:"closeModPicker"});break;case"redo":I(),R({type:"closeCompareDrawer"}),R({type:"closeModPicker"});break;case"openCompareDrawer":case"closeCompareDrawer":case"openModPicker":case"closeModPicker":R(e);break;default:w((t=>M(t,e)))}}),[M,I,w,H])]}},70016:(e,t,o)=>{o.d(t,{c:()=>c,z:()=>i});var s=o(24367),n=o(59816),a=o(57551),r=o(87912);function i(e){const t=(0,r.p)(e,(e=>e.statHash));return n.BZ.map((e=>{const o=t[e];return{statHash:e,minTier:o?.minTier??0,maxTier:o?o.maxTier??10:0,ignored:!o}})).sort((0,a.VE)((t=>{const o=e.findIndex((e=>e.statHash===t.statHash));return o>=0?o:100+s.KJ.statConstraints.findIndex((e=>e.statHash===t.statHash))})))}function c(e){return e.filter((e=>!e.ignored)).map((e=>{const{statHash:t,minTier:o,maxTier:s}=e,n={statHash:t};return o>0&&(n.minTier=o),s<10&&(n.maxTier=s),n}))}},324:(e,t,o)=>{o.d(t,{$E:()=>m,$b:()=>r,CD:()=>d,F5:()=>l,Nt:()=>c,QR:()=>p,Sl:()=>u,Ti:()=>i,WI:()=>s,ZU:()=>n,c:()=>h,kx:()=>a});const s=Object.values({helmet:3448274439,gauntlets:3551918588,chest:14239492,leg:20886954,classitem:1585787867}),n=731468111,a=4285066582,r=3,i=5,c=10,l=-1,d=-2,u=9,m={assumeArmorMasterwork:1,minItemEnergy:u},h={assumeArmorMasterwork:1,minItemEnergy:1},p={assumeArmorMasterwork:4,minItemEnergy:1}},60088:(e,t,o)=>{o.d(t,{EG:()=>y,H1:()=>p,Q4:()=>g,Qp:()=>d,W2:()=>m,fd:()=>h,r1:()=>u}),o(89293),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(2290),n=o(59816),a=o(36871),r=o(16283),i=o(72549),c=o(93104),l=o(27267);function d(e,t){const o=e.filter((e=>(0,r.Ne)(e)&&(0,r.BE)(e,t)&&e.talentGrid&&!e.talentGrid.xpComplete&&2168530918!==e.hash&&3783480580!==e.hash&&2576945954!==e.hash&&1425539750!==e.hash));return(0,l.JJ)(o,t,(e=>{let o=0;if(e.owner===t.id){if(o+=.5,e.equipped)return 1e3}else"vault"===e.owner&&(o+=.05);return e.locked&&(o+=500),o+=10*n.Dj[e.tier],(0,r.Ne)(e)&&e.talentGrid&&(o+=e.talentGrid.totalXP/e.talentGrid.totalXPRequired*10),o+=e.power/1e3,o}),(0,s.t)("Loadouts.ItemLeveling"))}function u(e,t){const{equippable:o}=m(e,t);return(0,l.$W)((0,s.t)(2===t.destinyVersion?"Loadouts.MaximizePower":"Loadouts.MaximizeLight"),o.map((e=>(0,l.CE)(e,!0))),t.classType)}function m(e,t){const o=[];for(const t of e)(t.power&&t.bucket.inWeapons||t.bucket.inArmor)&&o.push(t);return(0,l.Wv)(o,t,(e=>{let o=e.power;return e.owner===t.id?(o+=.1,e.equipped&&(o+=.1)):"vault"===e.owner&&(o+=.05),o}))}function h(e,t,o){const n=t.filter((t=>t.power&&t.stats?.some((t=>t.statHash===e))&&(0,r.BE)(t,o,!0)));return(0,l.JJ)(n,o,(t=>{let s=t.stats.find((t=>t.statHash===e)).value;return t.owner===o.id?(s+=.1,t.equipped&&(s+=.1)):"vault"===t.owner&&(s+=.05),s}),(0,s.t)("Loadouts.MaximizeStat"))}function p(e,t){e=function(e){return Object.values(Object.groupBy(e,(e=>e.hash))).flatMap((e=>e[0].maxStackSize>1?[{...e[0],amount:(0,a.xu)(e,(e=>e.amount))}]:e))}(e=e.filter((e=>!e.location.inPostmaster&&!e.notransfer)));const o=(0,a.LG)(Object.groupBy(e,(e=>e.bucket.hash)),(e=>function(e,t){if(!e.length)return[];const o=e[0],s=t.isVault,n=s?o.bucket.vaultBucket:o.bucket;if(!n)return s?e:e.slice(0,9);const{0:a=[],1:r=[],2:i=[]}=Object.groupBy(e,(e=>e.owner===t.id?e.equipped?0:1:2));return[...a,...r,...i].slice(0,n.capacity-(o.equipment&&!a.length?1:0))}(e,t))),n=Object.values(o).flat().map((e=>(0,l.CE)(e,!1)));return(0,l.$W)((0,s.t)("Loadouts.FilteredItems"),n)}const f=new Set([3284755031,1498876634,2465295065,953998645,3448274439,3551918588,14239492,20886954,1585787867,434908299,4023194814,2025709351,284967655,4274335291]);function g(e,t,o){const n=t.filter((t=>{return f.has(t.bucket.hash)&&(0,r.BE)(t,e)&&("General"!==(s=t).bucket.sort||s.owner===e.id)&&o(t);var s}));return(0,l.JJ)(n,e,(()=>Math.random()),(0,s.t)("Loadouts.Random"))}function y(e,t){if(!t.sockets)return;const o={},s=(0,i.mj)(t.sockets,i.iF);for(const e of s)e.plugSet&&(o[e.socketIndex]=(0,c.X)(e.plugSet.plugs).plugDef.hash);const n=(e,t)=>{if(e.length&&t>0){const s=[e[0].emptyPlugItemHash];for(const n of e){if(0===t)break;t--;const e=(0,c.X)(n.plugSet.plugs.filter((e=>!s.includes(e.plugDef.hash)))).plugDef.hash;if(void 0===e)break;o[n.socketIndex]=e,s.push(e)}}},a=(0,i.mj)(t.sockets,i.oH);n(a,a.length);const r={item:t,loadoutItem:{...(0,l.CE)(t,!1),socketOverrides:o}},d=(0,l.v8)(e,r,!0);return n((0,i.mj)(t.sockets,i.EN),d),o}},6723:(e,t,o)=>{o.d(t,{H:()=>K,e:()=>X}),o(31158),o(89293);var s=o(30671),n=o(99475),a=o(11969),r=o(90699),i=o(79055),c=o(2290),l=o(6598),d=o(13933),u=o(61542),m=o(34966),h=o(1930),p=o(62447),f=o(45680),g=o(65),y=o(324),v=o(34144),b=o(3468),A=o(38654),k=o(14231),w=o(59816),I=o(57840),S=o(58128),x=o(99946),T=o(36871),N=o(57551),C=o(50507),H=o(11519),P=o(69063),D=o(16283),M=o(95840),E=o(72549),R=o(46883),L=o(74136),V=o(58947),q=o(73308),O=o(28233),_=o(29368),B=o(46673);function j(e){return t=>({...t,phase:e})}function z(e,t){return(0,O.jM)((o=>{const s=o.modStates.find((t=>t.modHash===e.modHash&&0===t.state));s?(s.state=e.state,s.error=e.error):o.modStates.push(e),o.equipNotPossible||=t||!1}))}function F(e,t,o,s,n){return(0,O.jM)((a=>{const r=a.socketOverrideStates[e.index].results[t];r&&(r.state=o,r.error=s,a.equipNotPossible||=n||!1)}))}var W=o(27267);const U="loadout",G=(0,R.n)((e=>{(0,k.Ds)({type:"info",title:(0,c.t)("FarmingMode.OutOfRoomTitle"),body:(0,c.t)("FarmingMode.OutOfRoom",{character:e.name})})}),6e4),Q=[...r.j.Weapons,...r.j.Armor,...r.j.General,...r.j.Inventory,...a.W.Weapons,...a.W.Armor,...a.W.General],Z={};for(let e=0;e<Q.length;e++)Z[Q[e]]=e;function K(e,t,{allowUndo:o=!1,onlyMatchingClass:a=!1,inGameLoadout:d}={}){return async h=>{if(!e)throw Error("You need a store!");(0,M.zh)(U,"Apply loadout",t.name,"to",e.name);const R=(0,M.O1)(U,"Loadout Application"),[V,G]=(0,x.Fb)(),[Q,K,$]=function(){const e=new B.c({phase:0,equipNotPossible:!1,itemStates:{},socketOverrideStates:{},modStates:[],inGameLoadoutInActivity:!1});return[()=>e.getCurrentValue(),t=>{const o=t(e.getCurrentValue());e.next(o)},e]}(),te=(0,S.A)((()=>h(function(e,t,o,a,l,d,h=!1,k){return async(I,S)=>{const R=(0,A.Ph)(S());I((0,i.WY)());const V=()=>(0,p.Wh)(S()),B=()=>(0,g.KA)(V(),e.id),G=t=>(0,W.oH)(R,(0,p.V0)(S()),e.id,t);try{h&&!e.isVault&&I((0,_.rO)({storeId:e.id,loadoutId:t.id,previousLoadout:(0,W.rp)(e,(0,c.t)("Loadouts.Before",{name:t.name}))}));let i=(0,T.x1)(t.items,(e=>{const t=G(e);if(t)return{loadoutItem:e,item:t}}));l&&!e.isVault&&(i=i.filter((({item:t})=>!t.equipment||(0,D.BE)(t,e))));const u=i.sort((0,N.VE)((({item:e})=>{const t=Z[e.bucket.hash];return void 0===t?Number.MAX_SAFE_INTEGER:t}))).map((({loadoutItem:e})=>e)),K=(0,T.x1)(t.items,(t=>{const o=G(t);if(t.socketOverrides&&o&&!e.isVault&&(0,D.dO)(o.classType,e.classType)){if(3284755031===o.bucket.hash){const e=(0,E.mj)(o.sockets,E.iF),s={...t.socketOverrides};for(const t of e)void 0===s[t.socketIndex]&&(s[t.socketIndex]=(0,E.LT)(t));return{...t,socketOverrides:s}}return t}})),$=(0,L.O)((()=>(0,p.xk)(e.id)(S()))),te=e=>!!R.InventoryItem.get(e)&&($().has(e)||e===w.aV||w.W.includes(e)),oe=(R.isDestiny2&&!e.isVault&&(0,W.aD)(R,t,$()).map((e=>e.resolvedMod.hash))||[]).filter(te),se={};if(!e.isVault&&t.parameters?.modsByBucket)for(const[e,o]of Object.entries(t.parameters.modsByBucket)){const t=o.filter(te);t.length&&(se[parseInt(e,10)]=t)}a((0,O.jM)((e=>{e.phase=1;for(const t of u){const o=G(t);e.itemStates[o.index]={item:o,equip:t.equip,state:0}}for(const t of K){const o=G(t);o&&(e.socketOverrideStates[o.index]={item:o,results:(0,T.LG)(t.socketOverrides??{},(e=>({plugHash:e,state:0})))})}e.modStates=oe.map((e=>({modHash:e,state:0}))).concat(Object.values(se).flat().map((e=>({modHash:e,state:0}))))})));const ne=Array.from(u.filter((t=>{const o=G(t),s=o&&(o.owner!==e.id&&!o.notransfer||o.location.inPostmaster||t.equip&&!o.equipped||t.amount&&t.amount>1);return o&&!s&&a((0,O.jM)((e=>{e.itemStates[o.index].state=1}))),s})),(e=>({...e})));if(e.isVault)for(const e of ne)e.equip=!1;let ae=ne.filter((e=>e.equip));if(ae.length>1)for(const e of ae)e.equip=!1;const re=ne.filter((t=>{const o=G(t);return o?.equipped&&o.owner!==e.id})),ie=(0,T.x1)(re,G),ce=[...(0,T.x1)(ae,G),...ie],le=(0,m.cz)(d,ce),de=Object.entries(Object.groupBy(ie,(e=>e.owner))).map((async([e,t])=>{if(1===t.length)return;const o=(0,T.x1)(t,(e=>(0,m.fg)(S,V(),e,{exclusions:u,excludeExotic:e.isExotic})));try{const s=await I((0,m.v3)((0,g.KA)(V(),e),o,u,le));a((0,O.jM)((e=>{for(const o of t)e.itemStates[o.index].state=1===s[o.id]?2:5})))}catch(o){const s=(0,P.n)(o);if(s instanceof x.k3)throw s;(0,M.PT)(U,"Failed to dequip items from",e,s),a((0,O.jM)((e=>{for(const o of t)e.itemStates[o.index].state=5,e.itemStates[o.index].error=s})))}}));await Promise.all(de),a(j(2));for(const t of ne)try{const o=G(t);await I(J(e.id,t,G,u,le)),G(t)&&a((0,O.jM)((e=>{e.itemStates[o.index]&&(e.itemStates[o.index].state=ae.length>1&&ae.some((e=>t.id===e.id))?3:4)})))}catch(o){const s=(0,P.n)(o);if(s instanceof x.k3)throw s;const n=G(t);n&&((0,M.PT)(U,"Failed to apply loadout item",n.name,s),a((0,O.jM)((t=>{const o=n.owner===e.id;t.itemStates[n.index].state=o?7:6,t.itemStates[n.index].error=s,t.equipNotPossible||=o&&s instanceof C.X&&ee(s.bungieErrorCode())}))))}if(a(j(3)),ae.length>1){const e=B(),t=Object.values(o().itemStates).filter((e=>e.equip&&3===e.state));ae=ae.filter((e=>t.some((t=>t.item.id===G(e)?.id))));const s=(0,T.x1)(ae,G);try{const t=await I((0,m.v3)(e,s,[],le));a((0,O.jM)((e=>{for(const o of s){const s=t[o.id];e.itemStates[o.index].state=1===s?4:7,e.equipNotPossible||=ee(s)}})))}catch(e){const t=(0,P.n)(e);if(t instanceof x.k3)throw t;(0,M.PT)(U,"Failed to equip items",t),a((0,O.jM)((e=>{for(const o of s)e.itemStates[o.index].state=7,e.itemStates[o.index].error=t})))}}if(K.length){a(j(4)),(0,M.zh)(U,"Socket overrides to apply",K),await I(function(e,t,o,s){return async(n,a)=>{const r=(0,A.v2)(a());for(const a of e){const e=o(a);if(e&&a.socketOverrides){const o=[],i=e.sockets?.categories||[],c={};for(const t of i){const s=t=>{const s=(0,E.I8)(e.sockets,t),n=(0,T.x1)(t,(e=>{const t=a.socketOverrides[e];return t?{hash:t,loadoutSocketIndex:e}:void 0})),i=[];if(n.length){for(const e of s)if(e.plugged){const t=n.findIndex((({hash:t})=>t===e.plugged.plugDef.hash));if(-1!==t){const s=n[t].loadoutSocketIndex;n.splice(t,1),o.push({socketIndex:e.socketIndex,mod:e.plugged.plugDef,requested:!0}),c[e.socketIndex]=s}else i.push(e)}for(const e of i){let t=n.pop(),s=!0;t||(t={hash:e.emptyPlugItemHash,loadoutSocketIndex:e.socketIndex},s=!1);const a=r.InventoryItem.get(t.hash);o.push({socketIndex:e.socketIndex,mod:a,requested:s}),c[e.socketIndex]=t.loadoutSocketIndex}}};if(E.oH.includes(t.category.hash))s(t.socketIndexes);else if(E.EN.includes(t.category.hash)){const o=(0,W.v8)(r,{item:e,loadoutItem:a},!0);s(t.socketIndexes.slice(0,o))}else{const s=(0,E.I8)(e.sockets,t.socketIndexes);for(const e of s){const t=e.socketIndex,s=a.socketOverrides[t];if(s){const e=r.InventoryItem.get(s);o.push({socketIndex:t,mod:e,requested:!0})}}}}const l=({socketIndex:o,requested:s})=>{s&&t(F(e,c[o]??o,1))},d=({socketIndex:o,requested:s},n,a)=>t(s?F(e,c[o]??o,2,n,a):e=>({...e,equipNotPossible:e.equipNotPossible||!!a}));await n(Y(e,o,l,d,s))}}}}(K,a,G,d));const e=Object.values(o().socketOverrideStates).flatMap((e=>Object.values(e.results))),t=(0,T.U9)(e,(e=>1===e.state));(0,M.zh)("loadout socket overrides","Socket overrides applied",t,e.length)}const ue=!!t.parameters?.clearMods;if(oe.length||!(0,T.Im)(se)||ue){a(j(5)),(0,M.zh)(U,"Mods to apply",oe),await I(function(e,t,o,s,n,a,r,i=!1){return async(c,l)=>{const d=(0,A.v2)(l()),u=(0,p.Wh)(l()),m=(0,g.KA)(u,t).items.filter((e=>e.bucket.inArmor&&e.equipped)),h=[];for(const t of e){const e=a(t);e?.bucket.inArmor&&t.equip&&h.push(e)}const v=(0,T.x1)(y.WI,(e=>h.find((t=>t.bucket.hash===e))||m.find((t=>t.bucket.hash===e)))),k=(0,f.bA)(d,o);if(!i&&function(e,t,o){o={...o};const s=[];for(const t of e)if(t.sockets){let e=o[t.bucket.hash]??(0,H.tR)();for(const o of t.sockets.allSockets)if(o.plugged){const t=o.plugged.plugDef.hash;s.push(t),e=e.filter((e=>e!==t))}0===e.length&&delete o[t.bucket.hash]}return!!(0,T.Im)(o)&&t.every((e=>{const t=s.indexOf(e);return-1!==t&&(s.splice(t,1),!0)}))}(v,o,s))return(0,M.zh)(U,"all mods are already there. loadout already applied"),void n((e=>({...e,modStates:o.concat(Object.values(s).flat()).map((e=>({modHash:e,state:2})))})));const{itemModAssignments:w,unassignedMods:I}=(0,b.ow)({defs:d,items:v,plannedMods:k,armorEnergyRules:y.c});for(const e of I)n(z({modHash:e.hash,state:1,error:new C.X("Loadouts.UnassignedModError")}));const S=({mod:e,requested:t})=>t&&n(z({modHash:e.hash,state:2})),x=({mod:e,requested:t},o,s)=>n(t?z({modHash:e.hash,state:3,error:o},s):e=>({...e,equipNotPossible:e.equipNotPossible||!!s})),N=[],P=[];for(const e of v){const t=(0,b.yQ)(d,e,w[e.id],i);for(const o of s[e.bucket.hash]??[]){const s=d.InventoryItem.get(o),a=e.sockets?.allSockets.find((e=>(0,E.qV)(e,o)));a&&(0,f.rH)(s)?t.push({mod:s,socketIndex:a.socketIndex,requested:!0}):n(z({modHash:o,state:1,error:new C.X("Loadouts.UnassignedModError")}))}const o=(0,b.r_)(d,e,t).filter((e=>e.required));if((0,M.zh)(U,"Applying mods",o,"to",e.name),o.length){const[t,s]=(0,q.j)(o,(e=>(0,W.RJ)(e.mod)));N.push({item:e,actions:s}),P.push({item:e,actions:t})}}for(const e of[N,P])await Promise.all(e.map((({item:e,actions:t})=>c(Y(e,t,S,x,r)))))}}(u,e.id,oe,se,a,G,d,!!t.parameters?.clearMods));const{modStates:s}=o();(0,M.zh)("loadout mods","Mods applied",(0,T.U9)(s,(e=>2===e.state)),s.length)}if(!t.parameters?.clearWeapons&&!t.parameters?.clearArmor||e.isVault||(a(j(6)),await I(function(e,t,o,s,n){const a=Map.groupBy(t,(e=>e.bucket.hash)),i={[e.id]:{}},c=[];for(const[t,o]of a.entries()){if(!(n&&r.j.Armor.includes(t)||s&&r.j.Weapons.includes(t)))continue;let a=0;for(const s of(0,g.VS)(e,t))s.equipped||(s.notransfer||o.some((e=>e.id===s.id&&e.hash===s.hash&&e.amount<=s.amount))?a++:c.push(s));i[e.id][o[0].bucket.hash]=o[0].bucket.capacity-a}return X(e,c,o,i)}(B(),u.map((e=>G(e))),le,t.parameters.clearWeapons??!1,t.parameters.clearArmor??!1))),k){a(j(7));try{await(0,n._j)((0,s.sZ)(S()),k),await I((0,v.px)(k))}catch(e){if(!(e instanceof C.X&&1671===e.bungieErrorCode()))throw e;a((0,O.jM)((e=>{e.inGameLoadoutInActivity=!0})))}}if((Q=o()).inGameLoadoutInActivity||Object.values(Q.itemStates).some((e=>4!==e.state&&1!==e.state))||Object.values(Q.socketOverrideStates).some((e=>Object.values(e.results).some((e=>1!==e.state))))||Q.modStates.some((e=>2!==e.state)))throw a(j(9)),Error("loadout-failed");a(j(8))}finally{I((0,u.u)()),I((0,i.mF)())}var Q}}(e,t,Q,K,a,V,o,d))));I.f.addPromise(te),(0,k.Ds)((0,l.Yl)(d??t,$,te,G));try{await te}catch(e){(0,M.PT)(U,"failed loadout",Q(),e)}finally{R()}}}function J(e,t,o,s,n){return async(a,r)=>{const i=(0,p.Wh)(r()),l=(0,g.KA)(i,e),d=o(t);if(d)if((0,h.J)(d),d.maxStackSize>1){const e=(0,g.Fh)(l,t);let o=t.amount-e;if(o>0){const r=i.filter((e=>l.id!==e.id)).map((e=>({store:e,amount:(0,g.Fh)(e,t)})));let u=e;for(;o>0;){const e=(0,V.S)(r,(e=>e.amount)),i=Math.min(e.amount,o),h=e.store.items.find((e=>e.hash===t.hash));if(0===i||!h){const e=new C.X("Loadouts.TooManyRequested",(0,c.t)("Loadouts.TooManyRequested",{total:u,itemname:d.name,requested:t.amount}));throw e.level="warn",e}e.amount-=i,o-=i,u+=i,await a((0,m.UE)(h,l,{equip:!1,amount:i,excludes:s},n))}}}else await a((0,m.UE)(d,l,{equip:t.equip,amount:d.amount,excludes:s},n))}}function X(e,t,o,s){return async(n,a)=>{for(const r of t)try{const i=(0,p.Wh)(a()),c=(0,g.Px)(i),l=(0,g.o$)(c,r,i);if(l<=1){const a=i.filter((t=>!t.isVault&&t.id!==e.id)).filter((e=>(0,g.o$)(e,r,i)));if(a.length){(0,M.zh)("loadout","clearItemsOffCharacter initiated move:",r.amount,r.name,r.typeName,"to",a[0].name,"from",(0,g.KA)(i,r.owner).name),await n((0,m.UE)(r,a[0],{equip:!1,amount:r.amount,excludes:t,reservations:s},o));continue}if(0===l){G(e);continue}}(0,M.zh)("loadout","clearItemsOffCharacter initiated move:",r.amount,r.name,r.typeName,"to",c.name,"from",(0,g.KA)(i,r.owner).name),await n((0,m.UE)(r,c,{equip:!1,amount:r.amount,excludes:t,reservations:s},o))}catch(t){const o=(0,P.n)(t);if(o instanceof x.k3)throw o;o instanceof C.X&&"no-space"===o.code?G(e):(0,k.Ds)({type:"error",title:r.name,body:o.message})}}}function Y(e,t,o,s,n){return async(a,r)=>{const i=(0,A.v2)(r()),c=(0,A.oy)(r());if(!e.sockets)return;const l=[...t];for(const t of l){const{socketIndex:r}=t;let{mod:l}=t;const u=(0,E.hq)(e.sockets,r);if(l.hash===e.hash){const e=u.emptyPlugItemHash;e&&(l=i.InventoryItem.get(e)??l)}if(u.plugged?.plugDef.hash!==l.hash)if((0,d.M)(u,l.hash,c,i)){(0,M.zh)("loadout mods","equipping mod",l.displayProperties.name,"into",e.name,"socket",i.SocketType.get(u.socketDefinition.socketTypeHash)?.displayProperties.name||u.socketIndex),n.checkCanceled();try{await a($(e,u,l)),o(t)}catch(e){const o=(0,P.n)(e),n=o instanceof C.X&&ee(o.bungieErrorCode());s(t,o,n)}}else(0,M.XX)("loadout mods","cannot equip mod",l.displayProperties.name,"into",e.name,"socket",i.SocketType.get(u.socketDefinition.socketTypeHash)?.displayProperties.name||u.socketIndex),s(t);else o(t)}}}function $(e,t,o){return async s=>{try{await s((0,d.Q)(e,t,o.hash))}catch(s){(0,M.PT)("loadout mods","failed to equip mod",o.displayProperties.name,"into",e.name,"socket",t.socketIndex,s);const n=o.displayProperties.name??"Unknown Plug";throw new C.X("AWA.ErrorMessage",(0,c.t)("AWA.ErrorMessage",{error:(0,P.g)(s),item:e.name,plug:n})).withError(s)}}}function ee(e){return 1671===e||1640===e}},63252:(e,t,o)=>{o.d(t,{Ai:()=>w,B5:()=>k,FN:()=>x,Fn:()=>E,Fy:()=>K,Ln:()=>C,P4:()=>J,Qw:()=>A,SA:()=>Z,SH:()=>B,U1:()=>I,UF:()=>H,Uj:()=>z,Vf:()=>F,Vr:()=>W,W3:()=>Q,aB:()=>R,bw:()=>$,e9:()=>X,i:()=>L,iJ:()=>D,j1:()=>q,kP:()=>U,k_:()=>oe,kv:()=>ee,lO:()=>_,lu:()=>G,pB:()=>j,rT:()=>M,sL:()=>S,vD:()=>te,xV:()=>P,ym:()=>V,yv:()=>O}),o(77012);var s=o(11969),n=o(90699),a=o(2290),r=o(16328),i=o(38654),c=o(14231),l=o(36871),d=o(16283),u=o(95840),m=o(72549),h=o(87912),p=o(93104),f=o(1773),g=o(28233),y=o(18374),v=o(60088),b=o(27267);function A(e,t){const o=(0,i.I3)();return{useUpdater:function(e){return(0,y.useCallback)(((...o)=>t(e(...o))),[e])},useDefsUpdater:function(e){return(0,y.useCallback)(((...s)=>t(e(o,...s))),[e,o])},useDefsStoreUpdater:function(s){return(0,y.useCallback)(((...n)=>t(s(o,e,...n))),[s,o,e])}}}function k(e,t,o,s){return(0,g.jM)((n=>{const r=(0,b.CE)(t,!1);s&&(r.socketOverrides=s),t.sockets&&3284755031===t.bucket.hash&&!s&&(r.socketOverrides=(0,b.sP)(t));const i=b.Ak.includes(t.bucket.hash),l=i?1:t.bucket.capacity;if(!(0,d.Yk)(t))return void(0,c.Ds)({type:"warning",title:(0,a.t)("Loadouts.OnlyItems")});if(!(0,d.oT)(t.classType,n.classType))return void(0,c.Ds)({type:"warning",title:(0,a.t)("Loadouts.ClassTypeMismatch",{className:t.classTypeNameLocalized})});const h=(0,b.b$)(e,n.items,t);-1!==h&&(t.maxStackSize>1&&(r.amount+=Math.min(n.items[h].amount+t.amount,t.maxStackSize)),n.items.splice(h,1));const p=T(e,n,t.bucket.hash);if(-1===h&&p.length>=l&&!i)return(0,u.PT)("loadouts","Can't add",t),void(0,c.Ds)({type:"warning",title:(0,a.t)("Loadouts.MaxSlots",{slots:l,bucketName:t.bucket.name})});if(r.equip=void 0!==o?o:t.equipment&&0===p.length,r.equip&&function(e,t,o){for(const s of o.items){const o=e.InventoryItem.get(s.hash);(N(e,s.hash)===t.bucket.hash||t.equippingLabel&&(o&&"tierType"in o?6===o.tierType?""+o.itemType:void 0:o.equippingBlock?.uniqueLabel)===t.equippingLabel)&&(s.equip=!1)}}(e,t,n),i&&(n.items=n.items.filter((e=>!p.includes(e))),r.equip=!0),n.items.push(r),t.bucket.inArmor&&r.equip&&n.parameters?.modsByBucket?.[t.bucket.hash]?.length){const e=(0,m.Cv)(t.sockets,1926152773);n.parameters.modsByBucket[t.bucket.hash]=n.parameters.modsByBucket[t.bucket.hash].filter((t=>e.some((e=>e.plugSet?.plugs.some((e=>e.plugDef.hash===t))))))}}))}function w(e,{item:t,loadoutItem:o}){return(0,g.jM)((s=>{const n=s.items.findIndex((e=>e.hash===o.hash&&e.id===o.id));if(-1===n)return;const a=s.items[n];if(a.amount||=1,a.amount--,a.amount<=0&&s.items.splice(n,1),a.equip){const o=t.bucket.hash,n=o?T(e,s,o):[],a=n.length>0&&s.items.find((e=>e===n[0]));a&&(a.equip=!0)}}))}function I({loadoutItem:e},t){return(0,g.jM)((o=>{const s=(0,b.CE)(t,e.equip),n=o.items.findIndex((t=>t.hash===e.hash&&t.id===e.id));if(-1===n)throw Error("Original item to replace not found");o.items[n]=s}))}function S(e,{item:t,loadoutItem:{equip:o,socketOverrides:s}}){return k(e,t,!o,s)}function x({loadoutItem:e},t){return(0,g.jM)((o=>{const s=o.items.find((t=>t.id===e.id&&t.hash===e.hash));s&&(s.socketOverrides=t)}))}function T(e,t,o){return t.items.filter((t=>{const s=N(e,t.hash);return s&&s===o}))}function N(e,t){const o=e.InventoryItem.get(t);return o&&("bucketTypeHash"in o?o.bucketTypeHash:o.inventory?.bucketTypeHash)}function C(){return(0,g.jM)((e=>{e.parameters&&(delete e.parameters.assumeArmorMasterwork,delete e.parameters.exoticArmorHash,delete e.parameters.query,delete e.parameters.statConstraints,delete e.parameters.autoStatMods)}))}function H(e){return t=>e.isDestiny2?{...t,items:t.items.filter((t=>!(t=>3284755031===e.InventoryItem.get(t.hash)?.inventory?.bucketTypeHash)(t)))}:t}function P(e){return t=>{if(t.parameters?.mods){const o=t.parameters?.mods.indexOf(e.originalModHash);if(-1!==o)return _({mods:t.parameters.mods.toSpliced(o,1)})(t)}return t}}function D(e,t){return o=>{const s=t.items.find((e=>e.equipped&&3284755031===e.bucket.hash&&(0,d.Yk)(e)));return s&&e.isDestiny2?k(e,s,!0)(o):o}}function M(e,t,o,s){return n=>{const a=(0,h.p)(n.items.filter((e=>e.equip)),(t=>N(e,t.hash))),r=t.items.filter((e=>e.equipped&&(0,d.Yk)(e)&&Y(e,s))),i={};for(const t of r)if(!(t.bucket.hash in a)){n=k(e,t,!0)(n);const o=t.sockets?(0,l.x1)((0,m.Cv)(t.sockets,1926152773),(e=>e.plugged?.plugDef.hash)):[];o.length&&(i[t.bucket.hash]=o)}return s||n.parameters?.mods?.length||(n=B(t)(n)),!s&&(0,l.Im)(n.parameters?.artifactUnlocks)&&(n=Z(o)(n)),(0,l.Im)(i)||(n=Q({...i,...n.parameters?.modsByBucket})(n)),n}}function E(e,t,o){return s=>{const n=j(e,o);s={...s,items:s.items.filter((t=>!(t.equip&&n.includes(N(e,t.hash)??0))))};const a=t.items.filter((e=>e.equipped&&(0,d.Yk)(e)&&n.includes(e.bucket.hash)));for(const t of a)s=k(e,t,!0)(s);const r={};for(const e of a.filter((e=>e.bucket.inArmor))){const t=e.sockets?(0,l.x1)((0,m.Cv)(e.sockets,1926152773),(e=>e.plugged?.plugDef.hash)):[];t.length&&(r[e.bucket.hash]=t)}return(0,l.Im)(r)||(s=_({modsByBucket:r})(s)),s}}function R(e,t,o){return s=>{const n=(0,b.QK)(t,o);for(const t of n)-1===(0,b.b$)(e,s.items,t)&&(s=k(e,t,!1)(s));return s}}function L(e){return t=>({...t,name:e})}function V(e){return t=>({...t,notes:e})}function q(e){return t=>({...t,classType:e})}function O(e,t){return o=>({...o,parameters:{...o.parameters,["Weapons"===t?"clearWeapons":"clearArmor"]:e}})}function _(e){return t=>({...t,parameters:{...t.parameters,...e}})}function B(e){const t=[],o=e.items.filter((e=>e.equipped&&(0,d.Yk)(e)&&"Armor"===e.bucket.sort));for(const e of o)t.push(...(0,b.NF)(e));return G(t)}function j(e,t){return e.isDestiny2?"General"===t?[4023194814,4274335291,284967655,2025709351]:n.j[t]:s.W[t]}function z(e,t){return function(e,t){return o=>({...o,items:o.items.filter((o=>{const s=N(e,o.hash);return!(s&&3284755031!==s&&t.includes(s))}))})}(e,j(e,t))}function F(){return(0,g.jM)((e=>{delete e.parameters?.mods}))}function W(e){return _({clearMods:e})}function U(e){return _({includeRuntimeStatBenefits:e})}function G(e){return _({mods:e.map(r.Pj)})}function Q(e){return _({modsByBucket:(0,l.Im)(e)?void 0:e})}function Z(e){return e?.unlockedItemHashes.length?_({artifactUnlocks:e}):e=>e}function K(){return _({artifactUnlocks:void 0})}function J(e){return(0,g.jM)((t=>{if(t.parameters?.artifactUnlocks){const o=t.parameters?.artifactUnlocks.unlockedItemHashes.indexOf(e);-1!==o&&t.parameters.artifactUnlocks.unlockedItemHashes.splice(o,1)}}))}function X(e,t){return o=>{const s=(0,p.X)(t.items.filter((e=>3284755031===e.bucket.hash&&(0,d.Yk)(e))));return s?k(e,s,!0,e.isDestiny2?(0,v.EG)(e,s):void 0)(o):o}}function Y(e,t){return t?"General"===t?3284755031!==e.bucket.hash&&e.bucket.sort===t:e.bucket.sort===t:b.l0.includes(e.bucket.hash)}function $(e,t,o,s,n){return a=>(a=ee(e,t,o,void 0,s)(a),te(e,t,o,n)(a))}function ee(e,t,o,s,n){return(0,g.jM)((a=>{const r=(0,v.Q4)(t,o,(e=>Y(e,s)&&(!("Weapons"===e.bucket.sort||"Armor"===e.bucket.sort)||!n||n(e)))),i=r.items.map((t=>N(e,t.hash)));a.items=a.items.filter((t=>!t.equip||!i.includes(N(e,t.hash))));for(const t of r.items){let s=t;e.isDestiny2&&3284755031===N(e,t.hash)&&(s={...s,socketOverrides:(0,v.EG)(e,o.find((e=>e.hash===t.hash)))}),a.items.push(s)}}))}function te(e,t,o,s){return(0,g.jM)((n=>{const a=t.items.filter((e=>e.equipped&&(0,d.Yk)(e)&&"Armor"===e.bucket.sort));for(const s of n.items){const n=(0,b.oH)(e,o,t.id,s);if("Armor"===n?.bucket.sort){const e=a.findIndex((e=>e.bucket.hash===n.bucket.hash));a[e]=n}}const i=[];for(const e of a)if(e.sockets){let t=e.energy?.energyCapacity??0;const o=[],n=(0,f.k)((0,m.Cv)(e.sockets,590099826));for(const e of n){const n=(0,p.X)(e.plugSet?.plugs.filter((n=>{if(n.plugDef.hash===e.emptyPlugItemHash||!s.has(n.plugDef.hash))return!1;const a=n.plugDef.plug.energyCost?.energyCost,i=(0,r.Mi)(n.plugDef);return(void 0===a||a<=t)&&(void 0===i||!o.includes(i))}))??[]);if(n){i.push((0,r.Pj)(n.plugDef.hash)),t-=n.plugDef.plug.energyCost?.energyCost??0;const e=(0,r.Mi)(n.plugDef);void 0!==e&&o.push(e)}}}return _({mods:i})(n)}))}function oe(e){return _({inGameIdentifiers:e})}},98313:(e,t,o)=>{o.d(t,{Nw:()=>n,Xw:()=>r,YA:()=>i,lp:()=>c,nV:()=>a});var s=o(46673);const n=new s.l,a=new s.l;function r(e,t,{showClass:o=!0,fromExternal:s=!1}={}){n.next({storeId:t,loadout:e,showClass:o,fromExternal:s})}function i(e){a.next(e)}function c(e,t,{showClass:o=!0}={}){r({...e,name:e.name+" - Copy",id:globalThis.crypto.randomUUID()},t,{showClass:o})}},52300:(e,t,o)=>{o.d(t,{$:()=>m,i:()=>u});var s=o(74427),n=o(52040),a=o(94186),r=o(11519),i=o(95840),c=o(72549),l=o(27267);let d=1;function u(){return""+d++}function m(e,t,o,d,m,h){if(!t)return[(0,r.tR)(),(0,r.tR)()];const{defs:p,buckets:f}=e,g=h??p,y=[],v=[];for(const r of t){const t=(0,l.oH)(g,d,o,r);if(t){const o=r.equip&&m?m[t.bucket.hash]??[]:[];let s=r.socketOverrides;for(const e of o){const o=t.sockets?.allSockets.find((t=>(0,c.qV)(t,e)));o&&(s={...s,[o?.socketIndex]:e})}const n=g.isDestiny2?(0,a.FN)(e,t,s):t;y.push({item:n,loadoutItem:s===r.socketOverrides?r:{...r,socketOverrides:s}})}else{const t=g.isDestiny2?(0,n.h4)(e,r.hash):(0,s.h4)(g,f,r.hash);t?(t.id=u(),v.push({item:t,loadoutItem:r,missing:!0})):(0,i.XX)("loadout","Couldn't create fake warn item for",r)}}return[y,v]}},27267:(e,t,o)=>{o.d(t,{$W:()=>T,Ak:()=>S,CE:()=>L,DY:()=>ee,Dd:()=>_,E9:()=>G,JJ:()=>E,L1:()=>K,NF:()=>V,Nh:()=>J,Pw:()=>W,QK:()=>se,Qx:()=>re,RJ:()=>X,Sj:()=>C,UB:()=>D,W6:()=>z,WY:()=>ae,Wv:()=>M,Zo:()=>H,aD:()=>Y,b$:()=>B,hw:()=>Z,l0:()=>w,oH:()=>j,qx:()=>ne,rp:()=>R,sP:()=>N,v8:()=>Q,vD:()=>P}),o(31158),o(89293),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(2290),n=o(45680),a=o(65),r=o(324),i=o(34841),c=o(5555),l=o(21271),d=o(16328),u=o(58416),m=o(59816),h=o(36871),p=o(57551),f=o(16283),g=o(37082),y=o(72549),v=(o(95594),o(58947)),b=o(87912),A=o(28233),k=o(90699);const w=[3284755031,1498876634,2465295065,953998645,3448274439,3551918588,14239492,20886954,1585787867,434908299,4023194814,284967655,2025709351,4274335291],I=[3284755031,1498876634,2465295065,953998645,3448274439,3551918588,14239492,20886954,1585787867],S=[3284755031,4274335291,1107761855],x=[...k.j.Weapons,...k.j.Armor];function T(e,t,o){return{id:globalThis.crypto.randomUUID(),classType:void 0!==o&&-1!==o?o:3,name:e,items:t,clearSpace:!1}}function N(e){if(e.sockets){const t={};let o=te(e);e:for(const s of e.sockets.categories){const n=(0,y.I8)(e.sockets,s.socketIndexes);for(const e of n){if(y.EN.includes(s.category.hash)){if(!(o>0))continue e;o--}e.plugged&&(0,y.qV)(e,e.plugged.plugDef.hash)&&e.plugged.plugDef.hash!==e.emptyPlugItemHash&&(t[e.socketIndex]=e.plugged.plugDef.hash)}}return t}}function C(e,t,o){const s=t.items.filter((e=>e.equipped&&(0,f.Yk)(e)&&w.includes(e.bucket.hash))),n=T(e,s.map((e=>{const t=L(e,!0);return 3284755031===e.bucket.hash&&(t.socketOverrides=N(e)),t})),t.classType);n.id="equipped";const a=s.flatMap((e=>V(e)));a.length&&(n.parameters={mods:a}),o?.unlockedItemHashes.length&&(n.parameters={...n.parameters,artifactUnlocks:o});const r={};for(const e of s.filter((e=>e.bucket.inArmor))){const t=e.sockets?(0,h.x1)((0,y.Cv)(e.sockets,1926152773),(e=>e.plugged?.plugDef.hash)):[];t.length&&(r[e.bucket.hash]=t)}return(0,h.Im)(r)||(n.parameters={...n.parameters,modsByBucket:r}),n}function H(e){return I.map((t=>{const o=(0,a.VS)(e,t).find((e=>e.equipped)),s=o&&N(o);return{itemInstanceId:o?.id??"0",plugItemHashes:Array.from(Array(16),((e,t)=>s?.[t]??c.Ou))}}))}function P(e,t){if(2===e.destinyVersion){const e=(0,h.xu)(t,(e=>e.power))/t.length;return Math.floor(1e3*e)/1e3}{const e={Weapons:6,Armor:5,General:4},o=t.reduce(((t,o)=>t+(e[1585787867===o.bucket.hash?"General":o.bucket.sort]||0)),0),s=t.reduce(((t,o)=>t+o.power*(e[1585787867===o.bucket.hash?"General":o.bucket.sort]||1)),0)/o;return Math.floor(10*s)/10}}function D(e,t,o,n,a,r,c){const l=m.BZ.map((t=>e.Stat.get(t))),d={};for(const{hash:e,displayProperties:{description:t,icon:o,name:s}}of l)d[e]={hash:e,description:t,icon:o,name:s,value:0,breakdown:[]};const p=(0,h.LG)(d,(()=>0));for(const e of n){const t=c&&(0,i.U)(e,c),o=Object.groupBy(e.stats??[],(e=>e.statHash)),s=e.sockets&&(0,y.tp)(e.sockets,760375309);for(const n of m.BZ)p[n]+=o[n]?.[0].base??0,p[n]+=t===m.zm&&e.energy?m.pY:s?.plugged?.stats?.[n]?.value??0}for(const e of m.BZ)d[e].value+=p[e],d[e].breakdown.push({hash:-1,count:void 0,name:(0,s.t)("Loadouts.ArmorStats"),icon:void 0,source:"armorStats",value:p[e]});const f=(0,u.e)(e,a,o,t,r);for(const[e,t]of Object.entries(f))d[e].value+=t.value,t.breakdown&&d[e].breakdown?.push(...t.breakdown);return d}function M(e,t,o){const s=(0,h.LG)(Object.groupBy(e,(e=>e.bucket.hash)),(e=>(0,v.S)(e,o))),n=Object.values(s).sort((0,p.hn)(x,(e=>e.bucket.hash))),a=Object.groupBy(e.filter((e=>(0,f.BE)(e,t,!0))),(e=>e.bucket.hash)),r=(0,h.LG)(a,(e=>(0,v.S)(e,o))),i=Object.values(r).sort((0,p.hn)(x,(e=>e.bucket.hash)));let c={...r};const l=e=>e.equippingLabel,d=Map.groupBy(i.filter(l),(e=>l(e)));for(const e of d.values()){if(e.length<=1)continue;const t=[];for(const s of e){const n={...c},r=e.filter((e=>e!==s));let i=!0;for(const e of r){const t=a[e.bucket.hash].filter((e=>!e.equippingLabel));t.length?n[e.bucket.hash]=(0,v.S)(t,o):i=!1}i&&t.push(n)}t.length>0&&(c=(0,v.S)(t,(e=>(0,h.xu)(Object.values(e),o))))}return{equippable:Object.values(c).sort((0,p.hn)(x,(e=>e.bucket.hash))),equipUnrestricted:i,classUnrestricted:n}}function E(e,t,o,s){const{equippable:n}=M(e,t,o);return T(s,n.map((e=>L(e,!0))))}function R(e,t){const o=e.items.filter((e=>(0,f.Yk)(e)&&!e.location.inPostmaster)),s=T(t,o.map((e=>{const t=L(e,e.equipped);return 3284755031===e.bucket.hash&&(t.socketOverrides=N(e)),t})));return s.parameters={mods:o.filter((e=>e.equipped)).flatMap(V)},s}function L(e,t){return{id:e.id,hash:e.hash,amount:e.amount,equip:t,craftedDate:e.craftedInfo?.craftedDate}}function V(e){return(0,l.N_)(e)&&e.sockets?(0,h.x1)(e.sockets.allSockets,(e=>e.plugged&&(0,d.Hz)(e.plugged.plugDef)?e.plugged.plugDef.hash:void 0)):[]}const q={1334959255:2328211300,2958378809:2932390016,1751782730:3168997075,3635991036:2240888816,3105935002:2550323932,3481861797:3941205951,3225959819:2453351420,3382391785:2842471112,3887892656:2849050827},O=[3284755031,4274335291,1107761855,3796357825,2973005342];function _(e,t){const o=q[t]??t,s=e.InventoryItem.get(o);if(!s)return;const n=s.bucketTypeHash||s.inventory?.bucketTypeHash||0;return{hash:o,instanced:!(!s.instanced&&!s.inventory?.isInstanceItem||O.includes(n)),bucketHash:n}}function B(e,t,o){const s=_(e,o.hash);return t.findIndex((e=>s.hash===(q[e.hash]??e.hash)&&(!s.instanced||o.id===e.id||o.craftedInfo?.craftedDate&&o.craftedInfo.craftedDate===e.craftedDate)))}function j(e,t,o,s){const n=_(e,s.hash);if(n)return n.instanced?W(t,s):G(t,n.hash,o)}const z=(0,g.b)((e=>(0,b.p)(e.filter((e=>"0"!==e.id&&(0,f.Yk)(e))),(e=>e.id)))),F=(0,g.b)((e=>(0,b.p)(e.filter((e=>e.instanced&&e.craftedInfo?.craftedDate)),(e=>e.craftedInfo.craftedDate))));function W(e,t){return z(e)[t.id]||(t.craftedDate?F(e)[t.craftedDate]:void 0)}const U=(0,g.b)((e=>Map.groupBy(e,(e=>e.hash))));function G(e,t,o){const s=U(e).get(t)??[];return(void 0!==o?s.find((e=>e.owner===o)):void 0)??(s[0]?.notransfer?void 0:s[0])}function Q(e,t,o){if(t.item.sockets){const s=t.item.sockets.categories.find((e=>y.oH.includes(e.category.hash)))?.socketIndexes??[],n=t.loadoutItem.socketOverrides&&(0,h.x1)(s,(o=>{const s=t.loadoutItem.socketOverrides[o];return s?e.InventoryItem.get(s):void 0}));return n?.length?oe(n):o?te(t.item):0}return 0}function Z(e,t,o,s){for(const n of s.items){const s=_(e,n.hash);if(!s)return!0;if(s.instanced){if(!W(t,n))return!0}else if("vault"!==o&&!G(t,s.hash,o))return!0}return!1}function K(e,t){if(t.items.length)return!1;if(!t.parameters?.modsByBucket)return!1;for(const o in t.parameters.modsByBucket){if(!r.WI.includes(+o))return!1;if(t.parameters.modsByBucket[o].some((t=>!X(e.InventoryItem.getOptional(t)))))return!1}return!0}function J(e,t){if(t.items.length)return!1;if(!t.parameters?.mods?.length&&!t.parameters?.modsByBucket)return!1;if(t.parameters?.modsByBucket)for(const o in t.parameters.modsByBucket){if(!r.WI.includes(+o))return!1;if(t.parameters.modsByBucket[o].some((t=>X(e.InventoryItem.getOptional(t)))))return!1}return!0}function X(e){return!(!e||20!==e.itemSubType&&21!==e.itemSubType&&2!==e.itemType)}function Y(e,t,o=new Set){return ee(e,t.parameters?.mods??[],o)}const $={204137529:1703647492,3961599962:4183296050,3682186345:2532323436,2850583378:1180408010,555005975:1237786518,2645858828:4204488676,2623485440:4021790309,4048838440:1435557120,1227870362:350061697,3355995799:2724608735,3699676109:2639422088,3253038666:4287799666};function ee(e,t,o){const s=[];if(e&&t)for(const a of t){const t=(0,d.BY)($[a]??a,o),r=e.InventoryItem.getOptional(t);if((0,n.rH)(r))s.push({originalModHash:a,resolvedMod:r});else{const t=e.InventoryItem.get(m.is);(0,n.rH)(t)&&s.push({originalModHash:a,resolvedMod:t})}}return s.sort(((e,t)=>(0,d._8)(e.resolvedMod,t.resolvedMod)))}function te(e){return oe((0,y.mj)(e.sockets,y.oH).map((e=>e.plugged?.plugDef)))}function oe(e){return e?.length?(0,h.xu)(e,(e=>{const t=e&&"plugged"in e?e.plugged?.plugDef:e;return t?.plug?.energyCapacity?.capacityValue??0})):0}function se(e,t){return e.items.filter((o=>!o.equipped&&!o.location.inPostmaster&&!S.includes(o.bucket.hash)&&(0,f.Yk)(o)&&(0,f.dO)(o.classType,e.classType)&&(t?o.bucket.sort===t:w.includes(o.bucket.hash))))}function ne(e,t,o){o=-1===o?3:o;const s=t&&"vault"!==t?(0,a.KA)(e,t):(0,a.ZS)(e);return s&&(0,f.dO)(o,s.classType)?s:e.find((e=>!e.isVault&&(0,f.dO)(o,e.classType)))}function ae(e,t){return(0,A.jM)(t,(t=>{t.items=t.items.filter((o=>{const s=e.InventoryItem.get(o.hash)?.classType;return void 0!==s&&(0,f.oT)(s,t.classType)})),3===t.classType&&t.parameters&&(t.parameters.mods?.length||t.parameters.clearMods||t.parameters.artifactUnlocks||t.parameters.clearWeapons?t.parameters={mods:t.parameters.mods,clearMods:t.parameters.clearMods,artifactUnlocks:t.parameters.artifactUnlocks,clearWeapons:t.parameters.clearWeapons}:delete t.parameters)}))}function re(e,t){return t.find((t=>new Date(t.startDate).getTime()<=(e.lastUpdatedAt??Date.now())))}},48371:(e,t,o)=>{o.d(t,{Kj:()=>b,L4:()=>k,PU:()=>x,aK:()=>S,eJ:()=>w,gm:()=>N,n:()=>v,o_:()=>A});var s=o(2290),n=o(6598),a=o(62447),r=o(65),i=o(99946),c=o(57551),l=o(50507),d=o(69063),u=o(95840),m=o(20888),h=o(46883),p=o(39973),f=o(34966),g=o(14231);const y={Legendary:4,Rare:3,Uncommon:2,Common:1,Exotic:0,Currency:0,Unknown:0};function v(e,t){return async o=>{const n=t.byCategory.Postmaster.flatMap((t=>(0,r.VS)(e,t.hash))),l=(0,m.T)(n,(e=>e.bucket.hash)),[u,h]=(0,i.Fb)(),p=[];for(const[t,o]of Object.entries(l)){const s=parseInt(t,10);if(o>0&&(0,r.VS)(e,s).length>0){const t=(0,r.VS)(e,s),n=(0,r.j)(e,t[0]),a=Math.max(0,o+t.length-n);if(a>0){const e=t.filter((e=>!e.equipped&&!e.notransfer)).sort((0,c.VE)((e=>{let t=y[e.tier];return t+=e.power/1e3,t})));p.push(...e.slice(0,a))}}}try{await o(function(e,t,o){return async(s,n)=>{const i={[e.id]:(0,m.T)(t,(e=>e.bucket.hash))},c=(0,f.cz)(o,t);for(const o of t){const l=(0,a.Wh)(n()),d=(0,r.Px)(l);if((0,r.o$)(d,o,l)<=1){const n=l.filter((t=>!t.isVault&&t.id!==e.id)).filter((e=>(0,r.o$)(e,o,l)));if(n.length){await s((0,f.UE)(o,n[0],{equip:!1,amount:o.amount,excludes:t,reservations:i},c));continue}}await s((0,f.UE)(o,d,{equip:!1,amount:o.amount,excludes:t,reservations:i},c))}}}(e,p,u)),(0,g.Ds)({type:"success",title:(0,s.t)("Loadouts.MakeRoom"),body:(0,s.t)("Loadouts.MakeRoomDone",{count:n.length,movedNum:p.length,store:e.name,context:e.genderName}),onCancel:h})}catch(e){if(!(e instanceof i.k3))throw(0,g.Ds)({type:"error",title:(0,s.t)("Loadouts.MakeRoom"),body:(0,s.t)("Loadouts.MakeRoomError",{error:(0,d.g)(e)})}),e}}}function b(e,t){return((0,r.VS)(e,215593132)||[]).filter((o=>A(o,e,t)>0))}function A(e,t,o){if(!e.canPullFromPostmaster)return 0;const s=(0,r.Av)(t,e,o);return s.guaranteed?Math.min(s.guaranteed,e.amount):s.couldMakeSpace?e.amount:0}const k=21;function w(e){return I(e)<6}function I(e){return Math.max(0,k-x(e))}function S(e){return k-I(e)}function x(e){return(0,r.VS)(e,215593132).length}const T=(0,h.n)((e=>(0,g.Ds)({type:"error",title:(0,s.t)("Loadouts.PullFromPostmasterPopupTitle"),body:(0,s.t)("Loadouts.NoSpace",{error:e.message})})),1e3,{edges:["leading"]});function N(e){return async(t,o)=>{const c=(0,a.Wh)(o()),m=b(e,c),h=(0,p.B)((e=>{(0,g.Ds)({type:"error",title:(0,s.t)("Loadouts.PullFromPostmasterPopupTitle"),body:(0,s.t)("Loadouts.PullFromPostmasterError",{error:e})})})),[y,v]=(0,i.Fb)(),A=(async()=>{let n=0;const c=(0,f.cz)(y,m);for(const p of m){let g=p.amount;if(p.uniqueStack){const t=(0,r.o$)(e,p,(0,a.Wh)(o()));t>0&&(g=Math.min(p.amount||1,t))}try{await t((0,f.UE)(p,e,{equip:!1,amount:g},c)),n++}catch(e){const t=(0,d.n)(e);if(t instanceof i.k3)return!1;if((0,u.PT)("postmaster",`Error pulling ${p.name} from postmaster`,t),t instanceof l.X&&"no-space"===t.code){if(1===m.length)throw new l.X("Loadouts.NoSpace",(0,s.t)("Loadouts.NoSpace",{error:t.message}));T(t)}else{if(1===m.length)throw new l.X("Loadouts.PullFromPostmasterError",(0,s.t)("Loadouts.PullFromPostmasterError",{error:t.message}));h(t.message)}}}if(!n)throw new l.X("Loadouts.PullFromPostmasterGeneralError")})();(0,g.Ds)((0,n.ky)(m.length,e,A,v)),await A}}},29368:(e,t,o)=>{o.d(t,{Ez:()=>a,Q8:()=>n,Xb:()=>i,rO:()=>r});var s=o(61898);const n=(0,s.createAction)("loadouts/DELETE")(),a=(0,s.createAction)("loadouts/UPDATE")(),r=(0,s.createAction)("loadouts/SAVE_PREVIOUS")(),i=(0,s.createAction)("loadouts/UPDATE_STORE")()},34841:(e,t,o)=>{o.d(t,{U:()=>n,u:()=>a});var s=o(16283);function n(e,{assumeArmorMasterwork:t,minItemEnergy:o}){return e.energy?Math.max(e.energy.energyCapacity,3===t||4===t||2===t&&!e.isExotic?10:o):0}function a(e,{assumeArmorMasterwork:t}){return e.isExotic&&e.energy&&4===t||(0,s.CA)(e)}},57942:(e,t,o)=>{o.d(t,{tF:()=>u,zQ:()=>d,Ay:()=>l});var s=o(10544),n=o(20505),a=o(75816),r=o(38654),i=o(13526);const c={wrapper:"InGameLoadoutIcon-m_wrapper-wB2_9gw5",index:"InGameLoadoutIcon-m_index-Q6FVQlCA",iconImg:"InGameLoadoutIcon-m_iconImg-_Y1oSarh"};function l({loadout:e,className:t,size:o=32}){return(0,s.A)(n.Ay,{className:(0,i.A)(c.iconImg,t),style:(0,n.Yq)(e.colorIcon),src:e.icon,height:o,width:o})}function d({loadout:e,imgClassName:t,className:o,size:n=32}){return(0,s.A)("div",{className:(0,i.A)(o,c.wrapper),style:{fontSize:n+"px"}},void 0,(0,s.A)(l,{loadout:e,className:t,size:n}),(0,s.A)("div",{className:c.index},void 0,e.index+1))}function u({identifiers:e,className:t,size:o=32}){const n=(0,r.I3)(),i=(0,a.g0)(n,e);return(0,s.A)(l,{loadout:i,className:t,size:o})}},69770:(e,t,o)=>{o.d(t,{J1:()=>r,t4:()=>n,vj:()=>a});var s=o(61898);const n=(0,s.createAction)("ingame_loadout/LOADED")(),a=(0,s.createAction)("ingame_loadout/DELETED")(),r=(0,s.createAction)("ingame_loadout/UPDATED")()},34144:(e,t,o)=>{o.d(t,{QK:()=>y,W6:()=>k,cv:()=>A,nr:()=>b,px:()=>v});var s=o(30671),n=o(99475),a=o(2290),r=o(50784),i=o(61542),c=o(62447),l=o(65),d=o(60088),u=o(6723),m=o(27267),h=o(14231),p=o(69063),f=o(69770),g=o(66801);function y(e,t=!0){return async(o,s)=>{try{const n=(0,c.Wh)(s()),a=(0,l.KA)(n,e.characterId),r=(0,c.V0)(s()),i=(0,c.cb)(s()),m=(0,g.wN)(i,e.items,r),h=(0,d.H1)(m.map((e=>e.item)),a);return await o((0,u.H)(a,h,t?{inGameLoadout:e}:{}))}catch{}}}function v(e){return async(t,o)=>{const s=(0,c.Wh)(o()),n=(0,c.cb)(o()),a=(0,l.KA)(s,e.characterId),d=(0,g.wN)(n,e.items,(0,c.V0)(o()));for(const{item:e}of d){const o=(0,l.KA)(s,e.owner);t((0,r.Lx)({item:e,source:o,target:a,equip:!0,amount:1}))}t((0,i.u)())}}function b(e){return async(t,o)=>{const r=(0,s.sZ)(o());try{await(0,n.vj)(r,e),(0,h.Ds)({title:(0,a.t)("InGameLoadout.Deleted"),body:(0,a.t)("InGameLoadout.DeletedBody",{index:e.index+1})}),t((0,f.vj)(e))}catch(e){(0,h.Ds)({type:"error",title:(0,a.t)("InGameLoadout.DeleteFailed"),body:(0,p.g)(e)})}}}function A(e){return async(t,o)=>{const r=(0,s.sZ)(o());try{await(0,n.cv)(r,e),t((0,f.J1)(e))}catch(e){(0,h.Ds)({type:"error",title:(0,a.t)("InGameLoadout.EditFailed"),body:(0,p.g)(e)})}}}function k(e){return async(t,o)=>{const r=(0,s.sZ)(o()),i=(0,l.KA)((0,c.Wh)(o()),e.characterId);e={...e,items:(0,m.Zo)(i)};try{await(0,n.W6)(r,e),t((0,f.J1)(e))}catch(e){(0,h.Ds)({type:"error",title:(0,a.t)("InGameLoadout.SnapshotFailed"),body:(0,p.g)(e)})}}}},66801:(e,t,o)=>{o.d(t,{J5:()=>y,KR:()=>f,LI:()=>p,Lj:()=>g,wN:()=>h});var s=o(90699),n=o(62447),a=o(94186),r=o(27267),i=o(75816),c=o(36871),l=o(18374),d=o(8935),u=o(5555),m=o(21271);function h(e,t,o){return(0,c.x1)(t,(t=>{const s="0"!==t.itemInstanceId?(0,r.W6)(o)[t.itemInstanceId]:void 0;if(!s)return;const n=(0,i.z3)(t.plugItemHashes),c=(0,a.FN)(e,s,n);return{item:c,loadoutItem:{socketOverrides:n,hash:c.hash,id:c.id,equip:!0,amount:1}}}))}function p(e){const t=(0,d.d4)(n.V0),o=(0,d.d4)(n.cb);return(0,l.useMemo)((()=>h(o,e.items,t)),[o,e.items,t])}const f=[3284755031,...s.j.Weapons,...s.j.Armor];function g(e,t,o){const s=t.filter((e=>!!e.loadoutItem.equip&&f.includes(e.item.bucket.hash))).map((e=>e.item.id)),n=e.items.map((e=>e.itemInstanceId));if(s.length<4)return!1;if(!s.every((e=>n.includes(e))))return!1;const a=e.items.flatMap((e=>e.plugItemHashes)).filter(v),r=o.map((e=>e.resolvedMod.hash));for(const e of r){const t=a.indexOf(e);if(-1===t)return!1;a.splice(t,1)}const i=t.find((e=>3284755031===e.item.bucket.hash));if(i?.loadoutItem?.socketOverrides){const t=e.items.find((e=>e.itemInstanceId===i.item.id)),o=(0,m.Re)(i);for(const{plugHash:e}of o)if(!t.plugItemHashes.includes(e))return!1}return!0}function y(e,t,o){return t.owner===e.id}function v(e){return e&&e!==u.Ou}},38291:(e,t,o)=>{o.d(t,{Hs:()=>p,Pp:()=>b,Xt:()=>g,ez:()=>y,iI:()=>v});var s=o(2290),n=o(62447),a=o(65),r=o(52300),i=o(27267),c=o(30698),l=o(38654),d=o(11519),u=o(63150),m=o(66801);const h=(0,u.Mz)(((e,t)=>t),((e,t)=>{const o=(0,n.Wh)(e),s=(0,a.KA)(o,t).classType;return(0,c.S)(s)(e)}),n.Wh,l.v2,n.cb,n.V0,n.xk.selector,((e,t,o,n,r,c,l)=>{const u=(0,a.KA)(o,e);return{loadouts:t?t.map((t=>p(e,t,n,l,r,c))):(0,d.tR)(),currentLoadout:p(e,(0,i.Sj)((0,s.t)("Loadouts.FromEquipped"),u,void 0),n,l,r,c)}}));function p(e,t,o,s,n,a){const c=(0,i.aD)(o,t,s),[l,d]=(0,r.$)(n,t.items,e,a);return{loadout:t,resolvedMods:c,resolvedLoadoutItems:l,failedResolvedLoadoutItems:d}}const f=e=>e.inGameLoadouts.loadouts,g=(0,u.Mz)(f,(e=>Object.values(e).flat())),y=(0,u.Mz)(f,((e,t)=>t),((e,t)=>e[t]??(0,d.tR)())),v=(0,u.Mz)((e=>(0,n.yu)(e)?.characterLoadouts?.data),(e=>e?Object.values(e)[0]?.loadouts.length??0:0)),b=(0,u.Mz)(y,h,n.V0,n.Wh,v,((e,t)=>t),((e,{currentLoadout:t,loadouts:o},s,n,r,c)=>{const l=(0,a.KA)(n,c);return e.filter((e=>e.index<r)).map((e=>{const a=e.items.every((e=>{const t=(0,i.W6)(s)[e.itemInstanceId];return!t||(0,m.J5)(l,t,n)})),r=(0,m.Lj)(e,t.resolvedLoadoutItems,t.resolvedMods),c=o.filter((t=>(0,m.Lj)(e,t.resolvedLoadoutItems,t.resolvedMods)));return{gameLoadout:e,isEquippable:a,isEquipped:r,matchingLoadouts:c}}))}))},5555:(e,t,o)=>{o.d(t,{Ou:()=>i,gV:()=>a,im:()=>r,pK:()=>n});var s=o(59816);const n=[s.SC.helmet,s.SC.gauntlets,s.SC.chest,s.SC.leg,s.SC.classitem],a=[...JSON.parse("[13646368,125494331,1486918022,1703496685,2106680364,2140235634,2173937871,2207493141,2274750776]"),1081029832],r=[...s.Uo,...a,3773173029],i=2166136261},21271:(e,t,o)=>{o.d(t,{CP:()=>l,N_:()=>i,Re:()=>c}),o(2290);var s=o(45680),n=o(59816),a=o(36871),r=o(72549);function i(e){return!!(e.bucket.inArmor&&e.energy&&n.BZ.every((t=>e.stats?.some((e=>e.statHash===t)))))}function c(e){const t=[];if(e?.item.sockets?.categories)for(const o of e.item.sockets.categories){const s=r.oH.includes(o.category.hash)||r.EN.includes(o.category.hash),n=(0,r.I8)(e.item.sockets,o.socketIndexes);for(const a of n){const n=e.loadoutItem.socketOverrides?.[a.socketIndex],i=n||!s&&(0,r.LT)(a);i&&t.push({plugHash:i,canBeRemoved:s,socketCategoryHash:o.category.hash})}}return t}function l(e,t){return(0,a.x1)(c(t),(t=>{const o=e.InventoryItem.get(t.plugHash);return(0,s.rH)(o)?{plug:o,canBeRemoved:t.canBeRemoved,socketCategoryHash:t.socketCategoryHash}:void 0}))}},90154:(e,t,o)=>{o.d(t,{$r:()=>c,ZB:()=>l,oh:()=>d});var s=o(11451),n=o(52300),a=o(27267),r=o(75816);const i=/^(?:(?:https?:\/\/)?dim.gg\/)?([a-z0-9]{7,})(?:\/.*)?$/;async function c(e){switch(e.tag){case"dimGGShare":return await async function(e){const t=await(0,s.IE)(e);return u((0,r.z9)(t))}(e.shareId);case"urlLoadout":return e.loadout;case"urlParameters":{const{classType:t,notes:o,parameters:s}=e.urlParameters,n=(0,a.$W)("",[],t);return n.notes=o,n.parameters=s,n}}}function l(e){const t=e.match(i);if(t)return{tag:"dimGGShare",shareId:t[1]};try{const{pathname:t,search:o}=new URL(e);if(t.endsWith("/loadouts")){const e=d(o);if(e)return{tag:"urlLoadout",loadout:e}}}catch{}}function d(e){const t=new URLSearchParams(e).get("loadout");if(t)return u((0,r.z9)(JSON.parse(t)))}function u(e){return e.id=globalThis.crypto.randomUUID(),e.items=e.items.map((e=>({...e,id:"0"===e.id?(0,n.i)():e.id,hash:+e.hash}))),e}},75816:(e,t,o)=>{o.d(t,{b:()=>l,g0:()=>f,gA:()=>p,qW:()=>g,z3:()=>y,z9:()=>m});var s=o(5555),n=o(36871),a=o(11519),r=o(72549),i=o(77335),c=o(27267);function l(e){const{items:t,name:o,parameters:s,...n}=e,a=t.filter((e=>e.equip)).map(d),r=t.filter((e=>!e.equip)).map(d),i={...n,name:o.trim(),equipped:a,unequipped:r,parameters:s,clearSpace:!(!s?.clearArmor||!s?.clearWeapons),lastUpdatedAt:Date.now()};return i.notes||delete i.notes,i}function d(e){const t={hash:e.hash};return e.id&&"0"!==e.id&&!e.id.includes("-")&&(t.id=e.id),e.amount>1&&(t.amount=e.amount),e.socketOverrides&&(t.socketOverrides=e.socketOverrides),e.craftedDate&&(t.craftedDate=e.craftedDate),t}function u(e,t){return t&&void 0===e?.clearArmor&&void 0===e?.clearWeapons?{...e,clearArmor:!0,clearWeapons:!0}:e}function m(e){const{equipped:t=[],unequipped:o=[],clearSpace:s,parameters:n,...a}=e;return{...a,parameters:u(n,s??!1),clearSpace:s??!1,items:[...t.map((e=>h(e,!0))),...o.map((e=>h(e,!1)))]}}function h(e,t){return{...e,id:e.id||"0",amount:e.amount||1,equip:t}}const p=(e,t)=>{const o=e?.characterLoadouts?.data;return o?(0,n.LG)(o,((e,o)=>(0,n.x1)(e.loadouts,((e,s)=>function(e,t,o,s){const n=f(s,e);if(void 0!==e.items&&0!==e.items.length&&!e.items.every((e=>"0"===e.itemInstanceId)))return{...e,...n,characterId:o,index:t,id:`ingame-${o}-${t}`}}(e,s,o,t))))):(0,a.vB)()};function f(e,{nameHash:t,colorHash:o,iconHash:s}){return{name:e.LoadoutName.get(t)?.name??"Unknown",colorIcon:e.LoadoutColor.get(o)?.colorImagePath??"",icon:e.LoadoutIcon.get(s)?.iconImagePath??""}}function g(e,t,o){const a=[],l={},d=(0,n.x1)(e.items,(e=>{if("0"===e.itemInstanceId)return;const t=(0,c.W6)(o)[e.itemInstanceId];if(!t)return;if(t.bucket.inArmor){const o=(0,r.Cv)(t.sockets,590099826),n=(0,r.Cv)(t.sockets,1926152773);for(let r=0;r<e.plugItemHashes.length;r++){const c=e.plugItemHashes[r];c!==s.Ou&&(!i.c.has(c)&&o.some((e=>e.socketIndex===r))?a.push(c):n.some((e=>e.socketIndex===r))&&(l[t.bucket.hash]||=[]).push(c))}}const n=3284755031===t.bucket.hash?y(e.plugItemHashes):void 0;return{...(0,c.CE)(t,!0),socketOverrides:n}})),u=(0,c.$W)(e.name,d,t);return u.parameters={mods:a,modsByBucket:l,inGameIdentifiers:{nameHash:e.nameHash,iconHash:e.iconHash,colorHash:e.colorHash}},u}function y(e){return Object.fromEntries((0,n.x1)(e,((e,t)=>e!==s.Ou?[t,e]:void 0)))}},70055:(e,t,o)=>{function s(e){return"colorHash"in e}o.d(t,{C:()=>s})},30698:(e,t,o)=>{o.d(t,{S:()=>d,x:()=>l});var s=o(19654),n=o(11519),a=o(16283),r=o(18604),i=o(63150),c=o(75816);const l=(0,i.Mz)((e=>(0,s.eH)(e)?.loadouts),(e=>e?Object.values(e).map((e=>(0,c.z9)(e))):(0,n.tR)())),d=(0,r.d)((0,i.Mz)(l,((e,t)=>t),((e,t)=>e.filter((e=>(0,a.dO)(t,e.classType))))))},3468:(e,t,o)=>{o.d(t,{RN:()=>x,Sn:()=>v,r_:()=>N,ow:()=>I,yQ:()=>T}),o(10131);var s=o(4201),n=o(45680),a=o(59816),r=o(36871),i=o(57551),c=o(11519),l=o(16283),d=o(95840),u=o(72549),m=o(87912),h=o(54270),p=o(34841),f=o(5555);function g(e){return function(e,t){if(!e.length)return[[null,null,null,null,null]];const o=[0,0,0,0,0],s=Array.from(e),n=new Set;for(;s.length<5;)s.push(null);let a=0;const r=[Array.from(s)];for(n.add(t(s));a<5;)if(o[a]<a){a%2==0?[s[0],s[a]]=[s[a],s[0]]:[s[o[a]],s[a]]=[s[a],s[o[a]]];const e=t(s);n.has(e)||(r.push(Array.from(s)),n.add(e)),o[a]+=1,a=0}else o[a]=0,a+=1;return r}(e,(e=>e.map((e=>e?.hash)).join(",")))}o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var y=o(16328);function v(e,t){const o=[],s=[],n=[],r={},i=[],c=[],l=t.flatMap((e=>(0,u.Cv)(e.sockets,590099826))).filter((e=>e.plugged));for(const t of e){const e=t.plug.plugCategoryHash;if(l.some((e=>(0,u.qV)(e,t.hash))))if(e===a.SC.general)o.push(t),i.push(t);else if(f.gV.includes(e))s.push(t),i.push(t);else if(3773173029===t.plug.plugCategoryHash)n.push(t),i.push(t);else{const o=y.kI[e];void 0!==o?((r[o]??=[]).push(t),i.push(t)):c.push(t)}else c.push(t)}return{modMap:{allMods:i,generalMods:o,activityMods:s,artificeMods:n,bucketSpecificMods:r},unassignedMods:c}}const b=[3467984096,4257549985,4257549984,3853748946,3159615086];function A(e){const t=e.InventoryItem.get(720825311);if(!t||!(0,n.rH)(t))return;const o=e.MaterialRequirementSet.get(t.plug.insertionMaterialRequirementHash);return o?b.map((e=>o.materials.find((t=>t.itemHash===e))?.count??0)):void 0}const k=(0,h.A)((e=>({defs:e,byRarity:{},exoticArtificeCosts:A(e)})));function w(e,t){for(let o=0;o<e.length;o++){if(e[o]<t[o])return-1;if(e[o]>t[o])return 1}return 0}function I({defs:e,items:t,plannedMods:o,armorEnergyRules:s}){let n={};const i={};let c=Array(b.length).fill(Number.MAX_SAFE_INTEGER),d=Number.MAX_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER;const h=k(e);for(const e of t)i[e.id]={assigned:[],unassigned:[]},n[e.id]={assigned:[],unassigned:[]};const f=(0,r.LG)((0,m.p)(t,(e=>e.id)),(e=>(0,l.eL)(e))),{modMap:{activityMods:y,generalMods:A,artificeMods:I,bucketSpecificMods:S},unassignedMods:T}=v(o,t),N=[];for(const[e,o]of Object.entries(S)){const n=+e,a=t.find((e=>e.bucket.hash===n));a?i[a.id]=x(s,a,o):N.push(...o)}const D=t.filter((e=>(0,p.u)(e,s)));for(const e of I){let t=D.findIndex((t=>t.sockets?.allSockets.some((t=>t.plugged?.plugDef.hash===e.hash))));-1===t&&D.length&&(t=D.findIndex((e=>!e.isExotic)),-1===t&&(t=0)),-1!==t?(i[D[t].id].assigned.push(e),D.splice(t,1)):N.push(e)}const E=(0,r.LG)((0,m.p)(t,(e=>e.id)),(e=>function({item:e,assignedMods:t,armorEnergyRules:o}){return{used:(0,r.xu)(t,(e=>e.plug.energyCost?.energyCost||0)),originalCapacity:e.energy?.energyCapacity||0,derivedCapacity:(0,p.U)(e,o),isClassItem:1585787867===e.bucket.hash,rarity:e.tier}}({item:e,assignedMods:i[e.id].assigned,armorEnergyRules:s}))),R=g(A),L=g(y);for(const e of L)e:for(const o of R){let s=0;const a={};for(let n=0;n<t.length;n++){const r=[],i=[],c=t[n],l=e[n];l&&C(l,f[c.id],E[c.id])?r.push(l):l&&i.push(l);const u=o[n];if(u&&P(E[c.id],u,...r)?r.push(u):u&&i.push(u),s+i.length>d)continue e;s+=i.length,a[c.id]={assigned:r,unassigned:i}}if(s>d)continue;const r=H(t,E,a,i,h),l=w(r,c);if(s===d&&l>0)continue;let m=0;for(const e of t)m+=M(e,a[e.id].assigned);(s<d||s===d&&l<0||s===d&&0===l&&m<u)&&(n=a,c=r,d=s,u=m)}const V={},q={};for(const e of t){for(const t of[n[e.id],i[e.id]])for(const e of t.unassigned)N.push(e);const t=n[e.id].assigned,o=i[e.id].assigned,s=e.isExotic&&o.some((e=>3773173029===e.plug.plugCategoryHash)),c=[...t,...o];V[e.id]=c,e.energy&&(q[e.id]={energyCapacity:E[e.id].originalCapacity,energyUsed:s?a.zm:(0,r.xu)(c,(e=>e.plug.energyCost?.energyCost??0))})}return{itemModAssignments:V,resultingItemEnergies:q,unassignedMods:N,invalidMods:T,upgradeCosts:c.map(((e,t)=>({amount:e,materialHash:b[t]}))).filter((({amount:e})=>e>0))}}function S(e,t){const o=(0,u.Cv)(e,590099826).filter((e=>e.plugged)).sort((0,i.VE)((e=>e.plugSet?e.plugSet.plugs.length:999))),s=t.toSorted((0,i.VE)((e=>(0,r.U9)(o,(t=>(0,u.qV)(t,e.hash))))));return{orderedSockets:o,orderedMods:s}}function x(e,t,o){let s=(0,p.U)(t,e);const{orderedSockets:n,orderedMods:a}=S(t.sockets,o),r=[],i=[],c=[];for(const e of a){const t=n.findIndex((t=>(0,u.qV)(t,e.hash)));if(-1===t){i.push(e);continue}const o=e.plug.energyCost?.energyCost||0;if(o>s){i.push(e);continue}const a=(0,y.Mi)(e);a&&c.includes(a)?i.push(e):(r.push(e),s-=o,n.splice(t,1),a&&c.push(a))}return{assigned:r,unassigned:i}}function T(e,t,o,s=!1){const n=[];if(!t.sockets)return n;const{orderedSockets:a,orderedMods:r}=S(t.sockets,o);for(const e of r){let t=a.findIndex((t=>t.plugged.plugDef.hash===e.hash));if(-1===t){const o=(0,y.Mi)(e);t=a.findIndex((t=>(0,u.qV)(t,e.hash)&&(0,y.Mi)(t.plugged.plugDef)===o))}if(-1===t&&(t=a.findIndex((t=>(0,u.qV)(t,e.hash)))),-1===t)throw Error(`We couldn't find anywhere to plug the mod ${e.displayProperties.name} (${e.hash})`);n.push({socketIndex:a[t].socketIndex,mod:e,requested:!0}),a.splice(t,1)}for(const t of a){const o=t.emptyPlugItemHash,a=o&&e.InventoryItem.get(o);if(a){const{socketIndex:e}=t;n.push({socketIndex:e,mod:a,requested:s})}}return n}function N(e,t,o){const s=[],n=[],a=[];if(!t.energy)return(0,c.tR)();const r=[];for(const i of o){const o=(0,u.hq)(t.sockets,i.socketIndex);o.plugged||(0,d.XX)("loadout mods",`${t.name} socket #${i.socketIndex} was found to be null, indicating it might not exist at all in practice. attempting to create a plugging plan for it, but it might not work`);const c=o.plugged?.plugDef.plug.energyCost?.energyCost||0,l=i.mod.plug.energyCost?.energyCost||0,m=l-c,h=o.plugged?(0,y.Mi)(o.plugged.plugDef):void 0,p=(0,y.Mi)(i.mod),f={...i,energySpend:m,required:i.requested,exclusionGroupAdded:p,exclusionGroupReleased:h};o.plugged?.plugDef.hash===i.mod.hash?f.required&&r.push(f):f.energySpend>0&&!f.exclusionGroupReleased?n.push(f):!f.required&&D(t,i)?a.push(f):f.energySpend<=0&&!f.exclusionGroupAdded?s.push(f):(s.push({energySpend:-c,required:!0,exclusionGroupAdded:void 0,exclusionGroupReleased:h,mod:e.InventoryItem.get(o.emptyPlugItemHash),socketIndex:i.socketIndex,requested:!1}),n.push({...i,energySpend:l,exclusionGroupAdded:p,exclusionGroupReleased:void 0,required:!0}))}a.sort((0,i.VE)((e=>e.energySpend<0?-e.energySpend:Number.MAX_VALUE)));const l=t.energy.energyCapacity;let m=t.energy.energyUsed;for(const e of s)r.push(e),m+=e.energySpend;for(const e of n){for(;m+e.energySpend>l||e.exclusionGroupAdded&&a.some((t=>t.exclusionGroupReleased===e.exclusionGroupAdded));){if(!a.length)throw Error(`there's not enough energy to assign ${e.mod.displayProperties.name} to ${t.name}, but no more energy can be freed up`);const o=e.energySpend-(l-m),s=void 0!==e.exclusionGroupAdded&&a.find((t=>t.exclusionGroupReleased===e.exclusionGroupAdded))||(a.find((e=>-e.energySpend>=o))??a[0]);s.required=!0,r.push(s),m+=s.energySpend,a.splice(a.indexOf(s),1)}r.push(e),m+=e.energySpend}return r.push(...a),r}function C(e,t,o){const s=(0,l.ir)(e.plug.plugCategoryHash);return P(o,e)&&s&&t?.some((e=>e.compatibleModTags.includes(s)))}function H(e,t,o,n,i){return e.reduce(((e,c)=>{const d=t[c.id],u=o[c.id].assigned,m=n[c.id].assigned.some((e=>3773173029===e.plug.plugCategoryHash)),h=d.used+(0,r.xu)(u,(e=>e.plug.energyCost?.energyCost??0)),p=function(e,t,o,n,r){if(!e.byRarity[t.rarity]){const t=(0,s.yv)(o),n=Array(a.zm);for(let o=0;o<=a.zm;o++){const s=n[o-1];n[o]=s?[...s]:Array(b.length).fill(0);const a=t.find((e=>e.plug.energyCapacity.capacityValue===o));if(!a)continue;const r=e.defs.MaterialRequirementSet.get(a.plug.insertionMaterialRequirementHash);for(const e of r.materials){const t=b.findIndex((t=>t===e.itemHash));-1!==t&&(n[o][t]+=e.count)}}e.byRarity[o.tier]=n}const i="Exotic"===t.rarity&&r&&!(0,l.CA)(o),c=e.byRarity[o.tier],d=c[t.originalCapacity],u=c[i?a.zm:n].map(((e,t)=>e-d[t]));if(i&&e.exoticArtificeCosts)for(let t=0;t<u.length;t++)u[t]+=e.exoticArtificeCosts[t];return u}(i,d,c,Math.max(h,d.originalCapacity),m);return e?e.map(((e,t)=>e+p[t])):p}),void 0)}function P(e,t,...o){if(e.originalCapacity<1)return!1;const s=t.plug.energyCost?.energyCost??0,n=(0,r.xu)(o,(e=>e?.plug.energyCost?.energyCost??0));return e.used+s+n<=e.derivedCapacity}function D(e,t){const o=e.sockets&&(0,u.hq)(e.sockets,t.socketIndex);return o||(0,d.XX)("loadout mods","Why does socket",t.socketIndex,"not exist on",e.name,e.hash),o&&t.mod.hash===o.emptyPlugItemHash}function M(e,t){let o=0;for(const s of t)(0,u.Cv)(e.sockets,590099826).some((e=>e.plugged?.plugDef.hash===s.hash))||(o+=1);return o}},16328:(e,t,o)=>{o.d(t,{u:()=>v,Mi:()=>S,eC:()=>b,Hz:()=>y,lB:()=>w,BY:()=>A,Pj:()=>k,qu:()=>I,kI:()=>p,ld:()=>g,_8:()=>f}),o(89293);var s=o(2290),n=o(45680),a=o(59816),r=o(57551),i=o(16283),c=o(95594),l=o(77335);const d=JSON.parse('{"84503918":"finisher","1125986156":"finisher","1170405455":"finisher","1208761894":"finisher","2649291407":"fastball","3064687909":"finisher","4004774872":"finisher","4004774873":"finisher","4004774874":"finisher","4004774875":"finisher","4004774876":"finisher","4004774877":"finisher"}'),u=JSON.parse('{"14520248":2318667184,"40751621":4149682173,"48578555":3047946307,"84503918":1208761894,"193878019":2267311547,"319908131":792400107,"335129856":2801811288,"350061697":2519597513,"377010989":1153260021,"450381139":4283953067,"467550918":1017385934,"531057500":830369300,"534479613":2436471653,"554409585":644105,"633101315":2771425787,"686455429":3075302157,"688956976":56663992,"707237917":657773637,"721001747":1801153435,"802695661":2815817957,"837201397":3188328909,"856936828":2136310244,"953234331":3539253011,"967052942":96682422,"1024379611":422994787,"1039115606":3791691774,"1079896271":634608391,"1097608874":579997810,"1125523126":3046678542,"1130820873":3461249873,"1180408010":2568808786,"1193713026":1672155562,"1237786518":1124184622,"1262438062":2325151798,"1301391064":877723168,"1305536863":1891463783,"1388734897":897335593,"1435557120":3896141096,"1456244346":810675984,"1456244349":810675991,"1456244351":846698094,"1553790504":1019574576,"1589556860":2888195476,"1669792723":2413278875,"1677180919":2479297167,"1755737153":1783952505,"1763668984":2562645296,"1763780622":1139671158,"1781551382":1255614814,"1834163303":2246316031,"1971149752":1103878128,"2059068466":2794359402,"2076329105":1561736585,"2257238439":1305848463,"2311625537":1533272847,"2319885414":2283894334,"2407398462":2305736470,"2414626352":1604394872,"2447449706":1709236482,"2452545487":2634786903,"2467203039":2214424583,"2485657760":965934024,"2526773280":411014648,"2532323436":2113881316,"2577472338":3181984586,"2586562813":2237975061,"2595839237":3775800797,"2657604783":1702273159,"2719698929":331268185,"2724068510":3847471926,"2724608735":1866564759,"2734674728":3174771856,"2773358872":1210012576,"2793473444":3184690956,"2793548555":703902595,"2921714558":2526922422,"2959504464":1118428792,"3000428062":3013778406,"3067648983":531665167,"3094620656":293178904,"3112965625":1501094193,"3117519997":2311625536,"3149307605":2982306509,"3160387771":1044888195,"3194530172":3846931924,"3323910164":3979300428,"3410844187":2788997987,"3437323171":3887037435,"3462414552":3294892432,"3467460423":3914973263,"3518670115":2899505723,"3573031954":3276278122,"3581696649":2805854721,"3599522901":2031584061,"3685945823":3657186535,"3712696020":2996369932,"3719981603":930759851,"3726719281":3245543337,"3775916472":3675553168,"3926119246":3279257734,"3938489430":1036557198,"3979621113":3598972737,"3980769162":3224649746,"3994043492":1627901452,"4039026690":4267244538,"4046357305":1901221009,"4081595582":2245839670,"4182064480":1924584408,"4183296050":3808902618,"4204488676":2493161484,"4244246940":95934356,"4255093903":1086997255,"4287799666":1763607626,"4287822553":2303417969,"4294909663":3798468567}'),m=Object.fromEntries(Object.entries(u).map((([e,t])=>[t,parseInt(e,10)])));var h=o(5555);const p={[a.SC.helmet]:3448274439,[a.SC.gauntlets]:3551918588,[a.SC.chest]:14239492,[a.SC.leg]:20886954,[a.SC.classitem]:1585787867},f=(0,r.o2)((0,r.hn)(h.im,(e=>e.plug.plugCategoryHash)),(0,r.VE)((e=>e.itemTypeDisplayName)),(0,r.VE)((e=>e.plug.energyCost?.energyCost)),(0,r.VE)((e=>e.displayProperties.name))),g=(0,r.o2)((0,r.hn)(h.im,(e=>e.length?e[0].plug.plugCategoryHash:void 0)),(0,r.VE)((e=>e.length?e[0].itemTypeDisplayName:"")));function y(e){return!(!(0,n.rH)(e)||!(0,i.mP)(e)||l.c.has(e.hash)||c.includes(e.hash)||3313201758===e.inventory?.bucketTypeHash||void 0===e.itemTypeDisplayName)}function v(){const e={};return t=>(e[t.hash]||=0,`${t.hash}-${e[t.hash]++}`)}function b(e){return Object.groupBy(e,(e=>e.plug.plugCategoryIdentifier.endsWith(".prism.aspects")?(0,s.t)("Loadouts.Prismatic.Aspect"):e.plug.plugCategoryIdentifier.endsWith(".prism.supers")?(0,s.t)("Loadouts.Prismatic.Super"):e.plug.plugCategoryIdentifier.endsWith(".prism.grenades")?(0,s.t)("Loadouts.Prismatic.Grenade"):e.plug.plugCategoryIdentifier.endsWith(".prism.melee")?(0,s.t)("Loadouts.Prismatic.Melee"):e.itemTypeDisplayName))}function A(e,t){const o=w(e)?e:u[e];return void 0!==o&&t.has(o)?o:t.has(e)?e:m[e]??e}function k(e){return m[e]??e}function w(e){return void 0!==m[e]}function I(e){return m[e]??u[e]}function S(e){return d[e.hash]}},84211:(e,t,o)=>{o.d(t,{A:()=>h});var s=o(10544),n=o(2290),a=o(60440),r=o(13526),i=o(23764);const c={stackable:"PlugStackableIcon-m_stackable-EiUEyxlU common-m_flexRow-ZPndn63a",stack:"PlugStackableIcon-m_stack-Rih024v4"};var l,d,u,m=o(94518);function h({hash:e,descriptions:t,className:o}){const h=t.perks.some((e=>e.requirement)),p=i.includes(e);return h||p?(0,s.A)("div",{className:(0,r.A)(c.stackable,o)},void 0,(0,m.jsxs)(m.Fragment,p?{children:[(0,s.A)("span",{className:c.stack},void 0,l||(l=(0,s.A)(a.z9,{icon:a.hv,ariaHidden:!0})),d||(d=(0,s.A)(a.z9,{icon:a.GN,ariaHidden:!0}))),(0,n.t)("Loadouts.ModPlacement.UnstackableMod")]}:{children:[u||(u=(0,s.A)(a.z9,{icon:a.GN,ariaHidden:!0}))," ",(0,n.t)("Loadouts.ModPlacement.StackableMod")]})):null}},51077:(e,t,o)=>{o.d(t,{Hz:()=>f,Ko:()=>h,P1:()=>g,d9:()=>v,df:()=>p,um:()=>y}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(19654),n=o(58769),a=o(62447),r=o(38291),i=o(38654),c=o(16283),l=o(63150),d=o(27267),u=o(70055),m=o(30698);const h=(0,l.Mz)(m.x,(e=>[...new Set(e.flatMap((e=>(0,n.VT)(e.name,e.notes))))])),p=(0,l.Mz)(i.Ph,m.x,r.Xt,a.Wh,a.V0,((e,t,o,s,n)=>{const a={};if(!e)return a;const r=(e,t,o)=>{const s=a[e]??=[];s.some((e=>e.loadout.id===t.id))||s.push({loadout:t,loadoutItem:o})};for(const o of t)for(const t of o.items){const a=(0,d.Dd)(e,t.hash);if(a)if(a.instanced){const e=(0,d.Pw)(n,t);e&&r(e.id,o,t)}else for(const e of s)if(!e.isVault&&(0,c.dO)(e.classType,o.classType)){const s=(0,d.E9)(n,a.hash,e.id);s&&r(s.id,o,t)}}for(const e of o)for(const t of e.items){const o=n.find((e=>e.id===t.itemInstanceId));o&&r(o.id,e,{id:o.id,hash:o.hash,amount:1,equip:!0})}return a})),f=(0,l.Mz)(p,(e=>(t,o)=>!!e[t.id]?.some((e=>(0,u.C)(e.loadout)&&e.loadout.characterId===o)))),g=e=>t=>{if(t.loadouts.previousLoadouts[e])return t.loadouts.previousLoadouts[e].at(-1)},y=(0,l.Mz)(a.pl,a.ux,(e=>e.loadouts.selectedLoadoutStoreId),((e,t,o)=>{const s=t||e[0];return void 0===o?s:e.find((e=>e.id===o))??s})),v=e=>t=>!!(0,s.eH)(t)?.loadouts[e]},58416:(e,t,o)=>{o.d(t,{H:()=>p,e:()=>f}),o(31158);var s=o(20505),n=o(45680),a=o(14711),r=o(16328),i=o(59816),c=o(36871),l=o(11519),d=o(74136),u=o(48258);const m=(0,d.O)((()=>{const e={4046357305:2996146975,686455429:392767087,1193713026:1943323491,1781551382:1735777505,1130820873:144602215,633101315:4244567218};return{...e,...(0,u.d)(e,((e,t)=>(0,r.qu)(+t)))}})),h=[0,30,50,60];function p(e){return e.some((e=>void 0!==m()[e]))}function f(e,t,o,r,d){const u=o?.loadoutItem.socketOverrides?(0,n.bA)(e,Object.values(o.loadoutItem.socketOverrides)):(0,l.tR)(),p={2996146975:{value:0,breakdown:[]},392767087:{value:0,breakdown:[]},1943323491:{value:0,breakdown:[]},1735777505:{value:0,breakdown:[]},144602215:{value:0,breakdown:[]},4244567218:{value:0,breakdown:[]}},f=(e,t)=>{const o=Map.groupBy(e,(e=>e.hash));for(const e of o.values()){const o=e[0],n=e.length;for(const e of(0,a.e)(o))if(e.statTypeHash in p&&(0,a.f)(e.activationRule,void 0,r)){const a=e.value*n;p[e.statTypeHash].value+=a,p[e.statTypeHash].breakdown.push({name:o.displayProperties.name,icon:(0,s.Tu)(o.displayProperties.icon),hash:o.hash,count:n,source:t,value:a})}}};if(f(u,"subclassPlug"),f(t,"armorPlug"),d){const e=function(e){const t={};for(const o of e){const e=m()[o.hash];e&&((t[e]??={statHash:e,plugDef:o,count:0,value:0}).count+=1)}return(0,c.LG)(t,(e=>({...e,value:h[e.count]??h.at(-1)})))}(t);for(const t of i.BZ){const o=e[t];o&&(p[t].value+=o.value,p[t].breakdown.push({name:o.plugDef.displayProperties.name,icon:(0,s.Tu)(o.plugDef.displayProperties.icon),hash:o.plugDef.hash,count:o.count,source:"runtimeEffect",value:o.value}))}}return p}},88294:(e,t,o)=>{o.d(t,{A:()=>v,G:()=>g});var s=o(10544),n=o(88673),a=o(66265),r=o(2290),i=o(372),c=o(21871),l=o(92369),d=o(49629),u=o(18374),m=o(80729),h=o(10303);const p={billboard:"Login-m_billboard-CQh4wkJp",explanation:"Login-m_explanation-UfEk4VyZ",section:"Login-m_section-J11pfJz5",dimSync:"Login-m_dimSync-ZaM3rhfS Login-m_section-J11pfJz5",dimSyncCheckbox:"Login-m_dimSyncCheckbox-mpMffwmt",fineprint:"Login-m_fineprint-MwpOJrxH",warning:"Login-m_warning-AYaiBXQB",auth:"Login-m_auth-fjefWfiB dim-button"};var f;const g=(0,i.JD)("DIM-Sync"),y=(0,i.JD)("Accounts-and-Login");function v(){const e=(0,l._)(),t=(0,u.useMemo)((()=>((0,d.TO)()?"dimauth-":"")+globalThis.crypto.randomUUID()),[]),o=(0,h.E6)(),i=(0,m.zy)().state,v=i?.path;(0,u.useEffect)((()=>{localStorage.setItem("authorizationState",t)}),[t]),(0,u.useEffect)((()=>{v&&localStorage.setItem("returnPath",""+v)}),[v]);const b=e=>"https://www.bungie.net/en/OAuth/Authorize?"+new URLSearchParams({client_id:o,response_type:"code",state:t,...e&&{reauth:e}}),[A]=(0,u.useState)("false"===localStorage.getItem("dim-api-enabled")),[k,w]=(0,u.useState)((()=>{const e="false"!==localStorage.getItem("dim-api-enabled");return localStorage.setItem("dim-api-enabled",JSON.stringify(e)),e}));return(0,s.A)("div",{className:p.billboard},void 0,(0,s.A)("h1",{},void 0,(0,r.t)("Views.Login.Permission")),(0,s.A)("p",{className:p.explanation},void 0,(0,r.t)("Views.Login.Explanation")),(0,s.A)("p",{},void 0,(0,s.A)("a",{rel:"noopener noreferrer",className:p.auth,href:b()},void 0,(0,r.t)("Views.Login.Auth"))),(0,s.A)("div",{},void 0,(0,s.A)("a",{className:"dim-button",rel:"noopener noreferrer",href:b("true")},void 0,(0,r.t)("Views.Login.NewAccount"))),(0,s.A)("section",{className:p.dimSync},void 0,(0,s.A)(n.A,{name:"apiPermissionGranted",className:p.dimSyncCheckbox,checked:k,onChange:e=>{localStorage.setItem("dim-api-enabled",JSON.stringify(e)),w(e)}},void 0,(0,r.t)("Storage.EnableDimApi")),(0,s.A)("div",{className:p.fineprint},void 0,(0,r.t)("Storage.DimApiFinePrint")," ",(0,s.A)(a.A,{href:g},void 0,(0,r.t)("Storage.LearnMore"))),A&&k&&(0,s.A)("div",{className:p.warning},void 0,(0,r.t)("Views.Login.EnableDimSyncWarning"),(0,s.A)("button",{type:"button",className:"dim-button",onClick:async()=>{const t=await e((0,c.u)());(0,c.h)(t)}},void 0,(0,r.t)("Storage.Export"))),!A&&!k&&(0,s.A)("div",{className:p.warning},void 0,(0,r.t)("Storage.DimSyncNotEnabled"))),(0,s.A)("section",{className:p.section},void 0,(0,s.A)(a.A,{href:y},void 0,(0,r.t)("Views.Login.LearnMore"))," |"," ",f||(f=(0,s.A)(m.N_,{to:"/privacy"},void 0,"Privacy Policy"))))}},4755:(e,t,o)=>{o.d(t,{L:()=>c,_3:()=>i,b3:()=>r,kJ:()=>a});var s=o(99445),n=o(61898);const a=(0,n.createAction)("manifest/D2")(),r=(0,n.createAction)("manifest/D1")(),i=(0,n.createAction)("manifest/CORE_SETTINGS")();function c(){return async(e,t)=>{if(t().manifest.destiny2CoreSettings)return;const o=await(0,s.r)();t().manifest.destiny2CoreSettings||e(i(o.destiny2CoreSettings))}}},43688:(e,t,o)=>{o.d(t,{c2:()=>N,tm:()=>x});var s=o(61441),n=o(40768),a=o(19654),r=o(2290),i=o(49662),c=o(97098),l=o(50507),d=o(11519),u=o(69063),m=o(95840),h=o(73618),p=o(74136),f=o(68284),g=o(99475),y=o(14231),v=o(73835),b=o(44155);const A="manifest",k={DestinyInventoryItemDefinition:e=>{for(const t in e){const o=e[t];if(o.action=(0,d.vB)(),o.backgroundColor=(0,d.vB)(),o.translationBlock=(0,d.vB)(),o.equippingBlock?.displayStrings?.length&&(o.equippingBlock.displayStrings=(0,d.tR)()),o.preview&&(o.preview.derivedItemCategories?.length&&(o.preview.derivedItemCategories=(0,d.tR)()),o.preview.screenStyle=""),o.inventory&&(3284755031!==o.inventory.bucketTypeHash&&(o.talentGrid=(0,d.vB)()),o.inventory.tierTypeName=""),o.sockets){o.sockets.intrinsicSockets=(0,d.tR)();for(const e of o.sockets.socketEntries)e.reusablePlugSetHash&&e.reusablePlugItems.length>0&&(e.reusablePlugItems=(0,d.tR)())}o.displayProperties.iconSequences&&(o.displayProperties.iconSequences=(0,d.tR)()),o.tooltipStyle="",o.itemTypeAndTierDisplayName=""}return e},DestinyObjectiveDefinition:e=>{for(const t in e){const o=e[t];o.stats=(0,d.vB)(),o.perks=(0,d.vB)(),o.displayProperties.description="",o.displayProperties.name=""}return e},DestinyCollectibleDefinition:e=>{for(const t in e){const o=e[t];o.acquisitionInfo=(0,d.vB)(),o.stateInfo=(0,d.vB)()}return e},DestinyRecordDefinition:e=>{for(const t in e){const o=e[t];o.requirements=(0,d.vB)(),o.expirationInfo=(0,d.vB)()}return e}},w="d2-manifest-version",I="d2-manifest";let S=null;async function x(){const e=await(0,g.c2)();return S&&!Object.values(e.jsonWorldContentPaths).includes(S)}const T=(0,p.O)((e=>(0,h.P)((t=>t(function(e){return async t=>{t((0,i.pS)((0,r.t)("Manifest.Load")));const o=(0,m.O1)(A,"Load manifest");try{const o=await t(function(e){return async(t,o)=>{let l=null;try{const e=await(0,g.c2)();await v.z;const t=(0,a.t2)(o()).language;l=e.jsonWorldComponentContentPaths[t]||e.jsonWorldComponentContentPaths.en,S="v2-"+(e.jsonWorldContentPaths[t]||e.jsonWorldContentPaths.en)}catch(t){if(S=localStorage.getItem(w),S)return H(S,e);throw t}try{return await H(S,e)}catch(o){return(0,m.zh)(A,"Unable to use cached manifest, loading fresh manifest from Bungie.net",o),t(function(e,t,o){return async a=>{a((0,i.pS)((0,r.t)("Manifest.Download")));try{const a=await async function(e,t){const o=["","?dim","?dim-"+((""+Math.random()).split(".")[1]??"dimCacheBust")],a={},r=t.map((e=>`Destiny${e}Definition`)).map((async t=>{let r,i,c=null;for(const s of o)try{if(r=await fetch(`https://www.bungie.net${e[t]}${s}`),r.ok){c=await r.json();break}i??=await(0,n.YX)(r)}catch(e){i??=(0,u.n)(e)}c||(0,s.ug)(i),a[t]=t in k?k[t](c):c}));return await Promise.all(r),a}(t,o);return async function(e,t,o){try{await Promise.all([...o.map((async t=>{const o=e[`Destiny${t}Definition`];o&&await(0,c.hZ)(`${I}-${t}`,o)})),(0,c.yH)(I)]),(0,m.zh)(A,"Successfully stored manifest file."),localStorage.setItem(w,t),localStorage.setItem(w+"-whitelist",JSON.stringify(o))}catch(e){(0,m.PT)(A,"Error saving manifest file",e),(0,y.Ds)({title:(0,r.t)("Help.NoStorage"),body:(0,r.t)("Help.NoStorageMessage"),type:"error"})}}(a,e,o),a}finally{a((0,i.MH)((0,r.t)("Manifest.Download")))}}}(S,l,e))}}}(e));if(!o.DestinyVendorDefinition)throw Error("Manifest corrupted, please reload");return o}catch(e){let t=(0,u.n)(e);throw t instanceof l.X&&t.cause&&(t=t.cause),t.cause instanceof TypeError||t.cause instanceof n.F9||C(),(0,m.PT)(A,"Manifest loading error",t),(0,b.U)("manifest load",t),new l.X("Manifest.Error",(0,r.t)("Manifest.Error",{error:t.message})).withError(t)}finally{t((0,i.MH)((0,r.t)("Manifest.Load"))),o()}}}(e))))));function N(e){return T(e)}async function C(){localStorage.removeItem(w),await Promise.all((await(0,c.HP)()).map((async e=>{"string"==typeof e&&e.startsWith(I)&&await(0,c.yH)(e)})))}async function H(e,t){const o=localStorage.getItem(w),s=JSON.parse(localStorage.getItem(w+"-whitelist")||"[]");if(o===e&&(0,f.bD)(s,t)){const e={};return await Promise.all(t.map((async t=>{const o=await(0,c.Jt)(`${I}-${t}`),s=`Destiny${t}Definition`;if(!o)throw Error("No cached contents for table "+s);e[s]=o}))),e}throw await C(),Error(`version mismatch: ${e} ${o}`)}},38654:(e,t,o)=>{o.d(t,{A_:()=>h,HE:()=>i,I3:()=>m,Ph:()=>d,ZJ:()=>u,oy:()=>r,v2:()=>l});var s=o(30671),n=o(11519),a=o(8935);const r=e=>e.manifest.destiny2CoreSettings,i=e=>e.manifest.destiny2CoreSettings?.currentRankProgressionHashes??(0,n.tR)(),c=e=>e.manifest.d1Manifest,l=e=>e.manifest.d2Manifest,d=e=>2===(0,s.Ot)(e)?l(e):c(e);function u(){return(0,a.d4)(c)}function m(){return(0,a.d4)(l)}function h(){return(0,a.d4)(d)}},70143:(e,t,o)=>{o.d(t,{A:()=>a});var s=o(10544);o(18374);const n={button:"NotificationButton-m_button-L1VB1YoQ"};function a({children:e,onClick:t}){return(0,s.A)("span",{className:n.button,onClick:t},void 0,e)}},14231:(e,t,o)=>{o.d(t,{Ds:()=>i,FE:()=>a,mo:()=>n});var s=o(46673);class n extends Error{title;body;type;icon;trailer;constructor(e,{title:t,body:o,type:s,icon:n,trailer:a}){super(e),this.name="NotificationError",this.title=t,this.body=o||e,this.type=s||"error",this.icon=n,this.trailer=a}}const a=new s.l;let r=0;function i(e){a.next({id:r++,duration:5e3,type:"info",...e})}},20254:(e,t,o)=>{o.d(t,{PR:()=>b,Ay:()=>A,v0:()=>v});var s=o(10544),n=o(6967),a=o(38654),r=o(92298),i=o(36871),c=o(13526),l=o(8935);const d={selector:"ItemTypeSelector-m_selector-gErhBzIC",level:"ItemTypeSelector-m_level-Q98fU5cB",button:"ItemTypeSelector-m_button-YUUkQdjn dim-button",checked:"ItemTypeSelector-m_checked-Wp4icjy9",buttonItemCount:"ItemTypeSelector-m_buttonItemCount-cPQCJNhe"},u=[{id:"helmet",itemCategoryHash:45,terminal:!0},{id:"arms",itemCategoryHash:46,terminal:!0},{id:"chest",itemCategoryHash:47,terminal:!0},{id:"legs",itemCategoryHash:48,terminal:!0},{id:"classItem",itemCategoryHash:49,terminal:!0}],m={id:"kinetic",itemCategoryHash:2,terminal:!0},h={id:"energy",itemCategoryHash:3,terminal:!0},p={id:"power",itemCategoryHash:4,terminal:!0},f={id:"all",itemCategoryHash:0,subCategories:[{id:"weapons",itemCategoryHash:1,terminal:!0,subCategories:[{id:"autorifle",itemCategoryHash:5,subCategories:[m,h],terminal:!0},{id:"handcannon",itemCategoryHash:6,subCategories:[m,h],terminal:!0},{id:"pulserifle",itemCategoryHash:7,subCategories:[m,h],terminal:!0},{id:"scoutrifle",itemCategoryHash:8,subCategories:[m,h],terminal:!0},{id:"sidearm",itemCategoryHash:14,subCategories:[m,h],terminal:!0},{id:"bow",itemCategoryHash:3317538576,subCategories:[m,h,p],terminal:!0},{id:"submachine",itemCategoryHash:3954685534,subCategories:[m,h],terminal:!0},{id:"fusionrifle",itemCategoryHash:9,subCategories:[m,h,p],terminal:!0},{id:"sniperrifle",itemCategoryHash:10,subCategories:[m,h,p],terminal:!0},{id:"shotgun",itemCategoryHash:11,subCategories:[m,h,p],terminal:!0},{id:"specialgrenadelauncher",itemCategoryHash:-153950757,subCategories:[m,h],terminal:!0},{id:"tracerifle",itemCategoryHash:2489664120,subCategories:[m,h],terminal:!0},{id:"glaive",itemCategoryHash:3871742104,subCategories:[h,p],terminal:!0},{id:"machinegun",itemCategoryHash:12,terminal:!0},{id:"sword",itemCategoryHash:54,terminal:!0},{id:"heavygrenadelauncher",itemCategoryHash:153950757,subCategories:[p],terminal:!0},{id:"rocketlauncher",itemCategoryHash:13,terminal:!0},{id:"linearfusionrifle",itemCategoryHash:1504945536,subCategories:[m,h,p],terminal:!0}]},{id:"hunter",itemCategoryHash:23,subCategories:u,terminal:!0},{id:"titan",itemCategoryHash:22,subCategories:u,terminal:!0},{id:"warlock",itemCategoryHash:21,subCategories:u,terminal:!0},{id:"ghosts",itemCategoryHash:39,terminal:!0}]},g=[...u,{id:"artifacts",itemCategoryHash:38,terminal:!0}],y={id:"all",itemCategoryHash:0,subCategories:[{id:"weapons",itemCategoryHash:1,subCategories:[{id:"autorifle",itemCategoryHash:5,terminal:!0},{id:"handcannon",itemCategoryHash:6,terminal:!0},{id:"pulserifle",itemCategoryHash:7,terminal:!0},{id:"scoutrifle",itemCategoryHash:8,terminal:!0},{id:"fusionrifle",itemCategoryHash:9,terminal:!0},{id:"sniperrifle",itemCategoryHash:10,terminal:!0},{id:"shotgun",itemCategoryHash:11,terminal:!0},{id:"machinegun",itemCategoryHash:12,terminal:!0},{id:"rocketlauncher",itemCategoryHash:13,terminal:!0},{id:"sidearm",itemCategoryHash:14,terminal:!0},{id:"sword",itemCategoryHash:54,terminal:!0}]},{id:"hunter",itemCategoryHash:23,subCategories:g},{id:"titan",itemCategoryHash:22,subCategories:g},{id:"warlock",itemCategoryHash:21,subCategories:g},{id:"ghosts",itemCategoryHash:39,terminal:!0}]};function v(e){return 2===e?f:y}const b=[23,22,21];function A({selectionTree:e,selection:t,onSelection:o}){const u=(0,a.A_)(),m=(0,l.d4)(r.NT);return(0,s.A)("div",{className:d.selector},void 0,(t=t.length?t:[e]).map(((e,a)=>{const r=[];for(let e=1;e<a+1;e++)t[e].itemCategoryHash&&r.push(t[e].itemCategoryHash);return e.subCategories&&(0,s.A)("div",{className:d.level},a,e.subCategories?.map((e=>{const l=[...r,e.itemCategoryHash];b.some((e=>l.includes(e)))&&l.push(20);const h=u.ItemCategory.get(Math.abs(e.itemCategoryHash));return(0,s.A)("label",{className:(0,c.A)(d.button,t[a+1]===e&&d.checked)},e.itemCategoryHash,(0,s.A)("input",{type:"radio",name:e.id,value:e.id,checked:t[a+1]===e,readOnly:!0,onClick:s=>((e,s)=>o([...t.slice(0,e+1),s]))(a,e)}),0!==e.itemCategoryHash&&(0,s.A)(n.A,{itemCategoryHash:e.itemCategoryHash}),"displayProperties"in h?h.displayProperties.name:h.title," ",(0,s.A)("span",{className:d.buttonItemCount},void 0,"(",(0,i.U9)(m,(e=>e.comparable&&l.every((t=>e.itemCategoryHashes.includes(t))))),")"))})))})))}},71237:(e,t,o)=>{o.d(t,{l:()=>d});var s=o(10544),n=o(99880),a=o(38654),r=o(13526),i=o(20505),c=o(51504);const l={modifier:"ActivityModifier-m_modifier-d5WKn98_",small:"ActivityModifier-m_small-rjk1YqW5"};function d({modifierHash:e,small:t}){const o=(0,a.I3)().ActivityModifier.get(e),d=o.displayProperties.name,u=o.displayProperties.icon;return o?.displayInActivitySelection?(0,s.A)("div",{className:(0,r.A)(l.modifier,t&&l.small)},void 0,!!u&&(0,s.A)(i.Ay,{src:u}),!!d&&(0,s.A)(c.Re,{tooltip:(0,s.A)(n.A,{text:o.displayProperties.description})},void 0,(0,s.A)("div",{},void 0,d))):null}},82072:(e,t,o)=>{o.d(t,{z:()=>v,A:()=>y});var s=o(10544),n=o(99880),a=o(2290),r=o(26397),i=o(38654),c=o(47490),l=o(76381),d=o(13526),u=o(20505);function m({progressDescription:e,objectiveDef:t}){const o=t&&"displayProperties"in t&&t.displayProperties.hasIcon?t.displayProperties.icon:void 0;return(0,s.A)("div",{className:"objective-description"},void 0,o&&(0,s.A)(u.Ay,{src:o}),(0,s.A)(n.A,{text:e}))}var h,p,f,g=o(94518);function y({objective:e,suppressObjectiveDescription:t,isTrialsPassage:o,showHidden:l,noCheckbox:u}){const p=(0,i.A_)().Objective.get(e.objectiveHash),f=e.progress||0;if(!p)return null;if("minimumVisibilityThreshold"in p&&p.minimumVisibilityThreshold>0&&f<p.minimumVisibilityThreshold)return null;const g="completionValue"in e?e.completionValue:p.completionValue,y="complete"in e?e.complete:e.isComplete,b="progressDescription"in p,A=!b&&p.displayDescription||!t&&b&&p.progressDescription||(0,a.t)(y?"Objectives.Complete":"Objectives.Incomplete"),k=(0,r.JW)(p,f,g);if(!l&&8===k)return null;const w=b&&4===k;if(6===k)return(0,s.A)("div",{className:"objective-row"},void 0,(0,s.A)("div",{className:"objective-integer"},void 0,(0,s.A)(m,{progressDescription:A,objectiveDef:p}),(0,s.A)("div",{className:"objective-text"},void 0,f.toLocaleString())));const I=(0,r.M8)(p,f,g),S=o&&(0,r.fQ)(e.objectiveHash),x=o&&(0,r.Th)(e.objectiveHash)&&!y,T=(0,d.A)("objective-row",w?"date-time":y&&!S&&"objective-complete",I&&"objective-boolean",x&&"passage-flawed"),N={width:(0,c.KN)(f/g)};return(0,s.A)("div",{className:T},void 0,!u&&!S&&!w&&(h||(h=(0,s.A)("div",{className:"objective-checkbox"}))),(0,s.A)("div",{className:"objective-progress"},void 0,!I&&!w&&(0,s.A)("div",{className:"objective-progress-bar",style:N}),(0,s.A)("div",{className:"objective-description"},void 0,(0,s.A)(n.A,{text:A})),!I&&(0,s.A)("div",{className:"objective-text"},void 0,(0,s.A)(v,{objectiveDef:p,progress:f,completionValue:g}))),S&&(0,s.A)("div",{className:"objective-counter"},void 0,f))}function v({objectiveDef:e,progress:t,completionValue:o=0}){switch((0,r.JW)(e,t,o)){case 4:return(0,g.jsx)(g.Fragment,{children:new Date(1e3*t).toLocaleString()});case 3:if(100===o)return(0,g.jsx)(g.Fragment,{children:(0,c.KN)(t/o)});if(1e3===o)return(0,g.jsx)(g.Fragment,{children:(0,c.tw)(t/o)});break;case 12:return(0,g.jsx)(g.Fragment,{children:t+"%"});case 5:return(0,g.jsx)(g.Fragment,{children:(0,c.KN)(t*o)});case 9:return(0,g.jsx)(g.Fragment,{children:t.toLocaleString()+"𝗑"});case 13:return(0,g.jsx)(g.Fragment,{children:(t/100).toLocaleString()});case 7:return(0,g.jsx)(g.Fragment,{children:(0,l.uR)(t)});case 2:case 8:return null}return 0===o||e&&"allowOvercompletion"in e&&e.allowOvercompletion&&1===o?(0,g.jsx)(g.Fragment,{children:t.toLocaleString()}):(0,g.jsxs)(g.Fragment,{children:[t.toLocaleString(),p||(p=(0,s.A)("wbr",{})),"/",f||(f=(0,s.A)("wbr",{})),o.toLocaleString()]})}},43435:(e,t,o)=>{o.d(t,{e:()=>m});var s=o(10544),n=o(99880),a=o(93823),r=o(38654),i=o(8935),c=o(20505);const l={reward:"Reward-m_reward-t7koxXDv"};var d=o(92459),u=o(92380);function m({reward:e,store:t,itemHash:o}){const m=(0,r.I3)(),h=(0,i.d4)((0,a.gb)(t?.id)),[p,f]=(0,d.N)(e.itemHash,h,o),g=m.InventoryItem.get(f).displayProperties,y=(0,u.Q)(e.itemHash);return(0,s.A)("div",{className:l.reward},void 0,(0,s.A)(c.Ay,{src:g.icon,alt:""}),(0,s.A)("span",{},void 0,void 0!==p&&`+${p} `,(0,s.A)(n.A,{text:g.name,ownerId:t?.id}),e.quantity>1&&" +"+e.quantity.toLocaleString(),void 0!==y&&` (${y.toLocaleString()} XP)`))}},92459:(e,t,o)=>{o.d(t,{N:()=>r});var s=o(42482),n=o(71814);const a={73143230:{cap:0,bonus:5},323631491:{cap:0,bonus:5},853937142:{cap:0,bonus:5},3114385605:{cap:1,bonus:3},2643364263:{cap:1,bonus:3},4039143015:{cap:1,bonus:3},3114385606:{cap:1,bonus:4},882778888:{cap:1,bonus:4},3114385607:{cap:1,bonus:5}};function r(e,t,o){3603098564===o?e=73143230:3243997895===o||373284212===o?e=3114385606:373284213===o&&(e=3114385607);const r=a[e];if(r){t||=0,t=Math.floor(t);const o=s.S.powerfulcap;if(1===r.cap)return[(0,n.q)(o-t,0,r.bonus),e];if(0===r.cap)return[(0,n.q)(Math.min(s.S.pinnaclecap,Math.max(t,o)+2)-t,0,r.bonus),e]}return[void 0,e]}},92380:(e,t,o)=>{o.d(t,{Q:()=>n,r:()=>s});const s={1858002338:4e3,3348653032:6e3,3582080006:12e3,2174060729:25e3,691393048:5e4,2250176030:1e5,1711513650:2e5};function n(e){return s[e]}},6789:(e,t,o)=>{o.d(t,{A:()=>u});var s=o(10544),n=o(38654),a=o(59816),r=o(13526);const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAABpCAYAAABSxoEqAAAHZklEQVR4AWTOA28GQRSF4fI/17Zt27Zt2/iwZtzo9OxNw97kWe/MG8NJ/L4qxdd5KUJX5QhdVyB0Q7c1iNzXiehjM5SnNigvbdBeu6C/9wvjcxDm1xjM0Bis0DTsyCxEdA6Oukwrcvb0Ddqk9b/zBlxtTd4Rv1+Ew3+CFoqJe9nLxON6Mh42kvG4nY7nnQw872biZT8Hb0cFeD+m0yJGl+ProhzfV0F0HcL3DdTI4FbGtgvtrZuxvdA/eqBL8DDM7xEY38OMlnheD8lz/WtIvtPe+6DzPmih//Pjj/5yWhYsssRAEJ5z93fu7u7u7u7u7m7z018BNdA0bMIe8EFSnXTXdEJ2Y8A1+AF1wAFJ4Avcg3BwxngucMEqcUEeY2cgjHu+mMNhzm/WQC1oxBtIosAl+ADFQt8Av6AQJLDwJsjieJi4IJvrXa4t5N4Nka+YNa5AtDYkzVyAZxZySAmTT3PexnklKOO4ibjUKjlu554pzktF3kzWugBR2lAkW3zrtZYEs7X3IIzaHnhlrIGFCkEBxw2MvXKtw713zB8s8idRO5eGIsApOJPtI11sd4Ew/sMvZpxHAzjuZmySayM5L2CuXlmDNU+loROw43VAEAs+vOKkDrjiSEd5QQPJNzXvSFzucYTJTxCnaoVJQ0sgiGPJItsZKrQ1cCXm8+DGm3O8IOaX3OOQUOZc1vWkoQApkly2N19oIfy6LqFtETnfFvNO7gkRWp7OrQ1pAnmfJpRexkSxQB73pDqSE3XsP9zreDD3BWtZDTWz9aFKn5PdIPegw5tz/KDWbHKv1EJZo9VmKBK8gDzdNerVSv+UX8/xl1pTxb2B+lrwaYgyGZoEY1qnwTcQor7SBalCS6UmuxvMvXk6L2vN+DKUBq5EMskomFZagixOQqglqrVTPj40hDUztKEAvqo5nGtuQbbSMsGjXkstU2nZzOFoWPNQG6oWD5omlT8fWi8BB1qnVqJ1diKNY0JYW96FPXk/FL3i50BSB+a1Tq1e68zRq3USIg0N6ONQnOinnnT4KNDLmNZj5RulkYYGDYvixMurGQE1UiPVjDka5oq3GQo2GGrVRQWzPjqbpR9CZbbVbMjMmuFubYAoH4/rpuGurP3VUIT6ndLs/DE2ydx+G6pV75JmxRBbNcRymNtvQ8MgwBCf/0uMOYf8NRQM2izxYV9xFgwxxNtU3GqoGMRbnoNGX3HG4iz7S/wxVK01RQYoMMQLuMavGqYzLrIkKzR1kDFrDus/RpIGQm1fJ5NpGLN1OYS1rIZSTIlIyX9250ADQCAIwrB1d6AuQgj0/m/ZIIA0GIJ/+YGxvtDmcEDTeHSFNtsXaKgyHp2hTanxDvLb7Y1RArQENlFQNzYtB8oHCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECJCuVHsq9ft1taqp7vbNAUauLwrj2T9q225URjXiuo2xiJPatta2bdu2OTbevDGCmrfn3UFqDqqT7I5nfvnmfHei3xj4+9/RcKMkQ35MVsc999RQ5/VwewoF+BbcP/aGGy3odkf8rntI0u/zWjTg28PscL/kc/3QSnhsMvyNh7/ROEk7wY1mNV1H9JoLiNVwDfHa7yJRvw8iaEHPJcMhtYwOnyNH3HYsNMGNexvOdkCgUIyUn0EjFWcQo/YyYgMgBSbs9UbSEcrviHoopUUWjHQEOG/buHI2vGaSCW6ULfbt/7eBaFXnEb32EmLWg+PRDGAd7gDmiSRDQYhkxVDuhl7Kikvqa/bbP3nSuOmmMoy1Jtw/GIiCqThnAWLUXUZwP0AZxRNeJ4D1+UJiIZBYDBgwIJKIsmUEJzWkpcpjO7zPVKs1taf0zFha9aXdtKoL3e8DsQCIAzYMNmG6jGmJ+/2QlBaKE1PyUpBGQpktBSyCm+NemHHNuk0dqLowmV5/1ZlZf43/NhDPBASNxLsl6vdFcFzA8ochkg1gAgATg24jK36tIcp7CG7+pfCAI9ZtKqPx+hxWy+2TnNZbGnNCfAzkYQQahD9KcKKFIBkrEoSmaKSkZCYJBkMGRdVzLVldK2EXHDlz7NDCj8J9zwj7fJw4He5Led0ed4U9Ho8+BApCBBOSYlF/AMaLgx1LxHaVjigEsEqwpeoeasm6Aj49x3nnttXWa6pkOOgfXo/3WtFAQBTAvDIlhIFk8EcBybnQRm4cpAU2lTAVdgwsKiIPa16QGqVw6dXSyiRab+LbTR3zw2cbyYr6TzgUtFVGDy8mWeEI/7GjMAwGonw0QSJAJSMVaFtaANNIc7HSpZeVAGAl0pHlMoWwOGSwPXIzLoC1htUbOBZatxsWvBsnxHsPSAjemTgVg6mFZgctA+4D10xaCGBlCO+WLUbCiJlMchKclfxEvgkI/5mB4DoGha8UW30KfiKW4zCQrUfOS5+jFKSdhF3SqMVpHwGi9i0Gm3sYyF6jIwqcVKKspSpR+l3QAB+9nZDcBIQb54jREgX/kNyUtUpechT8Nr6Sc2LwMYHPJkePWpz+H8GO3wriZPHXnEV/5w3vrYqDouUIygAAAABJRU5ErkJggg==";var c=o(20505);const l={icon:"MetricBanner-m_icon-Sw4U17Rl",bannerIcon:"MetricBanner-m_bannerIcon-Pkyq9Crh",scopeIcon:"MetricBanner-m_scopeIcon-UUG6rH9w",metricIcon:"MetricBanner-m_metricIcon-IcpLdP7F"};var d=o(92981);function u({metricHash:e,objectiveProgress:t,className:o}){const u=(0,n.I3)(),m=u.Metric.get(e);if(!m)return null;const h=m.displayProperties.icon,p=(0,d.SX)(u,m),f=u.PresentationNode.get(m.parentNodeHashes.length?m.parentNodeHashes[0]:a.Nd),g=f?.displayProperties.icon,y=p.displayProperties.iconSequences[0].frames[2],v=t.complete;return(0,s.A)("div",{className:(0,r.A)(o,l.icon)},void 0,g&&(0,s.A)(c.Ay,{className:l.bannerIcon,src:g}),v&&(0,s.A)("img",{src:i,className:l.bannerIcon,loading:"lazy"}),(0,s.A)(c.Ay,{className:l.scopeIcon,src:y}),(0,s.A)(c.Ay,{className:l.metricIcon,src:h}))}},54511:(e,t,o)=>{o.d(t,{N:()=>m});var s=o(59816),n=o(36871),a=o(46460),r=o(95128),i=o(74136),c=o(87912),l=o(54270);const d=(0,n.B8)(r,Number);function u(e,t,o){const s=e.PresentationNode.get(t);if(s&&!s.redacted){s.children.collectibles.length&&o.push(s);for(const t of s.children.presentationNodes)u(e,t.presentationNodeHash,o)}return o}const m=(0,l.A)((e=>{const t={},o=(0,i.O)((()=>{const t=e.PresentationNode.get(s.pA).children.presentationNodes;return Object.fromEntries([0,1,2].map((o=>{const s=u(e,t[o].presentationNodeHash,[]).flatMap((e=>e.children?.collectibles??[])).map((t=>e.Collectible.get(t.collectibleHash)));return[o,{collectiblesByName:(0,c.p)(s,(e=>e.displayProperties.name)),collectiblesByReverseItemIcon:(0,c.p)(s,(t=>e.InventoryItem.get(t.itemHash)?.displayProperties.icon))}]})))}));return(s,n)=>{const r=t[s.hash];if(void 0!==r)return r??void 0;const i=(()=>{const t=a[s.hash]??s.hash,r=e.InventoryItem.get(t);if(!r)return;if(r.collectibleHash)return e.Collectible.get(r.collectibleHash);if(d[t])return e.Collectible.get(d[t]);const i=n??r.classType;if(!r.redacted&&3!==i){const{collectiblesByName:e,collectiblesByReverseItemIcon:t}=o()[i];return e[r.displayProperties.name]??t[r.displayProperties.icon]}})();return t[s.hash]=i??null,i}}))},10349:(e,t,o)=>{o.d(t,{e:()=>i,l:()=>r}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(11071),n=o(28627);const a=1293710444;function r(e,t,o,r=s.vF){const i=n.includes(e);for(const e of t)((i?e.canInsert:e.enabled)||e.plugItemHash===a&&1===e.enableFailIndexes.length&&2===e.enableFailIndexes[0])&&r(e)&&o.add(e.plugItemHash)}function i(e,t,o){const s=new Set,n=function(e,t,o){return(e.profilePlugSets.data?.plugs[t]??[]).concat(e.characterPlugSets.data?.[o]?.plugs[t]??[])}(e,t,o);return r(t,n,s),s}},92981:(e,t,o)=>{o.d(t,{Lv:()=>f,SX:()=>y,Sq:()=>m,Ux:()=>p,c9:()=>d,cr:()=>g,fD:()=>h}),o(10131);var s=o(52040),n=o(36871),a=o(95128),r=o(2868),i=o(57551),c=o(44589),l=o(10349);function d(e,t,o,c){const{defs:l,buckets:m,profileResponse:h}=e,p=l.PresentationNode.get(t);if(p.redacted)return null;const y=h.profilePresentationNodes?.data?.nodes[p.hash];if(1&(y?.state??0))return null;const v=p.completionRecordHash&&c?(0,r.RX)(p.completionRecordHash,l,h.profileRecords.data,c):void 0,b={nodeDef:p,hash:p.hash,name:v?.title||p.displayProperties.name,icon:p.displayProperties.icon,titleInfo:v,nodeComponent:y};if(p.children.collectibles?.length){const t=function(e,t){const{defs:o,profileResponse:r}=e;return(0,n.oE)(t.flatMap((({collectibleHash:t})=>{const i=a[t],c=o.Collectible.get(t);return c?(0,n.oE)([c.itemHash,i]).map((o=>{const n=g(c,r);if(void 0===n||4&n||c.redacted)return null;const a=(0,s.h4)(e,o);return a?(a.missingSockets=!1,{state:n,collectibleDef:c,item:a,key:`${t}-${o}`,fake:i===o}):null})):null})))}(e,p.children.collectibles),o=(0,n.U9)(t,(e=>!e.fake)),r=(0,n.U9)(t,(e=>!(e.fake||1&e.state)));return{...b,visible:o,acquired:r,collectibles:t}}if(p.children.records?.length){const e=function(e,t,o){return(0,n.x1)(o,(({recordHash:o})=>f(e,t,o)))}(l,h,p.children.records),t=e.length,o=(0,n.U9)(e,(e=>!!(1&e.recordComponent.state)));return{...b,visible:t,acquired:o,records:e}}if(m&&p.children.craftables?.length){const t=function(e,t){return(0,n.x1)(t.toSorted((0,i.VE)((e=>e.nodeDisplayPriority))),(t=>function(e,t){const o=(0,s.h4)(e,t);if(!o)return;const n=function(e,t){if(!t.characterCraftables?.data)return;const o=Object.values(t.characterCraftables.data).map((t=>t.craftables[e]));return o.find((e=>!0===e?.visible))??o[0]}(o.hash,e.profileResponse);return n?.visible?{item:o,canCraftThis:0===n.failedRequirementIndexes.length,canCraftAllPlugs:n.sockets.every((e=>e.plugs.every((e=>0===e.failedRequirementIndexes.length))))}:void 0}(e,t.craftableItemHash)))}(e,p.children.craftables),o=t.length,a=(0,n.U9)(t,(e=>e.canCraftThis));return{...b,visible:o,acquired:a,craftables:t}}if(p.children.metrics?.length){const e=function(e,t,o){return(0,n.x1)(o,(({metricHash:o})=>{const s=e.Metric.get(o);if(!s)return;const n=function(e,t){return t.metrics?.data?.metrics[e.hash]}(s,t);return!n||n.invisible||s.redacted?void 0:{metricComponent:n,metricDef:s}}))}(l,h,p.children.metrics),t=e.length,o=(0,n.U9)(e,(e=>!!e.metricComponent.objectiveProgress.complete));return{...b,visible:t,acquired:o,metrics:e}}{const t=[];let s=0,n=0;for(const o of p.children.presentationNodes){const a=d(e,o.presentationNodeHash,void 0,c);a&&(s+=a.acquired,n+=a.visible,t.push(a))}if(o)for(const s of o)t.push(u(e,s));return{...b,visible:n,acquired:s,childPresentationNodes:t}}}function u(e,{hash:t,displayItem:o}){const a=e.defs.PlugSet.get(t),r=e.defs.InventoryItem.get(o),i=(0,l.e)(e.profileResponse,t,""),c=(0,n.x1)(a.reusablePlugItems,(t=>(0,s.h4)(e,t.plugItemHash))),d=c.map((e=>({item:e,unlocked:i.has(e.hash)}))),u=(0,n.U9)(d,(e=>e.unlocked));return{nodeDef:void 0,hash:-t,name:r.displayProperties.name,icon:r.displayProperties.icon,visible:c.length,acquired:u,plugs:d,nodeComponent:void 0}}function m(e){return e.childPresentationNodes?{...e,childPresentationNodes:(0,n.x1)(e.childPresentationNodes,(e=>function(e){if(!e)return;const t=e.collectibles??e.craftables??e.records??e.metrics??e.plugs??e.childPresentationNodes;return t?.length?e:void 0}(m(e))))}:e.records?{...e,records:e.records.filter((e=>!(1&e.recordComponent.state)))}:e}function h(e,t,o,s=[],n,a){if(function(e,t){return e.nodeDef&&p(e.nodeDef.displayProperties,t)||e.titleInfo?.title.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)}(e,t))return[{path:[...s,e]}];if(e.childPresentationNodes)return e.childPresentationNodes.flatMap((r=>h(r,t,o,[...s,e],n,a)));if(e.collectibles){const t=e.collectibles.filter((e=>o(e.item)));return t.length?[{path:[...s,e],collectibles:t}]:[]}if(e.records){const r=e.records.filter((e=>p(e.recordDef.displayProperties,t)||function(e,t,o){return e.rewardItems.some((e=>p(o.InventoryItem.get(e.itemHash).displayProperties,t)))}(e.recordDef,t,n)||function(e,t,o){const s=o.get(e);return s&&t(s)}(e.recordDef.hash,o,a)));return r.length?[{path:[...s,e],records:r}]:[]}if(e.metrics){const o=e.metrics.filter((e=>p(e.metricDef.displayProperties,t)));return o.length?[{path:[...s,e],metrics:o}]:[]}if(e.craftables){const t=e.craftables.filter((e=>o(e.item)));return t.length?[{path:[...s,e],craftables:t}]:[]}if(e.plugs){const t=e.plugs.filter((e=>o(e.item)));return t.length?[{path:[...s,e],plugs:t}]:[]}return[]}function p(e,t){return e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}function f(e,t,o,s){const n=s?e.Record.getOptional(o):e.Record.get(o);if(!n)return;const a=function(e,t){return 1===e.scope?t.characterRecords?.data?Object.values(t.characterRecords.data)[0].records[e.hash]:void 0:t.profileRecords?.data?.records[e.hash]}(n,t);return void 0===a||16&a.state||n.redacted?void 0:{recordComponent:a,recordDef:n,trackedInGame:t?.profileRecords?.data?.trackedRecordHash===o}}function g(e,t){return 1===e.scope?t.characterCollectibles?.data?(0,c.w)(Object.values(t.characterCollectibles.data).map((t=>t.collectibles[e.hash].state)).filter((e=>void 0!==e)),(e=>1&e)):void 0:t.profileCollectibles?.data?.collectibles[e.hash]?.state}function y(e,t){const o=t.traitHashes.find((e=>1434215347!==e));return e.Trait.get(o??1434215347)}},44404:(e,t,o)=>{o.d(t,{f:()=>s});const s=e=>`/${e.membershipId}/d${e.destinyVersion}`},40934:(e,t,o)=>{o.d(t,{A:()=>Y,a:()=>F});var s=o(10544),n=o(51700),a=o(69260),r=o(19654),i=o(20505),c=o(12912),l=o(8467),d=o(87411),u=o(1569),m=o(86775),h=o(2290),p=o(38654),f=o(49662),g=o(86119),y=o(92369),v=o(49629),b=o(20204),A=o(13526),k=o(47609),w=o(71258),I=o(26269),S=o(93192),x=o(6380),T=o(18374),N=o(8935),C=o(63150),H=o(60440),P=o(94518);function D({text:e,startIndex:t,endIndex:o,className:n}){const a=e.slice(0,t),r=e.slice(t,o),i=e.slice(o);return r?(0,P.jsxs)(P.Fragment,{children:[a,(0,s.A)("span",{className:n},void 0,r),i]}):(0,P.jsx)(P.Fragment,{children:e})}const M="SearchBar-m_namedQueryBody-TdUwHWMV",E="SearchBar-m_keyHelp-xiQzKYuy",R="SearchBar-m_filterBarButton-Xp8onaNV";var L,V,q,O=o(64408),_=o(20301),B=o(92298),j=o(72724),z=o(97085);const F={hidden:{scale:0},shown:{scale:1}},W={0:H.a$,1:H.wv,2:H.vf,3:H.qc,4:H.$y,5:H.$y},U=(0,C.Mz)(p.v2,r.md,O.p),G=(0,C.Mz)(B.AE,U,_.Ay),Q=(0,C.Mz)(j.Sc,(()=>{}),_.Ay),Z=(0,T.lazy)((()=>o.e(507).then(o.bind(o,52946)))),K=(0,T.memo)((({item:e})=>{function t(t,o){return e.highlightRange?.section===o?(0,s.A)(D,{text:t,startIndex:e.highlightRange.range[0],endIndex:e.highlightRange.range[1],className:"SearchBar-m_textHighlight-ISvKN96y"}):t}switch(e.type){case 4:return(0,P.jsx)(P.Fragment,{children:(0,h.t)("Header.FilterHelpMenuItem")});case 5:return(0,P.jsxs)(P.Fragment,{children:[e.armoryItem.name,(0,s.A)("span",{className:"SearchBar-m_openInArmoryLabel-ezR2ZMEc"},void 0," - "+(0,h.t)("Armory.OpenInArmory")),(0,s.A)("span",{className:M},void 0,`${e.armoryItem.seasonName} (${(0,h.t)("Armory.Season",{season:e.armoryItem.season,year:e.armoryItem.year??"?"})})`)]});default:return(0,P.jsxs)(P.Fragment,{children:[e.query.header&&t(e.query.header,"header"),(0,s.A)("span",{className:(0,A.A)(void 0!==e.query.header&&M)},void 0,t(e.query.body,"body"))]})}})),J=(0,T.memo)((({highlighted:e,item:t,isPhonePortrait:o,isTabAutocompleteItem:n,onClick:a})=>(0,P.jsxs)(P.Fragment,{children:[5===t.type?(0,s.A)(i.Ay,{className:"SearchBar-m_armoryItemIcon-LHzOjBdS",src:t.armoryItem.icon}):(0,s.A)(H.z9,{className:"SearchBar-m_menuItemIcon-mAQNyNEn",icon:W[t.type]}),(0,s.A)("p",{className:"SearchBar-m_menuItemQuery-dai4hxln"},void 0,(0,s.A)(K,{item:t})),!o&&n&&(0,s.A)(c.A,{className:E,combo:"tab"}),!o&&e&&(0,s.A)(c.A,{className:E,combo:"enter"}),(0===t.type||1===t.type)&&(0,s.A)("button",{type:"button",className:"SearchBar-m_deleteIcon-DNW9bJbw common-m_resetButton-o3oKAnUN",onClick:e=>a(e,t),title:(0,h.t)("Header.DeleteSearch")},void 0,L||(L=(0,s.A)(H.z9,{icon:H.ut})))]})));function X({searchQueryVersion:e,searchQuery:t,mainSearchBar:o,placeholder:i,children:c,onQueryChanged:p,instant:C,onClear:D,className:M,menu:E,searchType:L=1},O){const _=(0,y._)(),W=(0,g.Jn)(),U=(0,N.d4)((0,r.b8)(L)),K=(0,N.d4)(2===L?Q:G),X=(0,N.d4)(2===L?j.gS:B.aC),Y=!o&&!W&&!(0,v.QM)(),[$,ee]=(0,T.useState)(t??""),[te,oe]=(0,T.useState)(!1),[se,ne]=(0,T.useState)(void 0),[ae,re]=(0,T.useState)(),ie=(0,T.useRef)(null),ce=(0,T.useCallback)(C?p:(0,w.s)((e=>{p(e)}),500),[p]),le=(0,T.useDeferredValue)($),{valid:de,saveable:ue}=X(le),me=(0,T.useRef)(),he=le?(0,z.Pu)((0,z.mA)(le)):"",pe=!!he&&U.find((e=>e.query===he))?.saved,fe=W?7:ae?Math.floor(.7*ae/32):10,ge=ie.current?.selectionStart||le.length,ye=(0,T.useMemo)((()=>K(le,ge,U,!!o,fe)),[K,ge,le,o,U,fe]),{isOpen:ve,getToggleButtonProps:be,getMenuProps:Ae,getInputProps:ke,getLabelProps:we,highlightedIndex:Ie,getItemProps:Se,setInputValue:xe,reset:Te}=(0,k.Bp)({items:ye,stateReducer:function(e,t){const{type:o,changes:s}=t;switch(o){case k.Bp.stateChangeTypes.ItemClick:case k.Bp.stateChangeTypes.InputKeyDownEnter:if(!s.selectedItem)return s;switch(s.selectedItem.type){case 4:oe(!0);break;case 5:ne(s.selectedItem.armoryItem.hash);break;default:return s}return{...s,selectedItem:e.selectedItem};default:return s}},initialInputValue:le,initialIsOpen:W&&o,defaultHighlightedIndex:le?0:-1,itemToString:e=>e?.query.fullText||"",onInputValueChange:({inputValue:e,type:t})=>{ee(e||""),ce(e||""),t===k.Bp.stateChangeTypes.FunctionReset&&D?.()}});(0,T.useEffect)((()=>{void 0!==t&&(e||0)>0&&xe(t)}),[e]),(0,T.useEffect)((()=>{if(ie.current&&window.visualViewport){const{y:e,height:t}=ie.current.getBoundingClientRect(),{height:o}=window.visualViewport;re(32*Math.floor((o-e-t-10)/32))}}),[ve]);const Ne=(0,T.useCallback)(((e,t)=>{e.stopPropagation(),_((0,a.Mw)({query:t.query.fullText,type:L}))}),[_,L]);(0,T.useImperativeHandle)(O,(()=>({focusFilterInput:()=>{ie.current?.focus()},clearFilter:Te})),[Te]);const Ce=Ie>0&&3===ye[Ie]?.type?ye[Ie]:ye.find((e=>3===e.type&&e.query.fullText!==le)),He=(0,T.useRef)(null);(0,m.q)(He);const Pe=(0,T.useMemo)((()=>(0,P.jsx)("ul",{...Ae({ref:He}),className:"SearchBar-m_menu-luun6aPQ",style:{maxHeight:ae},children:ve&&ye.map(((e,t)=>(0,P.jsx)("li",{className:(0,A.A)("SearchBar-m_menuItem-eU8DoDdJ common-m_flexRow-ZPndn63a",Ie===t&&"SearchBar-m_highlightedItem-QqQbkvPq"),...Se({item:e,index:t}),children:(0,s.A)(J,{highlighted:Ie===t,item:e,isPhonePortrait:W,isTabAutocompleteItem:e===Ce,onClick:Ne})},`${e.type}${e.query.fullText}${5===e.type&&e.armoryItem.hash}`)))})),[Ne,Se,Ae,Ie,ve,W,ye,Ce,ae]);return(0,P.jsxs)(P.Fragment,{children:[(0,s.A)("div",{className:(0,A.A)(M,"search-filter","SearchBar-m_searchBar-NUnHonbN",ve&&"SearchBar-m_open-G5C9bi_p"),role:"search"},void 0,(0,P.jsx)(H.z9,{...we({icon:H.qc,className:"search-bar-icon"})}),(0,P.jsx)("input",{...ke({onBlur:()=>{de&&le&&le!==me.current&&(_((0,a.OY)({query:le,type:L})),me.current=le)},onKeyDown:e=>{if("Tab"===e.key&&!e.altKey&&!e.ctrlKey&&Ce&&ve){if(e.preventDefault(),ie.current&&(ie.current.setSelectionRange(0,ie.current.value.length),document.execCommand("insertText",!1,Ce.query.fullText),Ce.highlightRange)){const e=Ce.highlightRange.range[1];ie.current.setSelectionRange(e,e)}}else"Home"===e.key||"End"===e.key?e.nativeEvent.preventDownshiftDefault=!0:("Delete"===e.key||"Backspace"===e.key)&&e.shiftKey&&Ie>=0&&ye[Ie]?.query&&0===ye[Ie]?.type?(e.preventDefault(),_((0,a.Mw)({query:ye[Ie].query.fullText,type:L}))):"Enter"===e.key&&!ve&&le&&_((0,f.Zi)())},ref:ie,className:(0,A.A)(!de&&"SearchBar-m_invalid-LLoNxPia"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,autoFocus:Y,placeholder:i,type:"text",name:"filter","aria-label":i}),enterKeyHint:"search"}),(0,s.A)(I.o,{},void 0,(0,s.A)(S.N,{},void 0,c,le.length>0&&de&&(ue||pe)&&!W&&(0,s.A)(x.P.button,{variants:F,exit:"hidden",initial:"hidden",animate:"shown",type:"button",className:(0,A.A)(R,"SearchBar-m_saveSearchButton-mV_qgDem"),onClick:()=>{_((0,a.kd)({query:le,saved:!pe,type:L}))},title:(0,h.t)("Header.SaveSearch")},"save",(0,s.A)(H.z9,{icon:pe?H.wv:H._G})),(le.length>0||W&&o)&&(0,s.A)(x.P.button,{variants:F,exit:"hidden",initial:"hidden",animate:"shown",type:"button",className:R,onClick:Te,title:(0,h.t)("Header.Clear")},"clear",V||(V=(0,s.A)(H.z9,{icon:H.WO}))),E,(0,P.jsx)(x.P.button,{layout:!0,...be({type:"button",className:(0,A.A)(R,"SearchBar-m_openButton-Ks4HGKSJ common-m_resetButton-o3oKAnUN"),"aria-label":"toggle menu"}),children:(0,s.A)(H.z9,{icon:ve?H.F4:H.IJ})},"menu"))),te&&(0,s.A)(T.Suspense,{fallback:(0,s.A)(b.Z,{},void 0,(0,s.A)(l.R,{message:(0,h.t)("Loading.FilterHelp")}))},void 0,(0,s.A)(d.A,{onClose:()=>oe(!1),header:(0,P.jsxs)(P.Fragment,{children:[(0,s.A)("h1",{},void 0,(0,h.t)("Header.Filters")),q||(q=(0,s.A)(u.A,{topic:"Item-Search"}))]}),freezeInitialHeight:!0,sheetClassName:"SearchBar-m_filterHelp-hDJKslD1"},void 0,(0,s.A)(Z,{searchType:L}))),Pe),void 0!==se&&(0,s.A)(n.A,{itemHash:se,onClose:()=>ne(void 0)})]})}const Y=(0,T.memo)((0,T.forwardRef)(X))},10419:(e,t,o)=>{o.d(t,{D:()=>l});var s,n=o(10544),a=o(60440),r=o(1458),i=o(86119),c=o(49629);function l({onQueryChanged:e,placeholder:t,autoFocus:o,query:l}){const d=!(0,i.Jn)()&&!(0,c.QM)();return(0,n.A)("div",{className:"search-filter",role:"search"},void 0,s||(s=(0,n.A)(r.A,{icon:a.qc,className:"search-bar-icon"})),(0,n.A)("input",{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",autoFocus:o&&d,placeholder:t,type:"text",name:"filter",value:l,onChange:t=>e(t.currentTarget.value)}))}},64408:(e,t,o)=>{o.d(t,{U:()=>d,p:()=>l});var s=o(19668),n=o(57551),a=o(11519),r=o(16283),i=o(95128),c=o(4554);function l(e,t){if(!e)return;const o=[],a=e.InventoryItem.getAll(),l=Object.values(e.Season.getAll()),d=Object.values(i);for(const n in a){const i=a[n];if((i.collectibleHash||d.includes(i.hash))&&i.displayProperties&&(1498876634===i.inventory?.bucketTypeHash||2465295065===i.inventory?.bucketTypeHash||953998645===i.inventory?.bucketTypeHash)){const n=(0,s.o)(i,e),a=n?l.find((e=>e.seasonNumber===n))?.displayProperties?.name:void 0;o.push({hash:i.hash,name:i.displayProperties.name,plainName:(0,c.Sx)(i.displayProperties.name,t),icon:i.displayProperties.icon,seasonName:a,season:n,year:(0,r.Xx)(i,e)})}}return o.sort((0,n.o2)((0,n.VE)((e=>-e.season)),(0,n.VE)((e=>e.name)))),o}function d(e,t,o){const s=(0,c.Sx)(t,o),r=t.length?e?.filter((e=>e.plainName.includes(s))):void 0;if(!r)return(0,a.tR)();const i=r.sort((0,n.VE)((e=>!e.plainName.startsWith(s))));return((i.length<=10?i:t.length>=5&&i.slice(0,3))||(0,a.tR)()).map((e=>({type:5,query:{fullText:t||"",body:t||""},armoryItem:e})))}},20301:(e,t,o)=>{o.d(t,{AO:()=>h,Ay:()=>m}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(2290),n=o(36871),a=o(57551),r=o(64408),i=o(72435),c=o(97085),l=o(4554);const d=/[\d<>=]$/,u=["is","not","tag","notes","stat","stack","count","source","perk","perkname","mod","modname","name","description"];function m(e,t){const o=function(e){const t=Object.values(e.filtersMap.kvFilters).filter((e=>(0,i.$)(e.format).includes("freeform"))).flatMap((e=>e.keywords)).map((e=>e+":"));return o=>{if(!o)return[];const s=o.toLowerCase();let n=(0,l.Sx)(s,e.language);const r=n.startsWith("not"),i=n.endsWith(":")||n.endsWith("<")||n.endsWith("<");let c="";if(t.some((e=>n.startsWith(e)))){const e=n.split(":");c=e.shift(),n=e.join(":")}const m=!c&&n.includes(":")?"startsWith":"includes";let h=e.suggestions.filter((e=>e.plainText.startsWith(c)&&e.plainText[m](n))).filter((e=>(r||!e.plainText.startsWith("not:"))&&(i||!/[<>]=?$/.test(e.plainText))));if(h=h.sort((0,a.o2)((0,a.VE)((e=>g(e.plainText)>1?1:e.plainText.startsWith(n)||e.plainText.indexOf(n)===e.plainText.indexOf(":")+1?-1:0)),(0,a.VE)((e=>e.plainText.startsWith("not:")||e.plainText.startsWith("is:")?e.plainText.length-(n.length+e.plainText.indexOf(n)):0)),(0,a.VE)((e=>!e.plainText.startsWith("tag:"))),(0,a.VE)((e=>!e.plainText.endsWith(":"))),(0,a.VE)((e=>e.plainText.startsWith("not:")||e.plainText.includes(":<=")||e.plainText.includes(":>="))),(0,a.VE)((e=>e.plainText.startsWith("is:")?0:g(e.plainText))),(0,a.VE)((e=>!d.test(e.plainText))))),u.includes(n.split(":")[0]))return h.map((e=>e.rawText));if(h.length){const e=new Set(h.map((e=>e.rawText)));return e.delete(o),e.delete(s),e.delete(n),[...e]}return[]}}(e);return(a,i,l,d,u=7)=>{const m=a?{type:3,query:{fullText:a,body:a}}:void 0,g=function(e,t,o,n){if(!e)return[];t=(p.exec(e.slice(t))?.index||0)+t;const a=e.slice(0,t),r=function(e){let t=[];try{for(const o of(0,c.lu)(e))switch(o.type){case"filter":o.quoted?t=[]:t.push(o.startIndex);break;case"and":case"or":case"implicit_and":break;default:t=[]}}catch(e){e instanceof c.Zl&&(t=[e.startIndex])}return t}(a);if(!r)return[];for(const i of r){const r=e.slice(0,i),c=o(a.substring(i)).map((o=>{const a=f(o,n.filtersMap),c=r+o+e.slice(t),l=a?Array.isArray(a.description)?(0,s.t)(...a.description):(0,s.t)(a.description):void 0;return{query:{fullText:c,body:c,helpText:l?.replace(/\.$/,"")},type:3,highlightRange:{section:"body",range:[i,i+o.length]}}}));if(c.length)return c}return[]}(a,i,o,e),y=function(e,t){return(e?t.filter((t=>t.query!==e&&t.query.includes(e))):Array.from(t)).sort(h).map((t=>{const o=(0,c.mA)(t.query),s=o.comment&&(0,c.Bm)(o.comment),n={type:t.saved?1:t.usageCount>0?0:2,query:{fullText:t.query,header:o.comment,body:s?t.query.substring(s.length).trim():t.query}};if(e){if(n.query.header){const t=n.query.header.indexOf(e);-1!==t&&(n.highlightRange={section:"header",range:[t,t+e.length]})}if(!n.highlightRange){const t=n.query.body.indexOf(e);-1!==t&&(n.highlightRange={section:"body",range:[t,t+e.length]})}}return n}))}(a,l),v={type:4,query:{fullText:a||"",body:a||""}},b=d?(0,r.U)(t,a,e.language):[];return[...(0,n.hS)((0,n.oE)([m,...g,...y]),(e=>e.query.fullText)).slice(0,u),...b,v]}}const h=(0,a.fb)((0,a.o2)((0,a.VE)((e=>e.saved)),(0,a.VE)((e=>{return t=e.lastUsage,(1.9/(1+Math.exp(-.5*(e.usageCount-.4)))-.9)*function(e){const t=(Date.now()-e)/864e5;return Math.pow(2,-t/14)}(t);var t})))),p=/[\s)]|$/;function f(e,t){const o=e.split(":"),s=o[0];return"is"===s?t.isFilters[o[1]]:t.kvFilters[s]}function g(e){let t=0;for(const o of e)":"===o&&t++;return t}},59343:(e,t,o)=>{o.d(t,{PR:()=>s,S5:()=>i,Tx:()=>r,bt:()=>n,jW:()=>c,l:()=>a,ry:()=>l});const s=[3897883278,368428387],n={autorifle:5,handcannon:6,pulserifle:7,scoutrifle:8,fusionrifle:9,sniperrifle:10,shotgun:11,machinegun:12,rocketlauncher:13,sidearm:14,sword:54},a=[1986458096,2218811091,2672986950,779347563,3497374572,808079385,3592189221,738642122,3797169075,838904328],r=[1043138475,1772853454,3783295803,3446457162],i=[269776572,3632619276,2904517731,1932910919],c={required:{fwc:[995344558],do:[103311758],nm:[3072854931],speaker:[4241664776],variks:[512830513],shipwright:[3721473564],vanguard:[1482793537],osiris:[3378481830],xur:[2179714245],shaxx:[4134961255],cq:[1362425043],eris:[1374970038],ev:[3559790162],gunsmith:[353834582]},restricted:{fwc:[353834582],do:[353834582],nm:[353834582],speaker:[353834582],cq:[353834582,2682516238]}},l={required:{trials:[2650556703],ib:[1322283879],qw:[1983234046],cd:[2775576620],srl:[1234918199],vog:[440710167],ce:[2585003248],ttk:[2659839637],kf:[1662673928],roi:[2964550958],wotm:[4160622434],poe:[2784812137],coe:[1537575125],af:[3667653533],dawning:[3131490494],aot:[3068521220,4161861381,440710167]},restricted:{trials:[2179714245,2682516238,560942287],ib:[3602080346],qw:[3602080346],cd:[3602080346],kf:[2179714245,2682516238,560942287],wotm:[2179714245,2682516238,560942287],poe:[3602080346,2682516238],coe:[3602080346,2682516238],af:[2682516238],dawning:[2682516238,1111209135],aot:[2964550958,2659839637,353834582,560942287]}}},59816:(e,t,o)=>{o.d(t,{$:()=>I,A6:()=>h,BZ:()=>A,Bl:()=>w,Dj:()=>F,GZ:()=>S,IU:()=>P,Jn:()=>y,Nd:()=>V,Om:()=>f,Qu:()=>M,Ri:()=>_,SC:()=>u,T5:()=>x,Tt:()=>g,Uo:()=>m,W:()=>c,W5:()=>p,Wp:()=>i,XP:()=>E,Yh:()=>k,ZA:()=>U,_O:()=>s,aV:()=>r,bJ:()=>D,cO:()=>b,ck:()=>G,cp:()=>v,dl:()=>l,eL:()=>N,is:()=>C,jZ:()=>B,jc:()=>d,l7:()=>T,mH:()=>z,pA:()=>R,pQ:()=>H,pY:()=>a,pd:()=>j,qA:()=>O,st:()=>W,xc:()=>q,xo:()=>L,zm:()=>n});const s="/img/misc/missing_icon_d2.png",n=10,a=2,r=4248210736,i=3807544519,c=[2931483505,1959648454,702981643],l=[4245469491,2978747767,2287277682],d=[2323986101,2600899007,1835369552,3851138800,791435474],u={helmet:2912171003,gauntlets:3422420680,chest:1526202480,leg:2111701510,classitem:912441879,general:2487827355},m=Object.values(u),h={1501870536:"pvp",2439952408:"pvp",74070459:"pvp",890482414:"pvp",90275515:"pve",2579044636:"pve",73837075:"pve",345540971:"gambit",3387796140:"pve",2109364169:"pvp"},p=1282012138,f=2218962841,g=-1e3,y=-111e3,v=[1480404414,3897883278,1935470627],b={mobility:2996146975,resilience:392767087,recovery:1943323491,discipline:1735777505,intellect:144602215,strength:4244567218},A=Object.values(b),k=A.reduce(((e,t)=>({...e,[t]:1})),{}),w={rpm:4284893193,rof:4284893193,charge:2961396640,impact:4043523819,handling:943549884,range:1240592695,stability:155624089,reload:4188031367,magazine:3871231066,aimassist:1345609583,equipspeed:943549884,shieldduration:1842278586,velocity:2523465841,blastradius:3614673599,recoildirection:2715839340,drawtime:447667954,zoom:3555269338,airborne:2714457168,accuracy:1591432999},I={swingspeed:2837207746,guardefficiency:2762071195,guardresistance:209426660,chargerate:3022301683,guardendurance:3736848092,ammocapacity:925767036},S={heavygrenadelauncher:153950757,specialgrenadelauncher:-153950757,tracerifle:2489664120,linearfusionrifle:1504945536,submachine:3954685534,bow:3317538576,glaive:3871742104,transmat:208981632,weaponmod:610365472,armormod:4104513227,reptoken:2088636411},x=[73143230],T=3147280338,N=2228452164,C=3947616002,H=2422292810,P=3621873013,D=[1506418338,1107761855,3683254069],M=4025982223,E=1516796296,R=1605042242,L=3655910122,V=2875839731,q=1579649637,O=3704166961,_=2043403989,B=[2712317338],j=[198624022,784742260,2411069437],z=2352765282,F={Unknown:0,0:"Unknown",Currency:1,1:"Currency",Common:2,2:"Common",Uncommon:3,3:"Uncommon",Rare:4,4:"Rare",Legendary:5,5:"Legendary",Exotic:6,6:"Exotic"},W={any:[3178805705,2611060930,485622768],antibarrier:[485622768],shieldpiercing:[485622768],barrier:[485622768],disruption:[2611060930],overload:[2611060930],stagger:[3178805705],unstoppable:[3178805705]},U=Object.entries(W).filter((([,e])=>1===e.length)).reduce(((e,[t,[o]])=>(e[o]=t,e)),{}),G=3727270518},72435:(e,t,o)=>{function s(e){return e?Array.isArray(e)?e:[e]:["simple"]}o.d(t,{$:()=>s})},92298:(e,t,o)=>{o.d(t,{ld:()=>fe,OL:()=>be,NT:()=>ke,_D:()=>Ie,AE:()=>ye,iP:()=>Ae,It:()=>ge,aC:()=>we});var s=o(30671),n=o(19654),a=o(62447),r=o(30698),i=o(51077),c=o(38654),l=o(62224),d=o(88428),u=o(86119),m=o(90789),h=o(54270),p=o(63150),f=o(2290);const g=[{keywords:"id",description:(0,f.tl)("Filter.ItemId"),format:"freeform",filter:({filterValue:e})=>t=>t.id===e},{keywords:"hash",description:(0,f.tl)("Filter.ItemHash"),format:"freeform",filter:({filterValue:e})=>{const t=parseInt(e,10);return e=>e.hash===t}}];var y=o(59343),v=o(16283);const b=[{keywords:"sublime",description:(0,f.tl)("Filter.RarityTier"),destinyVersion:1,filter:()=>e=>y.l.includes(e.hash)},{keywords:"upgraded",description:[(0,f.tl)("Filter.Leveling.Upgraded"),{term:"upgraded"}],destinyVersion:1,filter:()=>e=>e.talentGrid?.xpComplete&&!e.complete},{keywords:"complete",description:[(0,f.tl)("Filter.Leveling.Complete"),{term:"complete"}],destinyVersion:1,filter:()=>e=>e.complete},{keywords:"incomplete",description:[(0,f.tl)("Filter.Leveling.Incomplete"),{term:"incomplete"}],destinyVersion:1,filter:()=>e=>e.talentGrid&&!e.complete},{keywords:"xpcomplete",description:[(0,f.tl)("Filter.Leveling.XPComplete"),{term:"xpcomplete"}],destinyVersion:1,filter:()=>e=>e.talentGrid?.xpComplete},{keywords:["xpincomplete","needsxp"],description:[(0,f.tl)("Filter.Leveling.NeedsXP"),{term:"xpincomplete/needsxp"}],destinyVersion:1,filter:()=>e=>e.talentGrid?.xpComplete},{keywords:["ascended"],description:(0,f.tl)("Filter.Ascended"),destinyVersion:1,filter:()=>e=>e.talentGrid?.hasAscendNode&&e.talentGrid.ascended},{keywords:["unascended"],description:(0,f.tl)("Filter.Unascended"),destinyVersion:1,filter:()=>e=>e.talentGrid?.hasAscendNode&&!e.talentGrid.ascended},{keywords:["tracked","untracked"],description:(0,f.tl)("Filter.Tracked"),destinyVersion:1,filter:({filterValue:e})=>t=>t.trackable&&("tracked"===e?t.tracked:!t.tracked)},{keywords:["reforgeable","reforge","rerollable","reroll"],description:(0,f.tl)("Filter.Reforgeable"),destinyVersion:1,filter:()=>e=>e.talentGrid?.nodes.some((e=>617082448===e.hash))},{keywords:"engram",description:(0,f.tl)("Filter.Engrams"),destinyVersion:1,filter:()=>e=>e.isEngram},{keywords:["intellect","discipline","strength"],description:(0,f.tl)("Filter.NamedStat"),destinyVersion:1,filter:({filterValue:e})=>t=>t.stats?.some((t=>!!(t.displayProperties.name.toLowerCase()===e&&t.value>0)))},{keywords:["glimmeritem","glimmerboost","glimmersupply"],description:(0,f.tl)("Filter.Glimmer"),destinyVersion:1,filter:({filterValue:e})=>t=>{switch(e){case"glimmerboost":return y.Tx.includes(t.hash);case"glimmersupply":return y.S5.includes(t.hash);case"glimmeritem":return y.Tx.includes(t.hash)||y.S5.includes(t.hash)}return!1}},{keywords:["ornamentable","ornamentmissing","ornamentunlocked"],description:(0,f.tl)("Filter.Ornament"),destinyVersion:1,filter:({filterValue:e})=>t=>{const o=t.talentGrid?.nodes.some((e=>e.ornament)),s=t.talentGrid?.nodes.some((e=>!e.ornament));return"ornamentunlocked"===e?o:"ornamentmissing"===e?s:o||s}},{keywords:["quality","percentage"],description:[(0,f.tl)("Filter.Quality"),{percentage:"percentage",quality:"quality"}],format:"range",destinyVersion:1,filter:({compare:e})=>t=>!!t.quality&&e(t.quality.min)},{keywords:["fwc","do","nm","speaker","variks","shipwright","vanguard","osiris","xur","shaxx","cq","eris","ev","gunsmith"],description:(0,f.tl)("Filter.Vendor"),destinyVersion:1,filter:({filterValue:e})=>t=>{const o=y.jW.restricted[e],s=y.jW.required[e],n=e=>t.sourceHashes.includes(e);return o?(!s||s.some(n))&&!o.some(n):s?.some(n)}},{keywords:["vanilla","trials","ib","qw","cd","srl","vog","ce","ttk","kf","roi","wotm","poe","coe","af","dawning","aot"],description:(0,f.tl)("Filter.Release"),destinyVersion:1,filter:({filterValue:e})=>t=>"vanilla"===e?1===(0,v.Xx)(t):y.ry.restricted[e]?y.ry.required[e]?.some((e=>t.sourceHashes.includes(e)))&&!y.ry.restricted[e]?.some((e=>t.sourceHashes.includes(e))):y.ry.required[e]?.some((e=>t.sourceHashes.includes(e)))}];o(89293),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var A=o(87447),k=o(59816),w=o(57551);class I{mapping=new Map;insert(e){this.mapping.set(e.id,S(e))}hasPerkDupes(e){const t=S(e);for(const[o,s]of this.mapping)if(o!==e.id&&t.every((e=>s.some((t=>e.isSubsetOf(t))))))return!0;return!1}}function S(e){return e.sockets.allSockets.filter((e=>e.isPerk&&e.socketDefinition.defaultVisible)).map((e=>new Set(e.plugOptions.map((e=>e.plugDef.hash)))))}class x{statNodes=[];insert(e,t){let o=this.statNodes;for(let s=0;s<e.length;s++){const n=e[s],[a,r]=N(o,n);r||o.splice(a,0,{value:n,next:[]}),s===e.length-1&&(o[a].items||=[]).push(t),o=o[a].next}}doBetterStatsExist(e){return-1===T(this.statNodes,e,0)}}function T(e,t,o){const s=t[o];for(const n of e){if(n.value<s)return 1;if(n.items)return n.value>s?-1:n.value===s?0:1;switch(T(n.next,t,o+1)){case-1:return-1;case 0:return n.value===s?0:-1}}return 1}function N(e,t){if(0===e.length)return[0,!1];for(let o=0;o<e.length;o++){const s=e[o];if(t>s.value)return[o,!1];if(t===s.value)return[o,!0]}return[e.length,!1]}const C=["favorite","keep"],H=e=>e.classified&&""+e.hash||`${e.bucket.inWeapons?(0,A.j)(e.name):e.name}${e.classType}${e.tier}${e.bucket.hash}`,P=(e,t)=>{const o={};for(const s of e){if(!s.comparable)continue;const e=t(s);o[e]||(o[e]=[]),o[e].push(s)}return o},D=e=>P(e,H),M=[{keywords:"dupe",description:(0,f.tl)("Filter.Dupe"),filter:({allItems:e})=>{const t=D(e);return e=>{const o=H(e);return R(t,o,e)}}},{keywords:"dupelower",description:(0,f.tl)("Filter.DupeLower"),filter:({allItems:e,getTag:t})=>{const o=((e,t)=>{const o=(0,w.fb)((0,w.o2)((0,w.VE)((e=>e.power)),(0,w.VE)((e=>{const o=t(e);return!(!o||!C.includes(o))})),(0,w.VE)((e=>e.masterwork)),(0,w.VE)((e=>e.locked)),(0,w.VE)((e=>e.id))));for(const t of Object.values(e))t.length>1&&t.sort(o);return e})(D(e),t);return e=>{if(!e.bucket||"Weapons"!==e.bucket.sort&&"Armor"!==e.bucket.sort||e.notransfer)return!1;const t=H(e),s=o[t];return s?.length>1&&e!==s[0]}}},{keywords:"infusionfodder",description:(0,f.tl)("Filter.InfusionFodder"),destinyVersion:2,filter:({allItems:e})=>{const t=P(e.filter((e=>e.infusionFuel)),(e=>""+e.hash));return e=>!!e.infusionFuel&&t[""+e.hash]?.some((t=>t.power<e.power))}},{keywords:"count",description:(0,f.tl)("Filter.DupeCount"),format:"range",filter:({compare:e,allItems:t})=>{const o=D(t);return t=>{const s=H(t);return e(o[s]?.length??0)}}},{keywords:"statlower",description:(0,f.tl)("Filter.StatLower"),filter:({allItems:e})=>{const t=L(e);return e=>e.bucket.inArmor&&t.has(e.id)}},{keywords:"customstatlower",description:(0,f.tl)("Filter.CustomStatLower"),filter:({allItems:e,customStats:t})=>{const o={};for(const s of t){const t=[],n=s.weights;for(const e in n){const o=n[e];o&&o>0&&t.push(parseInt(e,10))}(o[s.class]||=[]).push(L(e,t))}return e=>e.bucket.inArmor&&o[e.classType]?.every((t=>t.has(e.id)))}},{keywords:["crafteddupe","shapeddupe"],description:(0,f.tl)("Filter.CraftedDupe"),filter:({allItems:e})=>{const t=D(e);return e=>{const o=H(e);if(!R(t,o,e))return!1;const s=t?.[o];return s?.some((e=>e.crafted))}}},{keywords:["dupeperks"],description:(0,f.tl)("Filter.DupePerks"),filter:({allItems:e})=>{const t=new Map;function o(e){return`${e.bucket.hash}|${e.classType}`}for(const s of e)if(s.sockets?.allSockets.some((e=>e.isPerk&&e.socketDefinition.defaultVisible))){const e=o(s);t.has(e)||t.set(e,new I),t.get(e).insert(s)}return e=>e.sockets?.allSockets.some((e=>e.isPerk&&e.socketDefinition.defaultVisible))&&!!t.get(o(e))?.hasPerkDupes(e)}}],E=M;function R(e,t,o){return e[t]?.length>1&&o.hash!==k.aV&&1506418338!==o.bucket.hash}function L(e,t=k.BZ){const o=e.filter((e=>e.bucket.inArmor&&-1!==e.classType)),s=Object.values(Object.groupBy(o,(e=>`${e.bucket.hash}-${e.classType}-${e.isExotic?e.hash:""}`))),n=new Set,a=new Map;for(const e of o)if(e.stats&&e.power&&1585787867!==e.bucket.hash){const o=e.stats.filter((e=>t.includes(e.statHash))).sort(((e,t)=>e.statHash-t.statHash)).map((e=>e.base));(0,v.CA)(e)?a.set(e,t.map(((e,t)=>{const s=[...o];return s[t]+=3,s}))):a.set(e,[o])}for(const e of s){const t=new x;for(const o of e){const e=a.get(o);if(e)for(const s of e)t.insert(s,o)}for(const o of e){const e=a.get(o);e?.every((e=>t.doBetterStatsExist(e)))&&n.add(o.id)}}return n}var V=o(97085),q=o(4554),O=o(36871);const _=new Set([7906839,1744546145]),B=(0,h.A)((e=>(0,O.x1)(Object.values(e),(e=>{const t=e.plug?.plugCategoryHash;return t&&_.has(t)&&e.displayProperties.name.toLowerCase()||void 0})))),j=(0,h.A)((e=>{const t=Object.values(e).filter((e=>{if(!e.itemCategoryHashes||!e.displayProperties.name)return!1;const t=e.itemCategoryHashes.includes(20);return(!t||2!==e.inventory.tierType)&&(t||e.itemCategoryHashes.includes(1))})).map((e=>e.displayProperties.name.toLowerCase()));return[...new Set(t)]})),z=[{keywords:["name","exactname"],description:(0,f.tl)("Filter.Name"),format:"freeform",suggestionsGenerator:({d2Definitions:e,allItems:t})=>{if(e&&t){const o=t.filter((e=>e.bucket.inWeapons||e.bucket.inArmor||e.bucket.inGeneral||e.bucket.inInventory)).map((e=>e.name.toLowerCase())),s=j(e.InventoryItem.getAll());return Array.from(new Set([...o,...s]),(e=>"exactname:"+(0,V.Os)(e)))}},filter:({filterValue:e,language:t,lhs:o})=>{const s=(0,q.H1)(e,t,"exactname"===o);return e=>s(e.name)},fromItem:e=>"exactname:"+(0,V.Os)(e.name)},{keywords:"notes",description:(0,f.tl)("Filter.Notes"),format:"freeform",suggestionsGenerator:({allNotesHashtags:e})=>e,filter:({filterValue:e,getNotes:t,language:o})=>(e=(0,q.Sx)(e,o),s=>{const n=t(s);return!(!n||!(0,q.Sx)(n,o).includes(e))})},{keywords:"description",description:(0,f.tl)("Filter.DescriptionFilter"),format:"freeform",filter:({filterValue:e,language:t})=>(e=(0,q.Sx)(e,t),o=>(0,q.Sx)(o.description,t).includes(e))},{keywords:"perk",description:(0,f.tl)("Filter.Perk"),format:"freeform",filter:({filterValue:e,language:t,d2Definitions:o})=>{const s=(0,q.c4)((0,q.Sx)(e,t),t),n=e=>s.test((0,q.Sx)(e,t));return e=>(0,v.Ne)(e)&&e.talentGrid&&(0,q.qx)(n,e.talentGrid?.nodes)||e.sockets&&F(n,e,o)}},{keywords:["perkname","exactperk"],description:(0,f.tl)("Filter.PerkName"),format:"freeform",suggestionsGenerator:({d2Definitions:e,allItems:t})=>{if(e&&t){const o=new Set;for(const e of t)if(e.sockets&&(e.bucket.inWeapons||e.bucket.inArmor||e.bucket.inGeneral))for(const t of e.sockets.allSockets)if(t.isPerk)for(const e of t.plugOptions)o.add(e.plugDef.displayProperties.name.toLowerCase());for(const t of B(e.InventoryItem.getAll()))o.add(t);return Array.from(o,(e=>"exactperk:"+(0,V.Os)(e)))}},filter:({lhs:e,filterValue:t,language:o,d2Definitions:s})=>{const n=(0,q.H1)(t,o,"exactperk"===e);return e=>(0,v.Ne)(e)&&(0,q.qx)(n,e.talentGrid?.nodes,!1)||F(n,e,s,!1)}},{keywords:"keyword",description:(0,f.tl)("Filter.PartialMatch"),format:"freeform",filter:({filterValue:e,getNotes:t,language:o,d2Definitions:s})=>{e=(0,q.Sx)(e,o);const n=t=>(0,q.Sx)(t,o).includes(e);return e=>{const o=t(e);return o&&n(o)||n(e.name)||n(e.description)||n(e.typeName)||(0,v.Ne)(e)&&(0,q.qx)(n,e.talentGrid?.nodes)||F(n,e,s)||s&&(function(e,t,o){return!!o?.some((o=>e(t.Objective.get(o.objectiveHash)?.progressDescription??"")))}(n,s,e.objectives)||function(e,t,o){return!!o?.rewards.some((o=>(0,q.EF)(e,t.InventoryItem.get(o.itemHash).displayProperties)))}(n,s,e.pursuit))}}}];function F(e,t,o,s=!0){if(!t.sockets)return!1;for(const n of t.sockets.allSockets){for(const t of n.plugOptions)if((0,q.qx)(e,t.plugDef.displayProperties,s)||e(t.plugDef.itemTypeDisplayName)||o&&W(t,o).some((t=>(0,q.qx)(e,t.displayProperties,s))))return!0;if(n.plugged?.plugDef.tooltipNotifications)for(const t of n.plugged.plugDef.tooltipNotifications)if(e(t.displayString))return!0}return!1}function W(e,t){return(e.plugDef.perks||[]).map((e=>t.SandboxPerk.get(e.perkHash)))}var U=o(12462);const G=[{keywords:"tagged",description:(0,f.tl)("Filter.Tags.Tagged"),filter:({getTag:e})=>t=>void 0!==e(t)},{keywords:"tag",description:(0,f.tl)("Filter.Tags.Tag"),format:"query",suggestions:U.Tw.map((e=>e.type??"none")),filter:({filterValue:e,getTag:t})=>o=>(t(o)||"none")===e},{keywords:"hasnotes",description:(0,f.tl)("Filter.HasNotes"),filter:({getNotes:e})=>t=>!!e(t)}];var Q=o(17839),Z=o(18076);const K=[{keywords:"stack",description:(0,f.tl)("Filter.StackLevel"),format:"range",filter:({compare:e})=>t=>e(t.amount)},{keywords:"year",description:(0,f.tl)("Filter.Year"),format:"range",filter:({compare:e})=>t=>e((0,v.Xx)(t)??0)},{keywords:"level",destinyVersion:1,description:(0,f.tl)("Filter.RequiredLevel"),format:"range",filter:({compare:e})=>t=>e(t.equipRequiredLevel)},{keywords:"kills",description:(0,f.tl)("Filter.MasterworkKills"),format:["range","stat"],destinyVersion:2,suggestions:["pve","pvp","gambit"],validateStat:()=>e=>["pve","pvp","gambit"].includes(e),filter:({filterValue:e,compare:t})=>o=>{const s=(0,v.Ul)(o);return!(!s||e.length&&e!==s.type||!t(s.count))}},{keywords:"weaponlevel",description:(0,f.tl)("Filter.WeaponLevel"),format:"range",destinyVersion:2,filter:({compare:e})=>t=>!!t.craftedInfo&&e(t.craftedInfo?.level||0)}];var J=o(40250);const X=[{keywords:"armor2.0",description:(0,f.tl)("Filter.Energy"),destinyVersion:2,filter:()=>e=>!!e.energy&&e.bucket.inArmor},{keywords:"weapon",description:(0,f.tl)("Filter.Weapon"),filter:()=>e=>"Weapons"===e.bucket?.sort&&1506418338!==e.bucket.hash&&3284755031!==e.bucket.hash},{keywords:"armor",description:(0,f.tl)("Filter.Armor"),filter:()=>e=>"Armor"===e.bucket?.sort},{keywords:["equipment","equippable"],description:(0,f.tl)("Filter.Equipment"),filter:()=>e=>e.equipment},{keywords:["postmaster","inpostmaster"],description:(0,f.tl)("Filter.Postmaster"),filter:()=>e=>e.location?.inPostmaster},{keywords:"equipped",description:(0,f.tl)("Filter.Equipped"),filter:()=>e=>e.equipped},{keywords:["transferable","movable"],description:(0,f.tl)("Filter.Transferable"),filter:()=>e=>!e.notransfer},{keywords:"stackable",description:(0,f.tl)("Filter.Stackable"),filter:()=>e=>e.maxStackSize>1},{keywords:"stackfull",description:(0,f.tl)("Filter.StackFull"),filter:()=>e=>e.maxStackSize>1&&e.amount===e.maxStackSize},{keywords:["infusable","infuse"],description:(0,f.tl)("Filter.Infusable"),filter:()=>e=>e.infusable},{keywords:"locked",description:(0,f.tl)("Filter.Locked"),filter:()=>e=>e.locked},{keywords:"unlocked",description:(0,f.tl)("Filter.Locked"),filter:()=>e=>!e.locked},{keywords:"new",description:(0,f.tl)("Filter.NewItems"),filter:({newItems:e})=>t=>e.has(t.id)},{keywords:"sunset",destinyVersion:2,description:(0,f.tl)("Filter.Deprecated"),deprecated:!0,filter:()=>()=>!1},{keywords:["crafted","shaped"],destinyVersion:2,description:(0,f.tl)("Filter.IsCrafted"),filter:()=>e=>"crafted"===e.crafted},{keywords:["vendor"],destinyVersion:2,description:(0,f.tl)("Filter.VendorItem"),filter:()=>e=>!!e.vendor}];var Y=o(74987),$=o(60088),ee=o(46279),te=o(143),oe=o(74136);const se=e=>{const t=e?.customStats?.map((e=>e.shortLabel))??[],o=[...ee.MT,...t];return e=>o.includes(e)||e.split(/&|\+/).every((e=>"any"!==e&&o.includes(e)))},ne=[{keywords:"stat",description:(0,f.tl)("Filter.Stats"),format:"stat",suggestionsGenerator:({customStats:e})=>(0,te.K)({keywords:"stat",format:"stat",suggestions:[...ee.MT,...e?.map((e=>e.shortLabel))??[]]},{}),validateStat:se,filter:({filterValue:e,compare:t,customStats:o})=>re(e,t,o)},{keywords:"basestat",description:(0,f.tl)("Filter.StatsBase"),format:"stat",suggestionsGenerator:({customStats:e})=>(0,te.K)({keywords:"basestat",format:"stat",suggestions:[...ee.a3,...ee.zs,...e?.map((e=>e.shortLabel))??[]]},{}),validateStat:se,filter:({filterValue:e,compare:t,customStats:o})=>re(e,t,o,!0)},{keywords:"maxstatloadout",description:(0,f.tl)("Filter.StatsLoadout"),format:"query",suggestions:Object.keys(ee.Se),destinyVersion:2,filter:({filterValue:e,stores:t,allItems:o})=>{const s=function(e,t,o){const s=ee.rx[o];return e.flatMap((e=>(0,$.fd)(s,t,e).items.map((e=>e.id))))}(t,o,e);return t=>!(!t.bucket.inArmor||!ee.rx[e])&&s.includes(t.id)}},{keywords:"maxstatvalue",description:(0,f.tl)("Filter.StatsMax"),format:"query",suggestions:ee.a3,destinyVersion:2,filter:({filterValue:e,allItems:t})=>{const o=ce(t);return t=>ie(o,t,e)}},{keywords:"maxbasestatvalue",description:(0,f.tl)("Filter.StatsMax"),format:"query",suggestions:ee.a3,destinyVersion:2,filter:({filterValue:e,allItems:t})=>{const o=ce(t);return t=>ie(o,t,e,!0)}},{keywords:"maxpowerloadout",description:(0,f.tl)("Filter.MaxPowerLoadout"),destinyVersion:2,filter:({stores:e,allItems:t})=>{const o=function(e,t){return e.flatMap((e=>(0,$.W2)(t,e).equippable.map((e=>e.id))))}(e,t);return e=>o.includes(e.id)}},{keywords:"maxpower",description:(0,f.tl)("Filter.MaxPower"),destinyVersion:2,filter:({allItems:e})=>{const t=function(e){return(0,O.LG)(Object.groupBy(e.filter((e=>-1!==e.classType)),(e=>le(e))),(e=>e.length?(0,O._)(e,(e=>e.power)):0))}(e);return e=>!!(e.power&&t[le(e)]<=e.power)}}],ae=ne;function re(e,t,o,s=!1){const n=s?"base":"value";if("any"===e){const e=e=>ee.G.includes(e.statHash)&&t(e[n]);return t=>!!t.stats?.find(e)}if(e in ee.$)return o=>{if(!o.bucket.inArmor||!o.stats)return!1;const s=o.stats.filter((e=>ee.G.includes(e.statHash))).map((e=>e[n])).sort(((e,t)=>t-e));return t(s[ee.$[e]])};if(ee.rR.includes(e)){const o=ee.rx[e];return e=>{const s=(0,v.eZ)(e,n);return t(s[o]||0)}}const a=function(e,t,o){const s=e.split("+").map((e=>e.split("&").map((e=>{if(e in ee.$)return(t,o,s)=>{if(!s.bucket.inArmor||!s.stats)return 0;const n=o()[ee.$[e]][0];if(!n)throw Error(`invalid stat name: "${e}"`);return t[n]||0};const t=ee.rx[e];if(t)return e=>e[t]||0;const s=o.filter((t=>t.shortLabel===e));if(s.length)return(e,t,o)=>{const n=s.find((e=>(0,v.dO)(e.class,o.classType)));return n&&e[n.statHash]||0};throw Error(`invalid stat name: "${e}"`)}))));return e=>{const o=(0,v.eZ)(e,t),n=(0,oe.O)((()=>(e.stats??[]).filter((e=>ee.G.includes(e.statHash))).map((e=>[e.statHash,e[t]])).sort(((e,t)=>t[1]-e[1]))));return(0,O.xu)(s,(t=>(0,O.xu)(t,(t=>t(o,n,e)))/t.length))}}(e,n,o);return e=>!!e.bucket.inArmor&&t(a(e))}function ie(e,t,o,s=!1){if(!t.bucket.inArmor||!t.stats)return!1;const n="any"===o?ee.CZ:[ee.rx[o]],a=s?"base":"value",r=e[t.isExotic?"all":"nonexotic"][`${t.bucket.hash}|${t.classType}`],i=t.stats?.filter((e=>n.includes(e.statHash)&&e[a]===r?.[e.statHash][a]));return i&&!!i.length}function ce(e){const t={all:{},nonexotic:{}};for(const o of e){if(!o.bucket.inArmor||!o.stats)continue;const e=`${o.bucket.hash}|${o.classType}`,s=(o.isExotic?["all"]:["all","nonexotic"]).map((o=>t[o][e]??={}));for(const e of o.stats)for(const t of s){const o=t[e.statHash]??={value:0,base:0};o.value=Math.max(o.value,e.value),o.base=Math.max(o.base,e.base)}}return t}function le(e){return`${e.bucket.hash}-${e.bucket.inArmor?e.classType:""}`}var de=o(65);const ue=[{keywords:["inleftchar","inmiddlechar","inrightchar"],description:(0,f.tl)("Filter.Location"),filter:({filterValue:e,stores:t})=>{let o=0;switch(e){case"inleftchar":o=0;break;case"inmiddlechar":4===t.length&&(o=1);break;case"inrightchar":t.length>2&&(o=t.length-2)}const s=t[o].id;return e=>e.bucket.accountWide&&!e.location.inPostmaster?"vault"!==e.owner:e.owner===s}},{keywords:"onwrongclass",description:(0,f.tl)("Filter.Class"),filter:({stores:e})=>t=>{const o=(0,de.KA)(e,t.owner);return!t.classified&&"vault"!==t.owner&&!t.bucket.accountWide&&3!==t.classType&&o&&!(0,v.BE)(t,o)&&!t.location?.inPostmaster}},{keywords:"invault",description:(0,f.tl)("Filter.Location"),filter:()=>e=>"vault"===e.owner},{keywords:"incurrentchar",description:(0,f.tl)("Filter.Location"),filter:({currentStore:e})=>t=>!!e&&t.owner===e.id},{keywords:"currentclass",description:(0,f.tl)("Filter.CurrentClass"),filter:({currentStore:e})=>t=>!!e&&t.classType===e.classType}],me=ue,he=(e,t)=>{const o=t(e);return o&&!o.isUndesirable},pe=[...E,{keywords:"wishlist",description:(0,f.tl)("Filter.Wishlist"),destinyVersion:2,filter:({wishListFunction:e})=>t=>he(t,e)},{keywords:"wishlistdupe",description:(0,f.tl)("Filter.WishlistDupe"),destinyVersion:2,filter:({wishListFunction:e,allItems:t})=>{const o=D(t);return t=>{const s=H(t);if(!R(o,s,t))return!1;const n=o?.[s];return n?.some((t=>he(t,e)))}}},{keywords:"wishlistnotes",description:(0,f.tl)("Filter.WishlistNotes"),format:"freeform",destinyVersion:2,filter:({wishListFunction:e,filterValue:t})=>o=>e(o)?.notes?.toLocaleLowerCase().includes(t)},{keywords:"trashlist",description:(0,f.tl)("Filter.Trashlist"),destinyVersion:2,filter:({wishListFunction:e})=>t=>e(t)?.isUndesirable},{keywords:"wishlistunknown",destinyVersion:2,description:(0,f.tl)("Filter.WishlistUnknown"),filter:({wishListsByHash:e})=>t=>!e.has(t.hash)},{keywords:"wishlistable",destinyVersion:2,description:(0,f.tl)("Filter.WishlistEnabled"),filter:()=>e=>e.wishListEnabled},...z,...G,...Q.Ay,...b,...Z.Ay,...K,...J.A,...X,...Y.A,...ae,...me,...g],fe=(0,h.A)((e=>(0,l.W)(e,pe))),ge=(0,p.Mz)(a.V0,r.x,c.v2,a.Mj,a.vX,a.d6,n.qg,(function(e,t,o,s,n,a,r){return{allItems:e,loadouts:t,d2Definitions:o,getTag:s,getNotes:n,allNotesHashtags:a,customStats:r}})),ye=(0,p.Mz)(s.Ot,n.md,ge,(function(e,t,o={}){const s=fe(e);return(0,l.t)(t,o,s)})),ve=(0,p.Mz)(a.pl,a.V0,a.ux,i.df,m.b0,m.nS,a.i5,a.Mj,a.vX,n.md,n.qg,c.v2,(function(e,t,o,s,n,a,r,i,c,l,d,u){return{stores:e,allItems:t,currentStore:o,loadoutsByItem:s,wishListFunction:n,newItems:r,getTag:i,getNotes:c,language:l,customStats:d,wishListsByHash:a,d2Definitions:u}})),be=(0,p.Mz)(ye,ve,d.Px),Ae=(0,p.Mz)(u.iT,be,((e,t)=>t(e))),ke=(0,p.Mz)(a.V0,Ae,a.M6,((e,t,o)=>e.filter((e=>o.has(e.location.hash)&&t(e))))),we=(0,p.Mz)(ye,ve,((e,t)=>o=>(0,d.JW)(o,e.filtersMap,t))),Ie=(0,p.Mz)(u.iT,we,((e,t)=>t(e).valid))},98650:(e,t,o)=>{o.d(t,{A:()=>c}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(90825);const n=JSON.parse('{"30th":{"sourceHashes":[443340273,675740011,1102533392,1394793197,2763252588]},"adventure":{"sourceHashes":[194661944,482012099,636474187,783399508,790433146,1067250718,1186140085,1289998337,1527887247,1736997121,1861838843,2040548068,2096915131,2345202459,2392127416,2553369674,3427537854,3754173885,4214471686],"enteredDCV":20},"avalon":{"sourceHashes":[709680645,1476475066,1730197643],"enteredDCV":24},"battlegrounds":{"itemHashes":[2121785039,3075224551],"sourceHashes":[3391325445],"enteredDCV":24},"blackarmory":{"itemHashes":[417164956,3211806999,3588934839,3650581584,3650581585,3650581586,3650581587,3650581588,3650581589],"sourceHashes":[266896577,439994003,925197669,948753311,1286332045,1457456824,1465990789,1596507419,2062058385,2384327872,2541753910,2966694626,3047033583,3257722699,3390164851,3764925750,4101102010,4247521481,4290227252],"aliases":["ada"],"enteredDCV":20},"brave":{"itemHashes":[205225492,211732170,243425374,570866107,2228325504,2480074702,2499720827,2533990645,3098328572,3757612024,3851176026,4043921923],"sourceHashes":[2952071500]},"calus":{"itemHashes":[947448544,1661191192,1661191193,1661191194,1661191195,2027598066,2027598067,2816212794,3176509806,3580904580,3841416152,3841416153,3841416154,3841416155,3875444086],"enteredDCV":20,"sourceHashes":[1675483099,2399751101,2511152325,2653618435,2765304727,2812190367,2937902448,3147603678,4009509410,4066007318]},"campaign":{"sourceHashes":[13912404,100617404,286427063,409652252,460742691,569214265,677167936,736336644,901482731,918840100,923708784,958460845,1076222895,1103518848,1118966764,1281387702,1701477406,2242939082,2278847330,2308290458,2552784968,2744321951,2892963218,2895784523,2929562373,2988465950,3099553329,3126774631,3174947771,3431853656,3532642391,3704442923,3936473457,4288102251,4290499613]},"cayde6":{"sourceHashes":[2206233229],"enteredDCV":20},"compass":{"sourceHashes":[164083100,3100439379],"enteredDCV":20},"contact":{"sourceHashes":[2039343154],"enteredDCV":20},"crotasend":{"sourceHashes":[1897187034],"aliases":["crota"]},"crownofsorrow":{"itemHashes":[947448544,1661191193,2027598066,2027598067],"sourceHashes":[2399751101,3147603678],"aliases":["cos"],"enteredDCV":20},"crucible":{"itemHashes":[2307365,161675590,303107619,501345268,548809020,627188188,711889599,769099721,825554997,854379020,874623537,906840740,1141586039,1230660649,1292594730,1321626661,1401300690,1574601402,1661191197,1705843397,1711056134,1820994983,1968410628,1973107014,2022294213,2059255495,2185327324,2300143112,2314610827,2378785953,2414564781,2420153991,2421180981,2588739576,2588739578,2588739579,2632846356,2653171212,2653171213,2738601016,2759251821,2839600459,3001205424,3009199534,3019024381,3102421004,3165143747,3193598749,3332125295,3444632029,3624844116,3920882229,3928440584,3928440585,3969379530,4005780578,4039572196,4060882456,4248997900],"sourceHashes":[454115234,598662729,745186842,897576623,929025440,1217831333,1223492644,1465057711,1494513645,2055470113,2537301256,2558941813,2622122683,2641169841,2658055900,2669524419,2821852478,2915991372,3020288414,3226099405,3299964501,3348906688,3466789677,3656787928],"aliases":["shaxx"]},"deepstonecrypt":{"sourceHashes":[866530798,1405897559,1692165595],"aliases":["dsc"]},"deluxe":{"sourceHashes":[639650067,1358645302,1412777465,1743434737,1866448829,2968206374,2985242208,3173463761,3212282221,3672287903,4069355515,4166998204],"aliases":["limited"]},"do":{"sourceHashes":[146504277],"enteredDCV":20},"dreaming":{"itemHashes":[185321779,3352019292],"sourceHashes":[2559145507,3874934421]},"duality":{"sourceHashes":[1282207663]},"dungeon":{"sourceHashes":[506073192,613435025,675740011,1282207663,1597738585,1745960977,3288974535],"itemHashes":[185321778,814876684,2844014413]},"echoes":{"sourceHashes":[536806855,2306801178,2514060836,2631398023]},"edz":{"sourceHashes":[783399508,790433146,1373723300,1527887247,1736997121,1861838843,2096915131,3754173885,4214471686,4292996207]},"eow":{"sourceHashes":[2937902448,4066007318],"enteredDCV":20},"ep":{"sourceHashes":[4137108180],"enteredDCV":20},"europa":{"sourceHashes":[286427063,1148859274,1492981395,2171520631,3125456997,3965815470]},"events":{"itemHashes":[425681240,495940989,601948197,689294985,1123433952,1183116657,1280894514,1845372864,1845978721,2477980485,2603335652,2812100428,2814093983,2869466318,3240434620,3400256755,3558681245,3559361670,3573686365],"sourceHashes":[32323943,151416041,464727567,547767158,611838069,629617846,641018908,772619302,923678151,1054169368,1225476079,1360005982,1397119901,1416471099,1462687159,1568732528,1666677522,1677921161,1919933822,2006303146,2011810450,2050870152,2187511136,2364515524,2473294025,2502262376,2797674516,3092212681,3112857249,3190938946,3388021959,3482766024,3693722471,3724111213,3736521079,3952847349,4041583267,4054646289]},"eververse":{"sourceHashes":[269962496,860688654,2882367429,4036739795]},"evidenceboard":{"sourceHashes":[1309588429,2055289873],"aliases":["enclave"]},"exoticquest":{"sourceHashes":[210885364,281362298,454251931,483798855,709680645,1141831282,1302157812,1388323447,1476475066,1730197643,1823766625,1957611613,2055289873,2068312112,2171520631,2296534980,2745272818,2856954949,3597879858]},"fwc":{"sourceHashes":[3569603185],"enteredDCV":20},"gambit":{"itemHashes":[180108390,180108391,1335424933,1335424934,1335424935,1661191187,2026755633,2224920148,2224920149,2394866220,2588647363,3001205424,3217477988,4060882457],"sourceHashes":[186854335,571102497,594786771,887452441,1127923611,1162859311,1465057711,2170269026,2364933290,2601524261,2843045413,2883838366,3299964501,3348906688,3422985544,3494247523,3522070610,3942778906],"aliases":["drifter"]},"gambitprime":{"itemHashes":[2868525740,2868525741,2868525742,2868525743,3808901541],"sourceHashes":[1952675042],"enteredDCV":20},"gardenofsalvation":{"itemHashes":[4103414242],"sourceHashes":[1491707941],"aliases":["gos","garden"]},"ghostsofthedeep":{"sourceHashes":[3288974535],"aliases":["gotd"]},"grasp":{"sourceHashes":[675740011]},"gunsmith":{"sourceHashes":[1459595344,1788267693,2986841134,3512613235],"aliases":["banshee"]},"harbinger":{"sourceHashes":[2856954949]},"haunted":{"itemHashes":[1478986057,2778013407],"sourceHashes":[620369433,976328308,1283862526,2273761598,2676881949],"enteredDCV":20},"ikora":{"sourceHashes":[3075817319]},"intothelight":{"itemHashes":[205225492,211732170,243425374,570866107,2228325504,2480074702,2499720827,2533990645,3098328572,3757612024,3851176026,4043921923],"sourceHashes":[1388323447,1902517582,2068312112,2952071500],"aliases":["itl"]},"io":{"sourceHashes":[315474873,1067250718,1832642406,2392127416,2717017239,3427537854],"enteredDCV":20},"ironbanner":{"itemHashes":[231533811,487361141,540880995,888872889,1161561386,1162929425,1448664466,1448664467,1661191199,1764868900,1987234560,1999697514,2189073092,2448092902,2488587246,4009352833],"sourceHashes":[561111210,1027607603,1312894505,1828622510,1926923633,2520862847,2648408612,3072862693]},"kingsfall":{"sourceHashes":[160129377],"aliases":["kf"]},"lastwish":{"itemHashes":[70083888,424291879,501329015,1851777734,2884596447,3388655311,3591141932,3668669364,3885259140],"sourceHashes":[2455011338],"aliases":["lw"]},"legendaryengram":{"sourceHashes":[3334812276]},"leviathan":{"itemHashes":[3580904580],"sourceHashes":[2653618435,2765304727,4009509410],"enteredDCV":20},"lost":{"sourceHashes":[164083100,3094114967],"enteredDCV":20},"lostsectors":{"sourceHashes":[2203185162]},"mars":{"sourceHashes":[1036506031,1299614150,1924238751,2310754348,2926805810,4137108180],"enteredDCV":20},"menagerie":{"itemHashes":[1661191194,1661191195,3176509806,3841416152,3841416153,3841416154,3841416155,3875444086],"sourceHashes":[2511152325],"enteredDCV":20},"mercury":{"sourceHashes":[148542898,1175566043,1400219831,1411886787,1581680964,1618754228,1654120320,2487203690,3079246067,3964663093,4263201695],"enteredDCV":20},"moon":{"sourceHashes":[1253026984,1999000205,3589340943]},"neomuna":{"itemHashes":[1123421440,1311684613,3635821806,3920310144],"sourceHashes":[281362298,454251931,483798855,1750523507,2697389955,3041847664,3773376290,4006434081,4110186790]},"nessus":{"sourceHashes":[164571094,817015032,1186140085,1289998337,1906492169,2040548068,2345202459,2553369674,3022766747,3067146211]},"nightfall":{"itemHashes":[42874240,192784503,213264394,267089201,496556698,555148853,566740455,672957262,772231794,817909300,912222548,927835311,959037361,1056103557,1064132738,1151688091,1332123064,1354727549,1492522228,1586231351,1821529912,1854753404,1854753405,1891996599,1987790789,2063217087,2074041946,2152484073,2298039571,2322926844,2450917538,2591257541,2759590322,2883684343,2889501828,2914913838,2932922810,3106557243,3125454907,3183283212,3250744600,3293524502,3610521673,3667553455,3686538757,3832743906,3915197957,3997086838,4074251943,4162642204],"sourceHashes":[110159004,277706045,354493557,817015032,827839814,860666126,1175566043,1283862526,1516560855,1581680964,1596489410,1618699950,1749037998,1850609592,1924238751,1992319882,2347293565,2376909801,2487203690,2717017239,2805208672,2851783112,2926805810,2982642634,3022766747,3067146211,3142874552,3229688794,3528789901,3874934421,3964663093,4208190159,4263201695]},"nightmare":{"sourceHashes":[550270332,2778435282,3190710249]},"nm":{"sourceHashes":[1464399708],"enteredDCV":20},"paleheart":{"sourceHashes":[2327253880,3614199681]},"pinnacle-weapon":{"itemHashes":[578459533,654608616,1050806815,1584643826,1600633250,3098328572,3354242550,3907337522,3962575203],"sourceHashes":[598662729,1162859311,1244908294,2317365255,2883838366]},"pit":{"sourceHashes":[1745960977]},"plunder":{"itemHashes":[820890091,1298815317],"sourceHashes":[790152021,2982642634,3265560237,3308438907,3740731576,4199401779],"enteredDCV":20},"presage":{"sourceHashes":[210885364,2745272818,3597879858]},"prestige":{"sourceHashes":[2765304727,2812190367,4066007318],"enteredDCV":20},"prophecy":{"sourceHashes":[506073192]},"psiops":{"itemHashes":[2097055732,4067556514],"sourceHashes":[450719423,2075569025,2363489105,3563833902],"enteredDCV":24},"rahool":{"sourceHashes":[4011186136]},"raid":{"sourceHashes":[160129377,557146120,654652973,707740602,866530798,1007078046,1405897559,1483048674,1491707941,1675483099,1692165595,1897187034,2065138144,2085016678,2399751101,2455011338,2653618435,2700267533,2723305286,2765304727,2812190367,2882367429,2937902448,3098906085,3147603678,3190710249,3390269646,3807243511,4009509410,4066007318,4246883461],"itemHashes":[70083888,424291879,501329015,947448544,1661191193,1851777734,2027598066,2027598067,2557722678,2884596447,3388655311,3580904580,3591141932,3668669364,3885259140,4103414242]},"rasputin":{"sourceHashes":[504657809,1126234343,1497107113,1516560855,2230358252,2422551147,3492941398,3567813252,3574140916,3937492340],"enteredDCV":20},"revenant":{"sourceHashes":[792439255,1605890568,2463956052]},"ritual-weapon":{"itemHashes":[805677041,838556752,847329160,1179141605,1644680957,2060863616,2697058914,3001205424,3434944005,3535742959,4184808992,4227181568],"sourceHashes":[3299964501,3348906688]},"rivenslair":{"itemHashes":[2563668388,4153087276],"sourceHashes":[561126969,1664308183,4278841194],"aliases":["coil"],"enteredDCV":24},"rootofnightmares":{"sourceHashes":[3190710249],"aliases":["root","ron"]},"saint14":{"sourceHashes":[2607739079,3404977524,4046490681,4267157320],"enteredDCV":20},"salvationsedge":{"sourceHashes":[2700267533]},"scourgeofthepast":{"itemHashes":[2557722678],"sourceHashes":[1483048674,2085016678,4246883461],"aliases":["scourge","sotp"],"enteredDCV":20},"seasonpass":{"sourceHashes":[450719423,794422188,813075729,927967626,1560428737,1593696611,1763998430,1838401392,2257836668,2379344669,2676881949,2986594962,3308438907,3574140916]},"servitor":{"itemHashes":[599895591,2130875369,2434225986],"sourceHashes":[139160732,277706045,1600754038,2040801502,2694738712,2967385539],"enteredDCV":20},"shatteredthrone":{"itemHashes":[185321778,814876684,2844014413]},"shipwright":{"sourceHashes":[96303009],"enteredDCV":20},"sonar":{"itemHashes":[1081724548,1769847435,3016891299,3890055324,4066778670],"sourceHashes":[813075729,927967626,2257836668,2671038131,2755511565,2811716495,2959452483],"enteredDCV":24},"spireofstars":{"sourceHashes":[1675483099,2812190367],"aliases":["sos"],"enteredDCV":20},"spireofthewatcher":{"sourceHashes":[1597738585],"aliases":["sotw","watcher"]},"strikes":{"itemHashes":[42874240,192784503,213264394,274843196,772231794,781498181,1151688091,1296429091,1332123064,1661191186,1821529912,1854753404,1854753405,1974641289,1999754402,2152484073,2298039571,2322926844,2450917538,2523776412,2523776413,2588647361,2591257541,2759590322,2788911997,2788911998,2788911999,2889501828,2932922810,3001205424,3125454907,3183283212,3215252549,3293524502,3667553455,3686538757,3832743906,4060882458],"sourceHashes":[288436121,351235593,412991783,539840256,681989555,1144274899,1216155659,1244908294,1433518193,1465057711,1564061133,2124937714,2317365255,2335095658,2527168932,3299964501,3348906688],"aliases":["zavala"]},"sundial":{"sourceHashes":[1618754228,2627087475],"enteredDCV":20},"tangled":{"itemHashes":[1226584228,1226584229,4085986809],"sourceHashes":[110159004,798957490,1771326504,2805208672,4140654910],"enteredDCV":20},"throneworld":{"itemHashes":[2721157927],"sourceHashes":[1141831282,1823766625,3954922099]},"titan":{"sourceHashes":[194661944,354493557,482012099,636474187,3534706087],"enteredDCV":20},"trials":{"itemHashes":[2307365,711889599,1401300690,1574601402,1983519830,2059255495,2071635914,2071635915,2185327324,2421180981,2759251821,3102421004,3624844116,3920882229,4248997900],"sourceHashes":[139599745,550270332,613791463,752988954,827839814,1607607347,2857787138,3390015730,3471208558,3543690049,3564069447]},"umbral":{"sourceHashes":[287889699,1286883820],"enteredDCV":20},"vaultofglass":{"sourceHashes":[2065138144],"aliases":["vog"]},"vexoffensive":{"itemHashes":[351285766,377757362,509561140,509561142,509561143,695795213,844110491,1137424312,1137424314,1137424315,1348357884,1584183805,1721943440,1721943441,1721943442,1855720513,1855720514,1855720515,2096778461,2096778462,2096778463,2468603405,2468603406,2468603407,2657028416,2687273800,2690973101,2690973102,2690973103,2742760292,2761292744,2815379657,2815379658,2815379659,2903026872,2903026873,2903026874,2942269704,2942269705,2942269707,3166926328,3166926330,3166926331,3192738009,3192738010,3192738011,3364258850,3680920565,3757338780,3757338782,3757338783,3911047865,4013678605,4026120124,4026120125,4026120127,4070722289,4078925540,4078925541,4078925542],"sourceHashes":[4122810030],"enteredDCV":20},"vowofthedisciple":{"sourceHashes":[1007078046],"aliases":["vow","votd"]},"warlordsruin":{"sourceHashes":[613435025]},"wartable":{"sourceHashes":[2653840925,3818317874,4079816474],"enteredDCV":24},"wellspring":{"sourceHashes":[82267399,502279466,2917218318,3359853911,3411812408,3450213291]},"wrathborn":{"itemHashes":[197764097,238284968,251310542,317220729,1148770067,1276513983,1458739906,2025716654,2055947316,2279193565,2453357042,2545401128,2776503072,3180809346,3351935136,3887272785,4079117607],"sourceHashes":[841568343,3107094548],"enteredDCV":20}}'),a=s.Q[s.S].season;for(const e of Object.values(n))if(e.aliases)for(const t of e.aliases)n[t]=e;const r=[],i=[];for(const e of Object.values(n))e.enteredDCV&&e.enteredDCV<=a&&(n.dcv||(n.dcv={itemHashes:[],sourceHashes:[]}),e.itemHashes&&r.push(...e.itemHashes),e.sourceHashes&&i.push(...e.sourceHashes));n.dcv.itemHashes=[...new Set(r)],n.dcv.sourceHashes=[...new Set(i)];const c=n},17839:(e,t,o)=>{o.d(t,{x_:()=>x,SN:()=>w,Ay:()=>D,_2:()=>P,c9:()=>C});var s=o(11969),n=o(90699),a=o(2290),r=o(19668),i=o(59343),c=o(59816),l=o(46279),d=o(16283),u=o(40633),m=o(82495),h=o(46460);const p=JSON.parse("[66825403,73143230,226330008,506041342,646467119,782362349,914894006,993006552,1204101093,2223145359,2484791497,2646629159,3114385605,3114385606,3114385607,3308857600,3529617614,3879752304]");var f=o(98650);const g=Object.fromEntries(Object.entries(m.f).map((([e,t])=>[t.shortname,+e]))),y={white:"Common",green:"Uncommon",blue:"Rare",purple:"Legendary",yellow:"Exotic",common:"Common",uncommon:"Uncommon",rare:"Rare",legendary:"Legendary",exotic:"Exotic"},v={primary:1,special:2,heavy:3},b=["titan","hunter","warlock"],A={...i.bt,...c.GZ},k={lfr:"linearfusionrifle",lmg:"machinegun",smg:"submachine"},w={keywords:l.EV,description:(0,a.tl)("Filter.DamageType"),filter:({filterValue:e})=>t=>(0,d.sg)(t)===e,fromItem:e=>"is:"+(0,d.sg)(e)},I={0:void 0,1:void 0,2:"light",3:"light",4:"light",5:void 0,6:"dark",7:"dark"},S={keywords:["light","dark"],description:(0,a.tl)("Filter.PrismaticDamageType"),filter:({filterValue:e})=>t=>I[t.element?.enumValue??0]===e},x={keywords:["titan","hunter","warlock"],description:(0,a.tl)("Filter.Class"),filter:({filterValue:e})=>{const t=b.indexOf(e);return e=>!e.classified&&e.classType===t},fromItem:e=>3===e.classType?"":"is:"+b[e.classType]},T={375726501:"engrams",215593132:"lostitems",3161908920:"messages",1367666825:"specialorders",1498876634:"kineticslot",2465295065:"energy",953998645:"power",3448274439:"helmet",3551918588:"gauntlets",14239492:"chest",20886954:"leg",1585787867:"classitem",3284755031:"subclass",4023194814:"ghost",4274335291:"emblems",284967655:"ships",2025709351:"vehicle",1107761855:"emotes",3683254069:"finishers",1506418338:"seasonalartifacts",687325600:"accessories",1469714392:"consumables",3313201758:"modifications"},N={215593132:"lostitems",1367666825:"specialorders",3161908920:"messages",1498876634:"primary",2465295065:"special",953998645:"heavy",3448274439:"helmet",3551918588:"gauntlets",14239492:"chest",20886954:"leg",1585787867:"classitem",3284755031:"subclass",434908299:"artifact",4023194814:"ghost",1469714392:"consumables",3865314626:"material",3313201758:"ornaments",4274335291:"emblems",2973005342:"shader",1107761855:"emote",284967655:"ships",2025709351:"vehicle",3796357825:"horn",2197472680:"bounties",1801258597:"quests",375726501:"missions"},C={keywords:Object.values(n.j).flat().map((e=>T[e])),destinyVersion:2,description:(0,a.tl)("Filter.ArmorCategory"),filter:({filterValue:e})=>{let t;for(const[o,s]of Object.entries(T))if(s===e){t=parseInt(o,10);break}return e=>e.bucket.hash===t},fromItem:e=>"is:"+T[e.bucket.hash]},H={keywords:Object.values(s.W).flat().map((e=>N[e])),destinyVersion:1,description:(0,a.tl)("Filter.ArmorCategory"),filter:({filterValue:e})=>{let t;for(const[o,s]of Object.entries(N))if(s===e){t=parseInt(o,10);break}return e=>e.bucket.hash===t},fromItem:e=>"is:"+N[e.bucket.hash]},P={keywords:[...Object.keys(A),...Object.keys(k),"grenadelauncher"],description:(0,a.tl)("Filter.WeaponType"),filter:({filterValue:e})=>{if("grenadelauncher"===e)return e=>e.itemCategoryHashes.includes(153950757)||e.itemCategoryHashes.includes(-153950757);e=e.replace(/\s/g,"");const t=A[k[e]??e];if(!t)throw Error("Unknown weapon type "+e);return e=>e.itemCategoryHashes.includes(t)},fromItem:e=>{for(let t=e.itemCategoryHashes.length-1;t>=0;t--){const o=e.itemCategoryHashes[t],s=Object.entries(A).find((([e,t])=>t===o))?.[0];if(s)return"is:"+s}return""}},D=[w,S,x,P,C,H,{keywords:["common","uncommon","rare","legendary","exotic","white","green","blue","purple","yellow"],description:(0,a.tl)("Filter.RarityTier"),filter:({filterValue:e})=>{const t=y[e];if(!t)throw Error("Unknown rarity type "+e);return e=>e.tier===t}},{keywords:["special","primary","heavy"],description:(0,a.tl)("Filter.AmmoType"),destinyVersion:2,filter:({filterValue:e})=>{const t=v[e];return e=>e.ammoType===t}},{keywords:"cosmetic",description:(0,a.tl)("Filter.Cosmetic"),filter:()=>e=>l.Xc.includes(e.bucket.hash)},{keywords:["haslight","haspower"],description:(0,a.tl)("Filter.ContributePower"),filter:()=>e=>e.power>0},{keywords:"breaker",description:(0,a.tl)("Filter.Breaker"),format:"query",suggestions:[...Object.keys(c.st),"intrinsic"],destinyVersion:2,filter:({filterValue:e})=>{if("intrinsic"===e)return e=>!!e.breakerType;const t=c.st[e];if(!t)throw Error("Unknown breaker type "+e);const o=t.flatMap((e=>u[e]||[]));return e=>e.breakerType?t.includes(e.breakerType?.hash):e.itemCategoryHashes.some((e=>o.includes(e)))}},{keywords:"foundry",description:(0,a.tl)("Filter.Foundry"),format:"query",suggestions:["daito","hakke","omolon","suros","tex-mechanica","veist","any"],destinyVersion:2,filter:({filterValue:e})=>"any"===e?e=>!!e.foundry:t=>t.foundry===e},{keywords:"powerfulreward",description:(0,a.tl)("Filter.PowerfulReward"),destinyVersion:2,filter:()=>e=>e.pursuit?.rewards.some((e=>p.includes(e.itemHash)))},{keywords:"pinnaclereward",description:(0,a.tl)("Filter.PinnacleReward"),destinyVersion:2,filter:()=>e=>e.pursuit?.rewards.some((e=>c.T5.includes(e.itemHash)))},{keywords:["craftable"],description:(0,a.tl)("Filter.Craftable"),destinyVersion:2,filter:()=>e=>!!e.patternUnlockRecord},{keywords:["patternunlocked"],description:(0,a.tl)("Filter.PatternUnlocked"),destinyVersion:2,filter:()=>e=>e.patternUnlockRecord&&!(4&e.patternUnlockRecord.state)},{keywords:"source",description:(0,a.tl)("Filter.Event"),format:"query",suggestions:[...Object.keys(f.A),...Object.keys(g)],destinyVersion:2,filter:({filterValue:e})=>{if(f.A[e]){const t=f.A[e];return e=>e.source&&t.sourceHashes?.includes(e.source)||t.itemHashes?.includes(e.hash)}if(g[e]){const t=g[e];return e=>(0,r.Z)(e)===t}throw Error("Unknown item source "+e)}},{keywords:"focusable",description:(0,a.tl)("Filter.Focusable"),destinyVersion:2,filter:()=>{const e=Object.values(h);return t=>e.includes(t.hash)}}]},18076:(e,t,o)=>{o.d(t,{Ay:()=>l,bc:()=>i});var s=o(2290),n=o(58769),a=o(70055),r=o(97085);function i(e){return"inloadout:"+(0,r.Os)(e.name.toLowerCase())}function c(e){return[(0,r.Os)(e.name.toLowerCase()),...(0,n.VT)(e.name,e.notes)].map((e=>"inloadout:"+e))}const l=[{keywords:"inloadout",format:["simple","range","freeform"],suggestionsGenerator:({loadouts:e})=>e?.flatMap(c),description:(0,s.tl)("Filter.InLoadout"),filter:({lhs:e,filterValue:t,loadoutsByItem:o,compare:s})=>s?e=>s(o[e.id]?.length??0):"is"===e?e=>!!o[e.id]:e=>o[e.id]?.some((({loadout:e})=>e.name.toLowerCase().includes(t)||t.startsWith("#")&&!(0,a.C)(e)&&(0,n.VT)(e.notes).map((e=>e.toLowerCase())).includes(t)))},{keywords:"iningameloadout",format:"simple",description:(0,s.tl)("Filter.InInGameLoadout"),filter:({loadoutsByItem:e})=>t=>!!e[t.id]?.some((e=>(0,a.C)(e.loadout)))},{keywords:"indimloadout",format:"simple",description:(0,s.tl)("Filter.InDimLoadout"),filter:({loadoutsByItem:e})=>t=>!!e[t.id]?.some((e=>!(0,a.C)(e.loadout)))}]},40250:(e,t,o)=>{o.d(t,{A:()=>l,Q:()=>c});var s=o(2290),n=o(19668),a=o(42482),r=o(46279),i=o(90825);const c={...JSON.parse('{"redwar":1,"osiris":2,"warmind":3,"outlaw":4,"forge":5,"drifter":6,"opulence":7,"undying":8,"dawn":9,"worthy":10,"arrival":11,"hunt":12,"chosen":13,"splicer":14,"lost":15,"risen":16,"haunted":17,"plunder":18,"seraph":19,"defiance":20,"deep":21,"witch":22,"wish":23,"echoes":24,"revenant":25}'),next:i.S+1,current:i.S},l=[{keywords:"masterwork",description:(0,s.tl)("Filter.Masterwork"),format:["simple","query","range"],destinyVersion:2,suggestions:r.gy,filter:({lhs:e,filterValue:t,compare:o})=>{if("is"===e)return e=>e.masterwork;if(o)return e=>!(!e.masterworkInfo?.tier||!o(e.masterworkInfo.tier));const s=r.rx[t];return e=>!!e.masterworkInfo?.stats?.some((e=>"any"===t||e.isPrimary&&e.hash===s))}},{keywords:"energycapacity",description:(0,s.tl)("Filter.Energy"),format:"range",destinyVersion:2,filter:({compare:e})=>t=>t.energy&&e(t.energy.energyCapacity)},{keywords:"season",description:(0,s.tl)("Filter.Season"),format:"range",destinyVersion:2,overload:Object.fromEntries(Object.entries(c).reverse()),filter:({compare:e})=>t=>e((0,n.o)(t))},{keywords:["light","power"],description:(0,s.tl)("Filter.PowerLevel"),format:"range",overload:a.S,filter:({compare:e})=>t=>!(!t.power||!e(t.power))},{keywords:"powerlimit",description:(0,s.tl)("Filter.Deprecated"),format:"range",overload:a.S,destinyVersion:2,deprecated:!0,filter:({compare:e})=>()=>e(999990)}]},74987:(e,t,o)=>{o.d(t,{A:()=>u,R:()=>d});var s=o(2290),n=o(59816),a=o(4554),r=o(16283),i=o(72549),c=o(37593);const l=JSON.parse('{"games":[18179099,1429874803,3617209212],"monolithic":[461727014,1745945065,3100848450],"gardenofsalvation":[619391783,1750913471,2430770464],"solstice":[1257952519,3481131423,4160988416],"lost":[1261107326,1971919313,3686736741],"nightfall":[1425794805,3254175265,4240221838],"ironbanner":[1483496162,1950948038,3977496457],"trials":[2012491044,3408716127,3831031876],"gambit":[2140049750,3060237106,3088135833],"champion":[2519247511,3346875528,4049753919],"dawning":[2676329044,3809278479,3921485172]}'),d={keywords:"modslot",description:(0,s.tl)("Filter.ModSlot"),format:"query",suggestions:r.yD.concat(["any","none","activity"]),destinyVersion:2,filter:({filterValue:e})=>t=>{const o="activity"===e?(0,r.Ep)(t):(0,r.eL)(t),s=o?.map((e=>e.slotTag));return"none"===e&&!s||s&&("any"===e||"activity"===e||s.includes(e))},fromItem:e=>((0,r.Ep)(e)?.map((e=>"modslot:"+e.slotTag))??[]).join(" ")},u=[d,{keywords:"randomroll",description:(0,s.tl)("Filter.RandomRoll"),destinyVersion:2,filter:()=>e=>!(!e.bucket.inArmor||!e.energy)||!e.crafted&&e.sockets?.allSockets.some((e=>e.isPerk&&e.plugOptions.length>0&&e.hasRandomizedPlugItems))},{keywords:"curated",description:(0,s.tl)("Filter.Curated"),destinyVersion:2,filter:({d2Definitions:e})=>t=>(0,i.t9)(e,t)},{keywords:"shiny",description:(0,s.tl)("Filter.Shiny"),destinyVersion:2,filter:()=>r.Ir},{keywords:"extraperk",description:(0,s.tl)("Filter.ExtraPerk"),destinyVersion:2,filter:()=>e=>"Weapons"===e.bucket?.sort&&"Legendary"===e.tier&&(0,i.Cv)(e.sockets,4241085061).filter((e=>7906839===e.plugged?.plugDef.plug.plugCategoryHash&&e.hasRandomizedPlugItems)).some((e=>e.plugOptions.length>1))},{keywords:["shaded","hasshader"],description:(0,s.tl)("Filter.HasShader"),destinyVersion:2,filter:()=>e=>e.sockets?.allSockets.some((e=>!(!e.plugged||20!==e.plugged.plugDef.itemSubType||e.plugged.plugDef.hash===n.aV)))},{keywords:["ornamented","hasornament"],description:(0,s.tl)("Filter.HasOrnament"),destinyVersion:2,filter:()=>e=>e.sockets?.allSockets.some((e=>!(!e.plugged||21!==e.plugged.plugDef.itemSubType&&!e.plugged.plugDef.plug.plugCategoryIdentifier.match(/armor_skins_(titan|warlock|hunter)_(head|arms|chest|legs|class)/)||e.plugged.plugDef.hash===n.Wp||n.W.includes(e.plugged.plugDef.hash)||e.plugged.plugDef.itemCategoryHashes?.includes(1875601085))))},{keywords:"hasmod",description:(0,s.tl)("Filter.Mods.Y2"),destinyVersion:2,filter:()=>e=>e.sockets?.allSockets.some((e=>!(!e.plugged||n.jc.includes(e.plugged.plugDef.hash)||!e.plugged.plugDef.plug?.plugCategoryIdentifier.match(/(v400.weapon.mod_(guns|damage|magazine)|enhancements.)/)||!e.plugged.plugDef.perks.length||e.plugged.plugDef.plug.energyCost)))},{keywords:"hasdisabledmod",description:(0,s.tl)("Filter.DisabledModSlot"),destinyVersion:2,filter:()=>e=>!e.itemCategoryHashes.includes(50)&&e.sockets?.allSockets.some((e=>!(!e.plugged||!e.visibleInGame||e.plugged.enabled)))},{keywords:"modded",description:(0,s.tl)("Filter.Mods.Y3"),destinyVersion:2,filter:()=>e=>!!e.energy&&e.sockets?.allSockets.some((e=>!(!e.plugged||n.jc.includes(e.plugged.plugDef.hash)||!e.plugged.plugDef.plug?.plugCategoryIdentifier.match(/(v400.weapon.mod_(guns|damage|magazine)|enhancements.)/)||!e.plugged.plugDef.perks.length)))},{keywords:"armorintrinsic",format:["simple","query"],suggestions:["none"],description:(0,s.tl)("Filter.ArmorIntrinsic"),destinyVersion:2,filter:({filterValue:e,language:t})=>"armorintrinsic"===e?e=>!(e.isExotic||!(0,i.C2)(e)):"none"===e?e=>!(e.isExotic||!e.bucket.inArmor||(0,i.C2)(e)):o=>{const s=(0,i.C2)(o)?.plugged?.plugDef.displayProperties.name;return!(!s||!(0,a.Sx)(s,t).includes(e))}},{keywords:"holdsmod",description:(0,s.tl)("Filter.HoldsMod"),format:"query",suggestions:r.eb.concat(["any","none"]),destinyVersion:2,filter:({filterValue:e})=>t=>{const o=(0,r.eL)(t)?.flatMap((e=>e.compatibleModTags));return"none"===e&&!o||o&&("any"===e||o.includes(e))}},{keywords:"deepsight",description:(0,s.tl)("Filter.Deepsight"),format:["simple","query"],suggestions:["harmonizable","extractable"],destinyVersion:2,filter:({filterValue:e})=>t=>"harmonizable"===e?!!t.sockets?.allSockets.some((e=>3520412733===e.plugged?.plugDef.plug.plugCategoryHash&&e.visibleInGame)):!!(t.deepsightInfo&&t.patternUnlockRecord&&4&t.patternUnlockRecord.state)},{keywords:"memento",description:(0,s.tl)("Filter.Memento"),format:"query",destinyVersion:2,suggestions:["any","none",...Object.keys(l)],filter:({filterValue:e})=>{const t=l[e];return o=>o.sockets?.allSockets.some((s=>4181669225===s.plugged?.plugDef.plug.plugCategoryHash&&("any"===e||t?.includes(s.plugged.plugDef.hash))||"none"===e&&o.crafted&&3618704867===s.plugged?.plugDef.plug.plugCategoryHash))}},{keywords:"catalyst",description:(0,s.tl)("Filter.Catalyst"),format:"query",destinyVersion:2,suggestions:["complete","incomplete","missing"],filter:({filterValue:e})=>t=>{if(!t.catalystInfo)return!1;switch(e){case"missing":return!t.catalystInfo.unlocked;case"complete":return t.catalystInfo.complete;case"incomplete":return t.catalystInfo.unlocked&&!t.catalystInfo.complete;default:return!1}}},{keywords:"enhancedperk",description:(0,s.tl)("Filter.EnhancedPerk"),format:"range",destinyVersion:2,filter:({compare:e})=>t=>t.sockets&&e((0,i.xF)(t.sockets))},{keywords:"enhanceable",description:(0,s.tl)("Filter.Enhanceable"),destinyVersion:2,filter:()=>e=>!!((e.craftedInfo?.enhancementTier||0)<3&&e.sockets?.allSockets.some((e=>711031169===e.plugged?.plugDef.plug.plugCategoryHash)))},{keywords:"enhanced",description:(0,s.tl)("Filter.Enhanced"),destinyVersion:2,format:["simple","range"],filter:({lhs:e,compare:t})=>t?e=>t(e.craftedInfo?.enhancementTier||0):"is"===e?e=>"enhanced"===e.crafted&&(e.craftedInfo?.enhancementTier||0)>0:e=>!1},{keywords:"retiredperk",description:(0,s.tl)("Filter.RetiredPerk"),destinyVersion:2,filter:()=>e=>"Weapons"===e.bucket?.sort&&"Legendary"===e.tier&&(0,i.Cv)(e.sockets,4241085061).some((e=>e.plugOptions.some((e=>e.cannotCurrentlyRoll))))},{keywords:"adept",description:(0,s.tl)("Filter.IsAdept"),destinyVersion:2,filter:()=>e=>c.includes(e.hash)}]},72724:(e,t,o)=>{o.d(t,{yc:()=>M,Sc:()=>P,KV:()=>H,gS:()=>E});var s=o(30671),n=o(19654),a=o(62447),r=o(30698),i=o(51077),c=o(38654),l=o(62224),d=o(88428),u=o(54270),m=o(63150),h=(o(89293),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060),o(2290)),p=o(58769),f=o(27267),g=o(42482),y=o(4554),v=o(36871),b=o(11519),A=o(16283),k=o(97085);function w(e){return(0,v.oE)(Array.from(new Set(e)))}function I(e,t,o,s){for(const n of e.items){const e=(0,f.oH)(t,o??(0,b.tR)(),s?.id,n);if(3284755031===e?.bucket.hash)return e}}function S(e,t){return!t||(0,A.dO)(e.classType,t.classType)}const x=[{keywords:["name","exactname"],description:(0,h.tl)("LoadoutFilter.Name"),format:"freeform",suggestionsGenerator:({loadouts:e,selectedLoadoutsStore:t})=>e?.filter((e=>S(e,t))).map((e=>"exactname:"+(0,k.Os)(e.name.toLowerCase()))),filter:({filterValue:e,language:t,lhs:o})=>{const s=(0,y.H1)(e,t,"exactname"===o);return e=>s(e.name)}},{keywords:["subclass"],description:(0,h.tl)("LoadoutFilter.Subclass"),format:"freeform",suggestionsGenerator:({loadouts:e,allItems:t,d2Definitions:o,selectedLoadoutsStore:s})=>e&&o?w(e.flatMap((e=>{if(!S(e,s))return;const n=I(e,o,t,s);if(!n)return;const a=n.element?.displayProperties.name;return["subclass:"+(0,k.Os)(n.name.toLowerCase()),a&&"subclass:"+(0,k.Os)(a.toLowerCase())]}))):[],filter:({filterValue:e,language:t,allItems:o,d2Definitions:s,selectedLoadoutsStore:n})=>{const a=(0,y.H1)(e,t,!1);return e=>{if(!S(e,n))return!1;const t=s&&I(e,s,o,n);if(!t)return!1;if(a(t.name))return!0;const r=t.element?.displayProperties.name;return void 0!==r&&a(r)}}},{keywords:["contains","exactcontains"],description:(0,h.tl)("LoadoutFilter.Contains"),format:"freeform",suggestionsGenerator:({d2Definitions:e,allItems:t,loadouts:o,selectedLoadoutsStore:s})=>e&&o?w(o.flatMap((o=>{if(S(o,s))return[...o.items.map((o=>{const n=(0,f.oH)(e,t??(0,b.tR)(),s?.id,o);return n&&"exactcontains:"+(0,k.Os)(n.name.toLowerCase())})),...(0,f.aD)(e,o).map((e=>"exactcontains:"+(0,k.Os)(e.resolvedMod.displayProperties.name.toLowerCase())))]}))):[],filter:({filterValue:e,language:t,allItems:o,d2Definitions:s,selectedLoadoutsStore:n,lhs:a})=>{const r=(0,y.H1)(e,t,"exactcontains"===a);return e=>!(!s||!S(e,n))&&(e.items.some((e=>{const t=(0,f.oH)(s,o,n?.id,e);return t&&r(t?.name)}))||(0,f.aD)(s,e).some((e=>r(e.resolvedMod.displayProperties.name))))}},{keywords:"notes",description:(0,h.tl)("LoadoutFilter.Notes"),format:"freeform",filter:({filterValue:e,language:t})=>(e=(0,y.Sx)(e,t),o=>!(!o.notes||!(0,y.Sx)(o.notes,t).includes(e)))},{keywords:"keyword",description:(0,h.tl)("LoadoutFilter.PartialMatch"),format:"freeform",suggestionsGenerator:({loadouts:e,selectedLoadoutsStore:t})=>e?Array.from(new Set([...e.filter((e=>S(e,t))).flatMap((e=>(0,p.VT)(e.notes,e.notes)))])):[],filter:({filterValue:e,language:t})=>{e=(0,y.Sx)(e,t);const o=o=>(0,y.Sx)(o,t).includes(e);return e=>o(e.name)||!(!e.notes||!o(e.notes))}},{keywords:["light","power"],description:(0,h.tl)("LoadoutFilter.LoadoutLight"),format:"range",overload:g.S,filter:({compare:e,allItems:t,d2Definitions:o,selectedLoadoutsStore:s})=>o&&s&&t?n=>{if(!S(n,s))return!1;const a=function(e,t,o,s){const n=(0,v.x1)(e.items,(n=>{if(n.equip){const a=(0,f.oH)(t,o,s.id,n);if(a&&(a.bucket.inWeapons||a.bucket.inArmor)&&(0,A.fo)(a,s.id,e.classType,!0))return a}}));return Object.groupBy(n,(e=>e.bucket.hash))}(n,o,t,s);if(r=a,!(r[1498876634]?.length>0&&r[2465295065]?.length>0&&r[953998645]?.length>0&&r[3448274439]?.length>0&&r[3551918588]?.length>0&&r[14239492]?.length>0&&r[20886954]?.length>0&&r[1585787867]?.length>0))return!1;var r;const i=Math.floor((0,f.vD)(s,function(e){return[e[1498876634],e[2465295065],e[953998645],e[3448274439],e[3551918588],e[14239492],e[20886954],e[1585787867]].flat()}(a)));return!!e(i)}:()=>!1}];var T=o(40250);const N=[{keywords:"season",description:(0,h.tl)("LoadoutFilter.Season"),format:"range",destinyVersion:2,overload:Object.fromEntries(Object.entries(T.Q).reverse()),filter:({d2Definitions:e,compare:t})=>{const o=e?Object.values(e.Season.getAll()).sort(((e,t)=>t.seasonNumber-e.seasonNumber)).filter((e=>e.startDate)):[];return e=>t((0,f.Qx)(e,o)?.seasonNumber??-1)}}],C=[{keywords:"fashiononly",description:(0,h.tl)("LoadoutFilter.FashionOnly"),destinyVersion:2,filter:({d2Definitions:e})=>t=>(0,f.L1)(e,t)},{keywords:"modsonly",description:(0,h.tl)("LoadoutFilter.ModsOnly"),destinyVersion:2,filter:({d2Definitions:e})=>t=>(0,f.Nh)(e,t)},...x,...N],H=(0,m.Mz)(r.x,i.um,a.V0,c.v2,(function(e,t,o,s){return{loadouts:e,selectedLoadoutsStore:t,allItems:o,d2Definitions:s}})),P=(0,m.Mz)(s.Ot,n.md,H,(function(e,t,o){const s=R(e);return(0,l.t)(t,o,s)})),D=(0,m.Mz)(i.um,i.df,n.md,a.V0,c.v2,(function(e,t,o,s,n){return{selectedLoadoutsStore:e,loadoutsByItem:t,language:o,allItems:s,d2Definitions:n}})),M=(0,m.Mz)(P,D,d.Px),E=(0,m.Mz)(P,D,((e,t)=>o=>(0,d.JW)(o,e.filtersMap,t))),R=(0,u.A)((e=>(0,l.W)(e,C)))},44346:(e,t,o)=>{o.d(t,{Q:()=>n});var s=o(4554);function n(e,t,o){if(!e.length)return e=>!0;const n=(0,s.c4)(e,t);return e=>n.test(e.displayProperties.name)||n.test(e.displayProperties.description)||n.test(e.itemTypeDisplayName)||e.perks.some((e=>{const t=o.SandboxPerk.get(e.perkHash);return t&&(n.test(t.displayProperties.name)||n.test(t.displayProperties.description)||n.test(e.requirementDisplayString))}))}},42482:(e,t,o)=>{o.d(t,{S:()=>a});var s=o(90825);const n=s.Q[s.S],a={powerfloor:n.powerFloor,softcap:n.softCap,powerfulcap:n.powerfulCap,pinnaclecap:n.pinnacleCap}},97085:(e,t,o)=>{o.d(t,{Bm:()=>g,Os:()=>A,Pu:()=>k,Zl:()=>y,lu:()=>b,mA:()=>r});var s=o(69063);class n{gen;next;constructor(e){this.gen=e}peek(){if(!this.next){const e=this.gen.next();e.done||(this.next=e.value)}return this.next}pop(){if(this.next){const e=this.next;return this.next=void 0,e}const e=this.gen.next();if(!e.done)return e.value}}const a={implicit_and:{precedence:1,op:"and"},or:{precedence:2,op:"or"},and:{precedence:3,op:"and"}};function r(e){function t(s){const n=s.pop();if(!n)throw Error("expected an atom");switch(n.type){case"filter":{const e=n.keyword;return"not"===e?{op:"not",operand:{op:"filter",type:"is",args:n.args,startIndex:n.startIndex,length:n.length},startIndex:n.startIndex,length:n.length}:{op:"filter",type:e,args:n.args,startIndex:n.startIndex,length:n.length}}case"not":{const e=t(s);return{op:"not",operand:e,startIndex:n.startIndex,length:n.length+e.length}}case"(":{const e=o(s);if(e.length+=e.startIndex-n.startIndex,e.startIndex=n.startIndex,")"===s.peek()?.type){const t=s.pop();e.length+=t.length}return e}case"comment":{const e=n.content,o=t(s);return{...o,comment:e,startIndex:o.startIndex,length:o.length}}default:throw Error(`Unexpected token type, looking for an atom: ${JSON.stringify(n)}, ${e}`)}}function o(e,n=1){let r={op:"noop",startIndex:0,length:0};try{let s;for(r=t(e);(s=e.peek())&&")"!==s.type;){const t=a[s.type];if(!t)throw Error("Expected an operator, got "+JSON.stringify(s));if(t.precedence<n)break;e.pop();const c=o(e,t.precedence+1);if(i(t.op,r))r.operands.push(c),r.length+=c.length;else{const e=r.comment;delete r.comment,r={op:t.op,operands:i(t.op,c)?[r,...c.operands]:[r,c],startIndex:Math.min(c.startIndex,r.startIndex,s.startIndex),length:r.length+c.length+s.length},e&&(r.comment=e)}}}catch(e){r.error=(0,s.n)(e)}return r}const r=new n(b(e));try{if(!r.peek())return{op:"noop",startIndex:0,length:0}}catch(e){return{op:"noop",error:(0,s.n)(e),startIndex:0,length:0}}return o(r)}function i(e,t){return e===t.op}const c=/(\(\s*|\s*\))/y,l=/-\s*/y,d=/(not|\s+or|\s+and)\s+/y,u=/[a-z]+:/y,m=/[^\s()]+/y,h=/[^\s)]+/y,p=/\s+/y,f=/\/\*(.*?)\*\/\s*/y;function g(e){return`/* ${e} */`}class y extends Error{startIndex;length;constructor(e,t,o){super(e),this.startIndex=t,this.length=o,this.name="QueryLexerError"}}class v extends y{constructor(e,t,o){super(e,t,o),this.name="QueryLexerError"}}function*b(e){let t;e=(e=(e=e.toLowerCase()).replace(/[\u2018-\u201A]/g,"'")).replace(/[\u201C-\u201E]/g,'"');let o=0;const s=e=>o+=e.length,n=t=>{t.lastIndex=o;const n=t.exec(e);if(n){const e=n[0];if(e.length>0)return s(e),n.length>1?n[1]:e}},a=t=>{const n=o;s(t);let a="";for(;o<e.length;){const n=e[o];if(s(n),"\\"===n)if(o<e.length){const t=e[o];if('"'!==t&&"'"!==t&&"\\"!==t)throw new y("Unrecognized escape sequence \\"+t,o,o-o);a+=t,s(t)}else a+=n;else{if(n===t)return a;a+=n}}throw new v(`Unterminated quotes: |${e.slice(n)}| ${n}`,n,o-n)};for(;o<e.length;){const s=e[o],r=o;if(void 0!==(t=n(c)))yield{startIndex:r,length:o-r,type:t.trim()};else if('"'===s||"'"===s){const e=a(s);yield{startIndex:r,length:o-r,type:"filter",keyword:"keyword",args:e,quoted:!0}}else if(void 0!==(t=n(l)))yield{startIndex:r,length:o-r,type:"not"};else if(void 0!==(t=n(d)))yield{startIndex:r,length:o-r,type:t.trim()};else if(void 0!==(t=n(f)))yield{startIndex:r,length:o-r,type:"comment",content:t.trim()};else if(void 0!==(t=n(u))){const s=t.slice(0,t.length-1),i=e[o];let c="",l=!1;if('"'===i||"'"===i)try{l=!0,c=a(i)}catch(e){throw e instanceof v?new v(e.message,r,e.length+t.length):e}else{if(void 0===(t=n(m)))throw new y("missing keyword arguments for "+s,r,e.length-r);c=t}yield{startIndex:r,length:o-r,type:"filter",keyword:s,args:c,quoted:l}}else if(void 0!==(t=n(h)))yield{startIndex:r,length:o-r,type:"filter",keyword:"keyword",args:t};else{if(void 0===(t=n(p)))throw new y(`unrecognized tokens: |${e.slice(o)}| ${o}`,r,e.length-r);0!==r&&o!==e.length&&(yield{startIndex:r,length:o-r,type:"implicit_and"})}if(r===o)throw Error("bug: forgot to consume characters")}}function A(e){if(/[\s()"']/.test(e)){const t=e.includes('"')?"'":'"';return`${t}${e=(e=e.replaceAll("\\","\\\\")).replaceAll(t,"\\"+t)}${t}`}return e}function k(e,t=0){const o=(()=>{switch(e.op){case"filter":return"keyword"===e.type?A(e.args):`${e.type}:${A(e.args)}`;case"not":return"-"+k(e.operand,t+1);case"and":case"or":{const o=e.operands.map((e=>k(e,t+1))).join("and"!==e.op||e.operands.some((e=>"filter"===e.op&&"keyword"===e.type))?` ${e.op} `:" ");return 0===t?o:`(${o})`}case"noop":return""}})();return e.comment&&0===t?`${g(e.comment)} ${o}`:o}},62224:(e,t,o)=>{o.d(t,{W:()=>r,t:()=>i}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(72435),n=o(143),a=o(4554);function r(e,t){const o={},n={},a=[];for(const r of t)if(!r.destinyVersion||r.destinyVersion===e){a.push(r);const e=Array.isArray(r.keywords)?r.keywords:[r.keywords],t=(0,s.$)(r.format),i=t.some((e=>"simple"===e)),c=t.some((e=>"simple"!==e));for(const t of e)i&&(o[t]=r),c&&(n[t]=r)}return{isFilters:o,kvFilters:n,allFilters:a}}function i(e,t,o){const s=new Set;for(const e of o.allFilters)for(const o of(0,n.E)(e,t))s.add(o);return{filtersMap:o,suggestions:Array.from(s,(t=>({rawText:t,plainText:(0,a.Sx)(t,e)}))),language:e}}},46279:(e,t,o)=>{o.d(t,{$:()=>p,CZ:()=>d,EV:()=>r,G:()=>l,MT:()=>g,Se:()=>i,Xc:()=>v,a3:()=>c,gB:()=>a,gy:()=>h,rR:()=>m,rx:()=>u,wq:()=>y,zs:()=>f});var s=o(59343),n=o(59816);const a={0:void 0,1:"kinetic",2:"arc",3:"solar",4:"void",5:"raid",6:"stasis",7:"strand"},r=Object.values(a).filter((e=>e&&"raid"!==e)),i={...n.cO,total:n.Tt},c=[...Object.keys(i),"any"],l=n.BZ,d=Object.values(i),u={...n.Bl,...n.$,...i},m=[...Object.keys(n.Bl),...Object.keys(n.$)],h=[...Object.keys(u),"any"],p={highest:0,secondhighest:1,thirdhighest:2,fourthhighest:3,fifthhighest:4,sixthhighest:5},f=Object.keys(p),g=[...h,...f],y=[...n.cp,...s.PR],v=[3313201758,1107761855,4274335291,2025709351,3796357825,284967655,3683254069]},88428:(e,t,o)=>{o.d(t,{JW:()=>h,Px:()=>c});var s=o(36871),n=o(11071),a=o(95840),r=o(72435),i=o(97085);function c({filtersMap:{isFilters:e,kvFilters:t}},o){return r=>{if(!(r=r.trim().toLowerCase()).length)return n.vF;const c=(0,i.mA)(r),d=n=>{switch(n.op){case"and":{const e=(0,s.x1)(n.operands,d);return e.length===n.operands.length?t=>{for(const o of e)if(!o(t))return!1;return!0}:void 0}case"or":{const e=(0,s.x1)(n.operands,d);return e.length===n.operands.length?t=>{for(const o of e)if(o(t))return!0;return!1}:void 0}case"not":{const e=d(n.operand);return e&&(t=>!e(t))}case"filter":{const s=n.type,r=n.args;if("is"===s){const t=e[r];if(t)try{return t.filter({lhs:s,filterValue:r,...o})}catch(e){(0,a.PT)("search","internal error: filter construction threw exception",s,r,e)}return}{const e=t[s],n=e&&l(e,s,r,o);if(n)try{return n(o)}catch(e){(0,a.PT)("search","internal error: filter construction threw exception",s,r,e)}return}}case"noop":return}};return d(c)??(()=>!1)}}function l(e,t,o,s){for(const n of(0,r.$)(e.format))switch(n){case"simple":break;case"query":if(e.suggestions.includes(o))return s=>e.filter({lhs:t,filterValue:o,...s});break;case"freeform":return s=>e.filter({lhs:t,filterValue:o,...s});case"range":try{const s=m(o,e.overload);return o=>e.filter({lhs:t,filterValue:"",compare:s,...o})}catch{break}case"stat":{const[n,a]=o.split(":",2);try{const o=m(a,e.overload),r=e.validateStat?.(s);if(!r||r(n))return s=>e.filter({lhs:t,filterValue:n,compare:o,...s});break}catch{break}}}}const d=/^([<=>]{0,2})(\d+(?:\.\d+)?)$/,u=/^([<=>]{0,2})(\w+)$/;function m(e,t){if(!e)throw Error("Missing range comparison");const[o,s]=function(e,t){const o=e.match(u);if(o&&t&&o[2]in t)return[o[1],t[o[2]]];const s=e.match(d);if(s)return[s[1],parseFloat(s[2])];throw Error("Doesn't match our range comparison syntax, or invalid overload")}(e,t);switch(o){case"=":case"":return e=>void 0!==e&&e===s;case"<":return e=>void 0!==e&&e<s;case"<=":return e=>void 0!==e&&e<=s;case">":return e=>void 0!==e&&e>s;case">=":return e=>void 0!==e&&e>=s}throw Error("Unknown range operator "+o)}function h(e,t,o){let s=!0,n=!0,a=!0,r=e;try{const c=(0,i.mA)(e);p(c,t,o)?(("noop"===c.op||"filter"===c.op&&"keyword"===c.type)&&(a=!1),"or"===c.op&&c.operands.every((e=>"filter"===e.op&&"id"===e.type))&&(a=!1),r=(0,i.Pu)(c),n=r.length<=2048&&r.length>0):s=!1}catch{s=!1}return{valid:s,saveable:s&&n,saveInHistory:s&&n&&a,canonical:r}}function p(e,t,o){if(e.error)return!1;switch(e.op){case"filter":{const s=e.type,n=e.args;if("is"===s)return!!t.isFilters[n];{const e=t.kvFilters[s];return!(!e||!l(e,s,n,o))}}case"not":return p(e.operand,t,o);case"and":case"or":return e.operands.every((e=>p(e,t,o)));case"noop":return!0}}},69635:(e,t,o)=>{o.d(t,{A:()=>n,g:()=>s});const s={13646368:"lastwish",1081029832:"nightmare",1486918022:"gardenofsalvation",1703496685:"deepstonecrypt",2274750776:"vaultofglass",2207493141:"vowofthedisciple",2173937871:"kingsfall",3773173029:"artifice",2106680364:"rootofnightmares",2140235634:"crotasend",125494331:"salvationsedge"},n=[{slotTag:"legacy",compatibleModTags:["nightmare","gardenofsalvation","lastwish"],socketTypeHashes:[1540673283,3873071636,1936582325,4127539203,2836765131,1430586844,3267328333],compatiblePlugCategoryHashes:[1081029832,13646368,1486918022,2712224971,65589297],emptyModSocketHash:4153634494},{slotTag:"lastwish",compatibleModTags:["lastwish"],socketTypeHashes:[1444083081],compatiblePlugCategoryHashes:[13646368],emptyModSocketHash:1679876242},{slotTag:"gardenofsalvation",compatibleModTags:["gardenofsalvation"],socketTypeHashes:[1764679361],compatiblePlugCategoryHashes:[1486918022],emptyModSocketHash:706611068},{slotTag:"deepstonecrypt",compatibleModTags:["deepstonecrypt"],socketTypeHashes:[1269555732],compatiblePlugCategoryHashes:[1703496685],emptyModSocketHash:4055462131},{slotTag:"vaultofglass",compatibleModTags:["vaultofglass"],socketTypeHashes:[3372624220],compatiblePlugCategoryHashes:[2274750776],emptyModSocketHash:3738398030},{slotTag:"vowofthedisciple",compatibleModTags:["vowofthedisciple"],socketTypeHashes:[2381877427],compatiblePlugCategoryHashes:[2207493141],emptyModSocketHash:2447143568},{slotTag:"kingsfall",compatibleModTags:["kingsfall"],socketTypeHashes:[3344538838],compatiblePlugCategoryHashes:[2173937871],emptyModSocketHash:1728096240},{slotTag:"rootofnightmares",compatibleModTags:["rootofnightmares"],socketTypeHashes:[1956816524],compatiblePlugCategoryHashes:[2106680364],emptyModSocketHash:4144354978},{slotTag:"crotasend",compatibleModTags:["crotasend"],socketTypeHashes:[2804745e3],compatiblePlugCategoryHashes:[2140235634],emptyModSocketHash:717667840},{slotTag:"salvationsedge",compatibleModTags:["salvationsedge"],socketTypeHashes:[1252302330],compatiblePlugCategoryHashes:[125494331],emptyModSocketHash:4059283783},{slotTag:"nightmare",compatibleModTags:["nightmare"],socketTypeHashes:[2701840022],compatiblePlugCategoryHashes:[1081029832],emptyModSocketHash:1180997867},{slotTag:"artifice",compatibleModTags:["artifice"],socketTypeHashes:[1719555937,2770223926,3642670483,2831858578,4096670123,3136585661],compatiblePlugCategoryHashes:[3773173029],emptyModSocketHash:4173924323}]},143:(e,t,o)=>{o.d(t,{E:()=>a,K:()=>r});var s=o(72435);const n=["<",">","<=",">="];function a(e,t){return r(e,t,!1).flatMap((({keyword:e,ops:t})=>t?[e].concat(t.map((t=>`${e}${t}`))):[e]))}function r(e,t,o){if(e.deprecated)return[];const{suggestions:a,keywords:r}=e,c=Array.isArray(r)?r:[r],l=void 0===a?[]:a,d=[],u=(e,t=0)=>i(e).slice(t).flat().map((e=>({keyword:e}))),m=(e,t)=>{const o=i([...e,[]]),s=o.slice(0,e.length-1).flat().map((e=>({keyword:e}))),n=o[e.length-1].map((e=>({keyword:e,ops:t})));return s.concat(n)};for(const t of(0,s.$)(e.format))switch(t){case"simple":d.push(...u([o?["is"]:["is","not"],c],1));break;case"query":d.push(...u([c,l],o?1:0));break;case"freeform":d.push(...u([c,[]]));break;case"range":if(d.push(...m([c],n)),e.overload){const t=Object.keys(e.overload);d.push(...u([c,t],1)),o||d.push(...u([c,n.flatMap((e=>t.map((t=>`${e}${t}`))))],1))}break;case"stat":d.push(...m([c,l],n))}for(const o of e.suggestionsGenerator?.(t)??[])d.push("string"==typeof o?{keyword:o}:o);return d}function i(e){const t=[];for(let o=0;o<e.length;o++){const s=e[o],n=t.length?t.at(-1):void 0,a=s.flatMap((t=>n?n.map((s=>(s?`${s}${t}`:t)+(o===e.length-1?"":":"))):[t+":"]));t.push(a)}return t}},4554:(e,t,o)=>{o.d(t,{EF:()=>c,H1:()=>i,Sx:()=>r,c4:()=>a,qx:()=>l});var s=o(43788);const n=e=>s.Ki[e].latinBased;function a(e,t){return RegExp(`${n(t)?"\\b":""}${function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e)}`,"i")}const r=(e,t)=>function(e,t){return n(t)?e.normalize("NFD").replace(/\p{Diacritic}/gu,""):e}(e,t).toLowerCase();function i(e,t,o){const s=r(e,t);if(o)return e=>s===r(e,t);{const e=a(s,t);return o=>e.test(r(o,t))}}function c(e,t,o=!0){return!!t&&!!(t.name&&e(t.name)||o&&t.description&&e(t.description))}function l(e,t,o=!0){return!!t&&(Array.isArray(t)?t.some((t=>c(e,t,o))):c(e,t,o))}},24379:(e,t,o)=>{o.d(t,{Tj:()=>a,Yc:()=>r,lH:()=>n});var s=o(61898);const n=(0,s.createAction)("settings/SET",((e,t)=>({property:e,value:t})))(),a=(0,s.createAction)("settings/COLLAPSIBLE")(),r=(0,s.createAction)("settings/CHARACTER_ORDER")()},96852:(e,t,o)=>{o.d(t,{DT:()=>l,Fu:()=>r,xX:()=>d}),o(10131);var s=o(19654),n=o(57551),a=o(63150);const r=e=>(0,s.t2)(e).characterOrder,i=e=>(0,s.t2)(e).customCharacterSort;function c(e,t){switch(e){case"mostRecent":return e=>e.toSorted((0,n.fb)((0,n.VE)((e=>e.lastPlayed.getTime()))));case"mostRecentReverse":return e=>e.toSorted((0,n.VE)((e=>e.isVault?1/0:e.lastPlayed.getTime())));case"custom":{const e=t;return t=>t.toSorted((0,n.hn)(e,(e=>e.id)))}default:return e=>e.toSorted((0,n.VE)((e=>e.id)))}}const l=(0,a.Mz)(r,i,c),d=(0,a.Mz)(r,i,((e,t)=>c("mostRecentReverse"===e?"mostRecent":e,t)))},88312:(e,t,o)=>{o.d(t,{O:()=>i,i:()=>c});var s=o(19654),n=o(18374),a=o(8935),r=o(24379);function i(){const e=(0,a.wA)();return(0,n.useCallback)(((...t)=>e((0,r.lH)(...t))),[e])}function c(e){const t=(0,a.wA)();return[(0,a.d4)((0,s.A2)(e)),(0,n.useCallback)((o=>t((0,r.lH)(e,o))),[t,e])]}},37652:(e,t,o)=>{o.d(t,{j:()=>a});var s=o(24367),n=o(43788);const a={...s.L6,language:(0,n.eG)(),vaultArmorGroupingStyle:1,organizerColumnsWeapons:["icon","name","dmg","power","tag","wishList","archetype","perks","traits","originTrait","notes"],organizerColumnsArmor:["icon","name","power","energy","tag","modslot","intrinsics","perks","baseStats","customstat","notes"],organizerColumnsGhost:["icon","name","tag","perks","notes"]}},58062:(e,t,o)=>{o.d(t,{W:()=>i,s:()=>c});var s=o(19654),n=o(62447),a=o(31250),r=o(63150);const i=(0,r.Mz)((e=>(0,s.t2)(e).itemSortOrderCustom),(e=>(0,s.t2)(e).itemSortReversals),((e,t)=>({sortOrder:e||["primStat","name"],sortReversals:t||[]}))),c=(0,r.Mz)(i,n.Mj,((e,t)=>o=>(0,a.Ls)(o,e,t)))},73835:(e,t,o)=>{let s;o.d(t,{k:()=>s,z:()=>n});const n=new Promise((e=>s=e))},43774:(e,t,o)=>{o.d(t,{A:()=>A});var s=o(10544),n=o(40768),a=o(66265),r=o(2290),i=o(50507),c=o(23453),l=o(60440);const d={errorPanel:"ErrorPanel-m_errorPanel-uOyNdy1U",links:"ErrorPanel-m_links-p8R0ha5_ common-m_flexRow-ZPndn63a",errorCode:"ErrorPanel-m_errorCode-wj2HXLSm",socials:"ErrorPanel-m_socials-ysnf6hAY",timeline:"ErrorPanel-m_timeline-ZIl8kQaj"};var u,m,h,p,f,g,y=o(372),v=o(94518);function b(){return(0,s.A)("div",{className:d.socials},void 0,["https://mastodon.social/users/bungiehelp","https://mstdn.games/users/ThisIsDIM"].map((e=>(0,s.A)("div",{className:d.timeline},e,(0,s.A)("iframe",{allowFullScreen:!0,sandbox:"allow-top-navigation allow-scripts allow-popups allow-popups-to-escape-sandbox",src:`https://www.mastofeed.com/apiv2/feed?userurl=${encodeURIComponent(e)}&theme=dark&size=100&header=false&replies=false&boosts=true`})))))}function A({title:e,error:t,fallbackMessage:o,showSocials:A,showReload:k,frameless:w}){const I=t instanceof i.X?t.cause:void 0;A=!!A&&(!(t instanceof i.X)||t.showSocials);let S=t instanceof i.X?t.code:void 0;I&&(I instanceof n.TL?S=I.code:I instanceof n.F9&&(S=I.status));const x=I?.name||t?.name,T=t?.message||o,N=!(I instanceof n.TL||I instanceof n.F9),C=(0,v.jsxs)(v.Fragment,{children:[(0,s.A)("h2",{},void 0,e||(0,r.t)("ErrorBoundary.Title"),t&&(0,s.A)("span",{className:d.errorCode},void 0,x,void 0!==S&&" ",S)),(0,s.A)("p",{},void 0,T,I instanceof n.TL&&(0,s.A)("span",{},void 0," ",(0,r.t)(5===I.code?"ErrorPanel.SystemDown":"ErrorPanel.Description"))),w?(0,s.A)("p",{},void 0,(0,r.t)("ErrorPanel.ReadTheGuide")):(0,s.A)("div",{className:d.links},void 0,!N&&(u||(u=(0,s.A)(a.A,{href:y.ij,className:"dim-button"},void 0,(0,s.A)(l.z9,{icon:l.zk})," ",y.vt))),m||(m=(0,s.A)(a.A,{href:y.R4,className:"dim-button"},void 0,(0,s.A)(l.z9,{icon:l.zk})," ",y.JW)),(0,s.A)(a.A,{href:y.rT,className:"dim-button"},void 0,h||(h=(0,s.A)(l.z9,{icon:l.$y}))," ",(0,r.t)("ErrorPanel.Troubleshooting")),k&&(0,s.A)("div",{className:"dim-button",onClick:()=>window.location.reload()},void 0,p||(p=(0,s.A)(l.z9,{icon:l.he}))," Reload"))]});return w?C:(0,s.A)("div",{},void 0,(0,s.A)("div",{className:d.errorPanel},void 0,C),A&&(f||(f=(0,s.A)(c.A,{}))),A&&(g||(g=(0,s.A)(b,{}))))}},49662:(e,t,o)=>{o.d(t,{KX:()=>n,MH:()=>m,Ri:()=>a,SR:()=>r,VK:()=>c,Zi:()=>i,lP:()=>d,pS:()=>u,y7:()=>l});var s=o(61898);const n=(0,s.createAction)("shell/PHONE_PORTRAIT")(),a=(0,s.createAction)("shell/SEARCH_QUERY",((e,t=!0)=>({query:e,updateVersion:t})))(),r=(0,s.createAction)("shell/TOGGLE_SEARCH_QUERY_COMPONENT")(),i=(0,s.createAction)("shell/TOGGLE_SEARCH_RESULTS",(e=>e))(),c=(0,s.createAction)("shell/SET_ROUTER_LOCATION",(e=>e))(),l=(0,s.createAction)("shell/RESET_ROUTER_LOCATION")(),d=(0,s.createAction)("shell/BUNGIE_ALERTS")(),u=(0,s.createAction)("shell/LOADING")(),m=(0,s.createAction)("shell/LOADING_DONE")()},47490:(e,t,o)=>{function s(e){return Math.min(100,Math.floor(1e3*e/10))+"%"}function n(e){return Math.min(100,Math.floor(1e3*e)/10).toLocaleString()+"%"}function a(e,t="background-color"){let o=0;return e<0?{[t]:"white"}:(e<=85?o=0:e<=90?o=20:e<=95?o=60:e<100?o=120:e>=100&&(o=190),{[t]:`hsla(${o},65%,50%, 1)`})}o.d(t,{KN:()=>s,oU:()=>a,tw:()=>n})},1458:(e,t,o)=>{o.d(t,{A:()=>i});var s=o(10544),n=o(41735),a=o(13526);function r({icon:e,className:t,title:o,spinning:r,ariaHidden:i}){return"string"==typeof e?(0,s.A)("span",{className:(0,a.A)(e,"app-icon",t,r&&"fa-spin"),title:o,"aria-hidden":i}):(0,s.A)(n.g,{className:(0,a.A)("app-icon",t),"aria-hidden":i,icon:e,title:o,spin:r})}const i=(0,o(18374).memo)(r)},77963:(e,t,o)=>{o.d(t,{F:()=>s});const s=(e,t,o,s)=>({iconName:"dim"+e,prefix:"dim",icon:[t,o,[],"",s]})},60440:(e,t,o)=>{o.d(t,{z9:()=>Je,Xv:()=>U,Az:()=>p,Hu:()=>v,hR:()=>A,hj:()=>M,ut:()=>me,DE:()=>q,b9:()=>qe,nJ:()=>H,fy:()=>fe,WO:()=>pe,kZ:()=>P,iu:()=>Oe,IZ:()=>O,ZT:()=>T,sn:()=>a,K1:()=>r,FI:()=>i,Lx:()=>Qe,IJ:()=>X,F4:()=>Y,Ue:()=>z,vm:()=>j,pO:()=>Ne,wx:()=>Ce,yq:()=>k,xB:()=>V,S$:()=>Pe,e6:()=>w,SG:()=>I,rQ:()=>S,a$:()=>De,_2:()=>ze,XV:()=>xe,tU:()=>He,zp:()=>Me,A:()=>Re,Vz:()=>Fe,yO:()=>le,IT:()=>ce,xb:()=>Ie,Gt:()=>Be,jk:()=>G,fK:()=>Se,Nf:()=>x,Gi:()=>je,Ad:()=>Ee,Ij:()=>he,PJ:()=>_e,DO:()=>ke,Rz:()=>Ue,O1:()=>Ae,$y:()=>Q,wy:()=>c,G:()=>Z,LK:()=>Te,Kl:()=>Ge,EB:()=>E,hz:()=>R,zk:()=>ge,gw:()=>F,ro:()=>b,MR:()=>W,cm:()=>B,R0:()=>$,DJ:()=>y,OM:()=>ee,WW:()=>_,Xj:()=>d,Sh:()=>l,Yp:()=>ve,he:()=>ae,$w:()=>g,DL:()=>We,qc:()=>K,AO:()=>D,By:()=>C,b0:()=>u,NU:()=>te,Jl:()=>oe,rh:()=>J,hv:()=>Ke,ue:()=>re,GN:()=>Ze,wv:()=>se,_G:()=>ne,vw:()=>we,et:()=>ie,pu:()=>ue,ms:()=>de,_u:()=>m,Mt:()=>Le,vf:()=>Ve,_X:()=>ye,RQ:()=>L,YD:()=>N,l_:()=>f,T3:()=>be,XQ:()=>h});var s=o(1458),n=o(77963);const a=(0,n.F)("Engram",100,100,"M33.62 23.176h32.76l9.412-13.48L50 1.316l-25.79 8.38 9.41 13.48zm37.985 3.742l10.14 31.202 15.052 4.37V35.317L80.96 13.52l-9.354 13.398zM50 77.984l25.436-18.48-9.715-29.902H34.28l-9.715 29.903L50 77.985zm3.214 5.61v15.088l25.71-8.353 15.8-21.75L79.83 64.25 53.21 83.59zm-6.427 0L20.172 64.256 5.278 68.58l15.8 21.75 25.71 8.352V83.594zm-18.39-56.676l-9.357-13.4-15.836 21.8V62.49l15.053-4.37 10.14-31.202z"),r=(0,n.F)("Enhanced",32,32,"m0 17.25h7l0 2h4c1 0 3 1 3.75 2v10.75zm32 0h-7l0 2h-4c-1 0-3 1-3.75 2v10.75zm-32-2.5h7l0-2h4c1 0 3-1 3.75-2v-10.75zm32 0h-7l0-2h-4c-1 0-3-1-3.75-2v-10.75z"),i=(0,n.F)("Epic",648,751,"m588.396 0h-529.625c-42.928 0-58.771 15.842-58.771 58.79v518.235c0 4.86.196 9.375.625 13.557.978 9.375 1.162 18.459 9.88 28.802.852 1.013 9.754 7.637 9.754 7.637 4.788 2.348 8.057 4.077 13.457 6.251l260.795 109.264c13.538 6.206 19.2 8.625 29.033 8.43v.002h.077v-.002c9.834.195 15.495-2.224 29.035-8.43l260.793-109.264c5.402-2.174 8.67-3.903 13.459-6.251 0 0 8.901-6.624 9.752-7.637 8.719-10.343 8.903-19.427 9.88-28.802.429-4.182.627-8.697.627-13.557v-518.235c0-42.948-15.844-58.79-58.771-58.79m-35.474 521.016-.12 1.196-.119 1.314-.24 1.196-.357 1.194-.232 1.076-.36 1.196-.477 1.076-.479.958-.471 1.074-.597.956-.597.958-.711.956-.599.956-.709.836-.837.837-.711.717-.955.838-.83.717-.956.717-.95.59-.949.717-1.076.597-1.069.479-1.068.597-1.196.479-1.188.479-1.188.357-1.188.36-1.076.357-1.188.24-1.07.239-1.068.239-1.196.24-1.189.118-1.068.12-1.196.12-1.307.12-1.189.119h-4.999l-1.189-.119h-1.307l-1.189-.12-1.195-.12-1.308-.12-1.188-.238-1.188-.12-1.196-.239-1.189-.239-1.188-.24-1.188-.238-1.195-.358-1.069-.24-1.188-.358-1.189-.359-1.075-.479-1.188-.358-1.069-.358-1.19-.478-1.074-.479-1.07-.479-1.069-.589-1.075-.479-1.069-.598-.949-.596-1.076-.599-.95-.597-.956-.598-1.898-1.434-.956-.718-.951-.717-.836-.717-.949-.836.717-.956.829-.838.718-.957.83-.956.718-.836.709-.956.837-.957.71-.836.837-.956.711-.838.836-.956.71-.957.718-.836.829-.956.717-.957.83-.836.717-.956.949.717 1.07.717.956.718 1.069.717.956.597 1.069.716.948.599 1.078.477.948.599 1.069.479 1.076.477 1.068.479 1.071.358 1.074.478 1.188.358 1.19.359 1.068.359 1.196.24 2.376.477 1.308.12 1.194.239h1.19l1.306.118h2.616l1.308-.118 1.196-.239 1.068-.24 1.07-.239.956-.358.83-.478.956-.717.71-.837.478-.958.36-1.074.118-1.196v-.239l-.118-1.435-.478-1.196-.599-.836-.829-.717-.958-.717-.949-.478-1.068-.478-1.196-.479-1.427-.596-.83-.24-.948-.239-1.076-.36-1.07-.238-1.188-.359-1.196-.239-1.306-.358-1.19-.239-1.308-.359-1.188-.238-1.196-.359-1.186-.24-1.19-.359-1.076-.357-1.186-.24-1.071-.359-1.068-.358-1.076-.359-1.308-.479-1.188-.478-1.189-.478-1.195-.478-1.068-.598-1.189-.597-.956-.597-1.07-.598-.949-.717-.956-.597-.829-.719-.836-.836-.831-.837-.717-.838-.71-.836-.598-.836-.591-.957-.597-1.075-.479-.829-.359-.957-.35-1.076-.359-.956-.24-1.196-.239-1.076-.12-1.195-.118-1.196-.12-1.313v-2.751l.12-1.195.118-1.076.12-1.196.239-1.074.24-1.076.359-1.078.238-1.074.471-1.076.479-1.076.477-1.075.592-1.077.596-1.075.711-.957.718-.956.83-.956.836-.836.83-.958.956-.837.83-.597.956-.718.95-.717.948-.597 1.076-.598 1.07-.478 1.068-.598 1.076-.477 1.188-.36 1.188-.477 1.076-.359.949-.24 1.071-.239 1.074-.238 1.188-.239 1.07-.24 1.188-.119 1.196-.12 1.188-.12 1.188-.118h5.118l1.308.118 1.308.12h1.188l1.315.12 1.188.239 1.308.12 1.189.239 1.076.238 1.188.239 1.188.24 1.07.239 1.194.358 1.07.359 1.069.24 1.195.477 1.069.359 1.068.477 1.069.479 1.195.479 1.069.597.95.479 1.076.597 1.069.597.949.599 1.075.717.951.596.956.719.949.717.948.716-.709.958-.598.956-.71.956-.718.957-.709 1.075-.599.956-.717.957-.711.956-.596.956-.712.957-.716.956-.598.956-.71 1.076-.718.956-.71.956-.597.956-.711.956-.956-.716-1.068-.598-.95-.598-.956-.717-1.068-.477-.958-.599-1.068-.479-.949-.477-1.076-.479-.949-.477-1.068-.359-.956-.478-1.31-.358-1.188-.36-1.188-.357-1.196-.24-1.188-.239-1.188-.24-1.188-.12-1.196-.118-1.068-.12h-2.616l-1.308.238-1.196.24-1.068.239-.949.479-.837.477-1.07.957-.717 1.076-.469 1.076-.122 1.195v.24l.122 1.553.589 1.315.479.717.829.838 1.076.597.949.597 1.188.479 1.315.479 1.428.477.949.239.95.358 1.076.239 1.068.359 1.188.24 1.316.358 1.308.358 1.308.36 1.306.238 1.188.359 1.308.359 1.196.238 1.19.359 1.188.359 1.068.358 1.196.359 1.069.359 1.068.358 1.315.471 1.188.599 1.188.477 1.189.597 1.076.599 1.069.597.948.598.956.717.951.597.949.838.956.836.83.957.836.836.71.957.718 1.075.59.956.599 1.077.477.956.359 1.075.352 1.076.239 1.076.477 2.392.12 1.195.12 1.314v2.87zm-82.269 23.902h-69.38v-87.011h68.782v19.725h-46.057v14.224h41.416v18.522h-41.416v14.821h46.655zm-86.954 0h-22.965v-51.452l-.596.956-.711 1.084-.598.956-.71.957-.597 1.075-.719.957-.589.956-.599 1.083-.709.956-.599.956-.716.957-.59 1.083-.718.956-.59.956-.599 1.076-.717.962-.591.958-.717 1.074-.59.958-.717.956-.591 1.082-.598.958-.716.956-.591 1.076-.717.962-.591.956-.717.958-.599 1.074-.591.963-.716.957-.59 1.076-.718.956-.597.956-.711 1.084-.597.956h-.472l-.716-1.076-.599-.964-.71-1.076-.598-.956-.71-1.074-.598-.964-.709-1.076-.599-.958-.717-1.074-.591-.956-.717-1.084-.589-.956-.718-1.076-.598-.956-.71-1.083-.598-.956-.71-1.076-.717-.956-.597-1.083-.711-.956-.597-1.076-.711-.956-.597-1.084-.711-.956-.597-1.076-.718-.956-.59-1.076-.718-.964-.59-1.074-.718-.958-.597-1.076-.709-.954-.6-1.084-.71-.956v51.212h-22.613v-87.011h24.4l.591.957.597 1.075.709.949.599 1.076.597.956.591 1.078.597.948.712 1.077.596.956.599.956.591 1.068.597.957.711 1.075.597.957.597 1.068.591.956.717.956.599 1.071.589.955.598 1.076.592.957.717 1.068.597.957.59 1.075.598.949.591.956.717 1.076.598.958.59 1.076.598.949.59 1.076.719.956.597 1.068.591.957.597-.957.598-1.068.71-.956.596-1.076.592-.949.598-1.076.71-.958.598-1.076.598-.956.59-.949.717-1.075.591-.957.598-1.068.596-.957.711-1.076.597-.955.599-1.071.589-.956.6-.956.71-1.068.597-.957.597-1.075.592-.957.716-1.068.592-.956.596-.956.599-1.077.709-.948.599-1.078.589-.956.599-1.076.717-.949.591-1.075.597-.957h24.392zm-139.266-35.855-.359-1.083-.471-1.196-.478-1.076-.359-1.082-.471-1.076-.477-1.196-.36-1.083-.479-1.076-.469-1.075-.36-1.082-.479-1.196-.35-1.076-.479-1.083-.479-1.076-.357-1.076-.472-1.201-.477-1.078-.359-1.074-.479-1.083-.47-1.196-.359-1.083-.479-1.076-.47 1.076-.358 1.083-.478 1.196-.479 1.083-.352 1.074-.477 1.078-.479 1.201-.471 1.076-.36 1.076-.477 1.083-.479 1.076-.352 1.196-.477 1.082-.479 1.075-.357 1.076-.472 1.083-.479 1.196-.477 1.076-.351 1.082-.478 1.076-.479 1.196-.359 1.083-.47 1.076h20.109zm38.56 35.855h-24.518l-.472-1.078-.358-1.076-.478-1.076-.478-1.194-.352-1.07-.478-1.074-.478-1.076-.352-1.076-.478-1.076-.478-1.076-.358-1.076-.472-1.195-.478-1.076-.359-1.076-.479-1.076h-34.152l-.47 1.076-.359 1.076-.479 1.076-.477 1.195-.352 1.076-.477 1.076-.479 1.076-.359 1.076-.47 1.076-.479 1.074-.359 1.07-.472 1.194-.477 1.076-.359 1.076-.478 1.078h-24.034l.471-1.078.479-1.076.477-1.076.472-1.194.359-1.07.478-1.074.478-1.076.47-1.076.479-1.076.479-1.196.47-1.076.479-1.075.357-1.076.479-1.076.471-1.076.478-1.195.478-1.076.472-1.077.478-1.075.478-1.076.358-1.076.471-1.196.479-1.074.478-1.076.471-1.076.957-2.152.471-1.196.359-1.075.478-1.076.478-1.076.472-1.076.477-1.076.477-1.195.472-1.076.478-1.076.358-1.076.479-1.074.471-1.076.478-1.196.479-1.076.471-1.076.477-1.076.479-1.075.358-1.077.472-1.068.478-1.196.477-1.075.472-1.077.477-1.076.479-1.075.471-1.076.358-1.196.479-1.075.477-1.076.472-1.076.479-1.076.477-1.076.472-1.196.478-1.074.358-1.076.478-1.076.472-1.076.477-1.076.479-1.195.47-1.076.958-2.152.35-1.075.479-1.077.479-1.195.478-1.076.471-1.076.479-1.076.477-1.076.471-1.074.36-1.196.477-1.076.479-1.076.47-1.076h22.016l.478 1.076.478 1.076.472 1.076.478 1.196.358 1.074.471 1.076.479 1.076.477 1.076.479 1.076.47 1.195.479 1.077.479 1.075.35 1.076.958 2.152.478 1.195.471 1.076.477 1.076.479 1.076.471 1.076.358 1.074.478 1.196.472 1.076.478 1.076.478 1.076.478 1.076.471 1.075.477 1.196.36 1.076.471 1.075.477 1.076.479 1.077.479 1.075.47 1.196.479 1.068.477 1.077.352 1.075.478 1.076.478 1.076.472 1.076.478 1.196.478 1.076.479 1.074.471 1.076.358 1.076.478 1.076.472 1.195.477 1.076.479 1.076.477 1.076.472 1.076.479 1.075.357 1.196.472 1.076.477 1.076.479 1.076.471 1.076.478 1.074.479 1.196.479 1.076.35 1.076.479 1.075.479 1.077.47 1.076.478 1.195.478 1.076.478 1.076.47 1.076.36 1.075.479 1.076.471 1.196.954 2.152.472 1.076.478 1.074.478 1.07.36 1.194.47 1.076.478 1.076zm-105.444-11.112-.956.717-.831.599-.956.717-.949.597-.95.718-.956.597-.949.599-1.076.596-1.069.598-1.07.598-1.074.47-1.07.599-1.188.477-1.068.479-1.196.477-1.068.479-1.07.359-1.075.358-1.069.36-1.188.358-1.068.36-1.196.238-1.07.239-1.188.239-1.194.238-1.19.12-1.308.12-1.188.12-1.308.119-1.196.12-1.306.119h-5.12l-1.188-.119-1.308-.12-1.188-.119-1.188-.12-1.196-.12-1.188-.238-1.19-.24-1.068-.239-1.194-.239-1.07-.358-1.188-.239-1.076-.36-1.069-.477-1.069-.359-1.187-.479-1.076-.477-1.069-.477-1.068-.479-1.078-.597-.948-.592-1.069-.598-.956-.598-.949-.596-.956-.719-.95-.716-.95-.717-.836-.718-.83-.717-.837-.837-.829-.716-.838-.838-.829-.837-.717-.836-.711-.956-.717-.837-.598-.956-.71-.958-.596-.954-.592-.958-.598-1.076-.597-.956-.471-1.076-.478-1.076-.478-1.076-.472-1.074-.358-.956-.479-1.078-.239-1.076-.352-1.074-.238-1.195-.359-1.077-.239-1.195-.12-1.076-.24-1.196-.117-1.075-.121-1.196-.112-1.196-.119-1.194v-3.946l.119-1.314v-1.195l.112-1.196.121-1.315.239-1.188.118-1.196.239-1.076.359-1.194.24-1.196.35-1.076.359-1.195.359-1.076.478-1.196.472-1.075.478-1.076.478-1.076.471-1.076.597-1.076.598-.956.592-.957.596-.956.598-.956.71-.956.717-.956.711-.956.717-.839.829-.836.718-.837.83-.835.836-.838.83-.716.956-.838.83-.717.95-.717.956-.598.949-.717.957-.597.948-.598 1.07-.598 1.076-.598 1.068-.597 1.069-.479 1.075-.477 1.189-.599.949-.357 1.188-.36 1.078-.477 1.068-.24 1.068-.359 1.194-.239 1.07-.358 1.188-.239 1.189-.12 1.195-.239 1.189-.12 1.187-.118 1.189-.12 1.196-.12h5.111l1.316.12 1.308.12h1.188l1.188.118 1.308.24 1.076.119 1.188.24 1.189.239 1.075.238 1.068.239 1.07.24 1.076.359 1.068.238.95.359 1.076.359 1.069.477 1.068.479 1.076.478 1.069.598 1.068.478.958.598 1.068.597.949.597 1.076.599.949.716.95.599.956.717.949.717.956.836.949.718-.717.957-.829.836-.718.956-.829.956-.717.957-.711.836-.837.956-.71.956-.717.839-.831.956-.716.956-.83.956-.718.837-.709.956-.836.956-.712.956-.836.838-.711.956-.956-.718-.949-.836-.956-.598-.949-.718-.95-.597-.956-.599-.95-.596-1.068-.598-.956-.478-.95-.478-.956-.359-1.069-.359-1.068-.358-1.076-.239-1.188-.24-1.188-.239-1.189-.118-1.308-.12-1.315-.119h-2.496l-1.188.119-1.076.12-1.188.238-1.069.24-1.076.358-1.068.358-1.07.479-1.069.477-.956.598-.948.598-.957.599-.83.716-.837.717-.829.718-.718.836-.829.837-.717.956-.592.837-.598.956-.589 1.076-.599.956-.477 1.076-.359 1.076-.472 1.076-.358 1.195-.239 1.189-.239 1.075-.24 1.316-.118 1.195-.112 1.194v2.751l.112 1.195.118 1.076.12 1.196.239 1.074.24 1.078.239 1.074.358 1.076.352.956.479 1.195.477 1.077.591 1.076 1.195 1.912.71.958.718.836.829.837.719.836.828.717.957.718.949.717.948.597.956.598 1.071.478 1.068.479 1.075.477 1.189.359 1.188.359 1.196.24 1.188.238 1.188.119 1.308.12h2.735l1.316-.12 1.308-.119 1.188-.12 1.188-.24 1.196-.238 1.188-.358 1.068-.24 1.07-.477.956-.479 1.068-.478.836-.478.951-.598v-10.878h-17.376v-17.445h39.272v38.843zm-38.275-272.769v86.798h54.447v39.897h-98.245v-287.935h97.429v39.896h-53.631v81.448h51.578v39.896zm369.434 8.643h42.983v67.045c0 35.791-17.599 53.475-53.215 53.475h-21.699c-35.608 0-53.216-17.684-53.216-53.475v-185.922c0-35.79 17.608-53.475 53.216-53.475h21.292c35.607 0 52.8 17.277 52.8 53.06v58.827h-42.977v-56.359c0-11.517-5.324-16.861-16.377-16.861h-7.37c-11.46 0-16.784 5.344-16.784 16.861v181.816c0 11.519 5.324 16.863 16.784 16.863h8.192c11.047 0 16.371-5.344 16.371-16.863zm-152.1 118.052v-287.936h43.806v287.936zm-63.559-160.01v-72.398c0-11.516-5.316-16.861-16.369-16.861h-18.015v106.128h18.015c11.053 0 16.369-5.351 16.369-16.869zm-9.414-127.926c35.614 0 53.214 17.686 53.214 53.475v76.512c0 35.783-17.6 53.467-53.214 53.467h-24.97v104.482h-43.8v-287.936zm-84.83 548.287h250.739l-127.982 42.206z"),c=(0,n.F)("Hunter",32,32,"m9.055 10.446 6.945-.023-6.948 10.451 6.948-.024-7.412 11.15h-7.045l7.036-10.428h-7.036l7.032-10.422h-7.032l7.507-11.126 6.95-.024zm13.89 0-6.945-10.446 6.95.024 7.507 11.126h-7.032l7.032 10.422h-7.036l7.036 10.428h-7.045l-7.412-11.15 6.948.024-6.948-10.451z"),l=(0,n.F)("Power",32,32,"M16 32l-7.245-8.755-8.755-7.245 8.755-7.321 7.245-8.679 7.245 8.679 8.755 7.321-8.755 7.245zM9.811 16l3.396 2.792 2.792 3.396 2.792-3.396 3.396-2.792-3.396-2.868-2.792-3.321-2.792 3.321z"),d=(0,n.F)("Power",32,32,"M22.962 8.863c-2.628-2.576-4.988-5.407-7.045-8.458l-0.123-0.193c-2.234 3.193-4.556 5.993-7.083 8.592l0.015-0.016c-2.645 2.742-5.496 5.245-8.542 7.499l-0.184 0.13c3.341 2.271 6.262 4.682 8.943 7.335l-0.005-0.005c2.459 2.429 4.71 5.055 6.731 7.858l0.125 0.182c4.324-6.341 9.724-11.606 15.986-15.649l0.219-0.133c-3.401-2.168-6.359-4.524-9.048-7.153l0.010 0.010zM18.761 18.998c-1.036 1.024-1.971 2.145-2.792 3.35l-0.050 0.078c-0.884-1.215-1.8-2.285-2.793-3.279l0 0c-1.090-1.075-2.28-2.055-3.552-2.923l-0.088-0.057c1.326-0.969 2.495-1.988 3.571-3.097l0.007-0.007c1.010-1.051 1.947-2.191 2.794-3.399l0.061-0.092c0.882 1.32 1.842 2.471 2.912 3.51l0.005 0.005c1.089 1.072 2.293 2.034 3.589 2.864l0.088 0.053c-1.412 0.905-2.641 1.891-3.754 2.994l0.002-0.002z"),u=(0,n.F)("Shaped",32,32,"m0 17.616h6.517c5.314 0 5.486 5.073 5.486 7.192l-.003 3.288h2.53v3.904h-14.53zm31.997 0h-6.517c-5.314 0-5.486 5.073-5.486 7.192l.003 3.288h-2.53v3.904h14.53zm-31.994-3.232h6.517c5.314 0 5.486-5.073 5.486-7.192l-.003-3.288h2.53v-3.904h-14.53zm31.997 0h-6.517c-5.314 0-5.486-5.073-5.486-7.192l.003-3.288h-2.53v-3.904h14.53z"),m=(0,n.F)("Titan",32,32,"m14.839 15.979-13.178-7.609v15.218zm2.322 0 13.178 7.609v-15.218zm5.485-12.175-6.589-3.804-13.178 7.609 13.178 7.609 13.179-7.609zm0 16.784-6.589-3.805-13.178 7.609 13.178 7.608 13.179-7.608-6.59-3.805z"),h=(0,n.F)("Warlock",32,32,"m5.442 23.986 7.255-11.65-2.71-4.322-9.987 15.972zm5.986 0 4.28-6.849-2.717-4.333-6.992 11.182zm7.83-11.611 7.316 11.611h5.426l-10.015-15.972zm-7.26 11.611h8.004l-4.008-6.392zm6.991-11.182-2.703 4.324 4.302 6.858h5.413zm-5.707-.459 2.71-4.331 2.71 4.331-2.703 4.326z"),p="fas fa-archive",f="fas fa-arrow-circle-up",g="fas fa-arrow-right",y=g,v="fas fa-ban",b="fas fa-bars",A="fas fa-bolt",k="fas fa-calculator",w="fas fa-check",I="fas fa-check-circle",S="fas fa-check-square",x="far fa-square",T=I,N="far fa-check-circle",C="fas fa-cog",H="fas fa-copy",P="fas fa-file-export",D="fas fa-envelope",M="fas fa-eraser",E="fas fa-level-up-alt",R="fas fa-lock",L="fas fa-unlock",V="fas fa-caret-down",q=V,O="fas fa-pencil-alt",_="fas fa-plus",B="fas fa-minus",j="fas fa-angle-right",z="fas fa-angle-left",F="fas fa-angle-double-left",W="fas fa-angle-double-right",U="fas fa-plus-circle",G="fas fa-plus-square",Q="far fa-question-circle",Z="fas fa-info-circle",K="fas fa-search",J="fas fa-sign-out-alt",X="fas fa-chevron-down",Y="fas fa-chevron-up",$="fas fa-arrow-down",ee="fas fa-arrow-up",te="fas fa-share",oe="fas fa-shopping-cart",se="fas fa-star",ne="far fa-star",ae="fas fa-sync",re="fas fa-table",ie="fas fa-tag",ce="fas fa-list",le="fas fa-th",de="fas fa-thumbs-up",ue="fas fa-thumbs-down",me="fas fa-times",he="fas fa-window-close",pe="fas fa-times-circle",fe="far fa-trash-alt",ge="fab fa-mastodon",ye="fas fa-undo",ve="fas fa-redo",be="fas fa-file-import",Ae="fas fa-heart",ke="fas fa-globe",we="fas fa-sticky-note",Ie="fas fa-minus-square",Se="fas fa-random",xe="fas fa-equals",Te="fas fa-ellipsis-v",Ne="fas fa-arrow-circle-down",Ce="fas fa-arrow-circle-up",He="fas fa-exclamation-circle",Pe="fas fa-caret-up",De="far fa-clock",Me="fas fa-exclamation-triangle",Ee="fas fa-tshirt",Re="fas fa-external-link-alt",Le="fas fa-bookmark",Ve="far fa-bookmark",qe="fas fa-balance-scale-left",Oe="fas fa-grip-vertical",_e="fab fa-xbox",Be="fab fa-playstation",je="fab fa-steam",ze="fab fa-discord",Fe="fab fa-github",We="fas fa-save",Ue="fas fa-greater-than-equal",Ge="fas fa-less-than-equal",Qe="fas fa-equals",Ze="fas fa-layer-group",Ke="fas fa-slash",Je=s.A},31250:(e,t,o)=>{o.d(t,{$9:()=>d,Az:()=>A,Ls:()=>b,bZ:()=>l,hl:()=>k,kj:()=>c}),o(10131),o(31158),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(19668),n=o(59816),a=o(16283),r=o(12462),i=o(57551);const c=e=>e.instanced?e.id.padStart(20,"0"):0,l=(0,i.fb)((0,i.VE)(c)),d=(e,t)=>c(e)>t.padStart(20,"0"),u=[1043138475,1772853454,3783295803,3446457162,269776572,3632619276,2904517731,1932910919,417308266,2180254632,928169143,211861343,705234570,3371478409,2929837733,4159731660,846470091,2610276738,323927027,729893597,4141501356,927802664,1485751393,3036931873,2220921114,1500229041,1603376703,2575095887,3815757277,4244618453],m=[1797491610,3242866270,2882093969,2254123540,3164836592,3164836593,452597397,1542293174,1898539128,937555249,1738186005,258181985,1893498008,769865458,616706469,342707701,342707700,2906158273,2620224196,2906158273],h=new Set([2197472680,375726501,1801258597]),p={tag:e=>(0,i.VE)((t=>{const o=e(t);return(o&&r.bR[o]?.sortOrder)??1e3})),archive:e=>(0,i.VE)((t=>"archive"===e(t)))},f=e=>e.groupingValue,g=e=>(t,o)=>void 0===t.groupingValue?void 0===o.groupingValue?0:1:void 0===o.groupingValue?-1:e(t,o),y={tag:{comparator:g((0,i.VE)((e=>{if("string"!=typeof e.groupingValue)return 1/0;const t=r.Qq.indexOf(e.groupingValue);return t<0?1/0:t}))),getValue:(e,t)=>t(e),getIcon:(e,t)=>({type:"tag",tag:t(e)})},typeName:{comparator:g((0,i.VE)(f)),getValue:e=>e.typeName,getIcon:e=>({type:"typeName",itemCategoryHashes:e.itemCategoryHashes})},rarity:{comparator:g((0,i.fb)((0,i.VE)(f))),getValue:e=>n.Dj[e.tier],getIcon:()=>({type:"none"})},ammoType:{comparator:g((0,i.VE)(f)),getValue:e=>e.ammoType,getIcon:e=>({type:"ammoType",ammoType:e.ammoType})},elementWeapon:{comparator:g((0,i.VE)(f)),getValue:e=>{if(e.bucket.inWeapons)return e.element?.enumValue??Number.MAX_SAFE_INTEGER},getIcon:e=>e.bucket.inWeapons?{type:"elementWeapon",element:e.element}:{type:"none"}}},v={typeName:(0,i.VE)((e=>e.typeName)),rarity:(0,i.fb)((0,i.VE)((e=>n.Dj[e.tier]))),primStat:(0,i.fb)((0,i.VE)((e=>e.primaryStat?.value??0))),basePower:(0,i.fb)((0,i.VE)((e=>e.power))),rating:(0,i.fb)((0,i.VE)((e=>(0,a.Ne)(e)&&e.quality?.min))),classType:(0,i.VE)((e=>e.classType)),ammoType:(0,i.VE)((e=>e.ammoType)),name:(0,i.VE)((e=>e.name)),amount:(0,i.fb)((0,i.VE)((e=>e.amount))),season:(0,i.fb)((0,i.o2)((0,i.VE)((e=>2===e.destinyVersion?(0,s.o)(e):0)),(0,i.VE)((e=>e.iconOverlay??"")))),acquisitionRecency:l,elementWeapon:(0,i.VE)((e=>{if(e.bucket.inWeapons)return e.element?.enumValue??Number.MAX_SAFE_INTEGER})),masterworked:(0,i.VE)((e=>e.masterwork?0:1)),crafted:(0,i.VE)((e=>e.crafted?0:1)),deepsight:(0,i.VE)((e=>e.deepsightInfo?1:2)),default:()=>0};function b(e,t,o){if(!e.length)return e;const s=e[0].location.hash;if(!e.length||h.has(s))return e;let n=[];if(1469714392===s&&(n=u),3865314626===s&&(n=m),n.length>0&&!t.sortOrder.includes("rarity"))return e.toSorted((0,i.hn)(n,(e=>e.hash)));if(1469714392===s)return e.toSorted((0,i.o2)(v.typeName,v.rarity,v.name,v.amount));if(375726501===s||215593132===s)return e.toSorted((0,i.fb)(l));const a=(0,i.o2)(...["archive",...t.sortOrder].map((e=>{let s=v[e];if(!s){const t=p[e]?.(o);if(!t)return v.default;s=t}return t.sortReversals.includes(e)?(0,i.fb)(s):s})));return e.toSorted(a)}function A(e,t,o){const s=y[t];if(!e.length||!s)return[{groupingValue:void 0,icon:{type:"none"},items:[...e]}];const{getValue:n,getIcon:a,comparator:r}=s;return Array.from(Map.groupBy(e,(e=>n(e,o))).entries(),(([e,t])=>({groupingValue:e,items:t,icon:void 0===e?{type:"none"}:a(t[0],o)}))).sort(r)}const k=e=>`${typeof e}-${e}`},372:(e,t,o)=>{o.d(t,{DI:()=>a,GD:()=>r,JD:()=>d,JW:()=>c,R4:()=>n,ij:()=>s,qD:()=>i,rT:()=>u,vt:()=>l});const s="https://mastodon.social/@bungiehelp",n="https://mstdn.games/@ThisIsDIM",a="https://discord.gg/UK2GWC7",r="https://guide.dim.gg",i="https://github.com/DestinyItemManager/DIM/wiki/Creating-Wish-Lists",c="@ThisIsDIM@mstdn.games",l="@BungieHelp";function d(e){return`${r}/${e}`}const u=d("Troubleshooting")},57840:(e,t,o)=>{o.d(t,{f:()=>n});var s=o(46673);const n=new class{numTracked=0;active$=new s.c(!1);addPromise(e){return this.numTracked++,this.active$.next(!0),e.then(this.countDown,this.countDown),e}active(){return this.numTracked>0}trackPromise=e=>(...t)=>{const o=e(...t);return this.addPromise(o),o};countDown=()=>{this.numTracked--,this.active$.next(this.active())}}},61938:(e,t,o)=>{o.d(t,{O:()=>n,k:()=>s});const s=new(o(46673).l);function n(e){e&&e.preventDefault(),s.next(void 0)}},86119:(e,t,o)=>{o.d(t,{DY:()=>c,Jn:()=>u,iT:()=>a,of:()=>l,s1:()=>i,xO:()=>n,y:()=>r,yT:()=>d});var s=o(8935);const n=e=>e.shell.isPhonePortrait,a=e=>e.shell.searchQuery,r=e=>!!e.shell.searchQuery,i=e=>e.shell.searchQueryVersion,c=e=>e.shell.bungieAlerts,l=e=>e.shell.searchResultsOpen,d=e=>e.shell.routerLocation;function u(){return(0,s.d4)(n)}},21871:(e,t,o)=>{o.d(t,{h:()=>r,u:()=>a});var s=o(56400),n=o(87144);function a(){return async(e,t)=>{const o=t().dimApi,n={settings:o.settings,loadouts:[],tags:[],triumphs:[],itemHashTags:[],searches:[]};for(const e in o.profiles)if({}.hasOwnProperty.call(o.profiles,e)){const[t,a]=(0,s.SU)(e);for(const s of Object.values(o.profiles[e].loadouts))n.loadouts.push({loadout:s,platformMembershipId:t,destinyVersion:a});for(const s of Object.values(o.profiles[e].tags))n.tags.push({annotation:s,platformMembershipId:t,destinyVersion:a});n.triumphs.push({platformMembershipId:t,triumphs:o.profiles[e].triumphs})}n.itemHashTags=Object.values(o.itemHashTags);for(const e in o.searches){const t=parseInt(e,10);for(const e of o.searches[t])n.searches.push({destinyVersion:t,search:e})}return n}}function r(e){(0,n.R)(JSON.stringify(e),"dim-data.json","application/json")}},97098:(e,t,o)=>{o.d(t,{HP:()=>l,Hg:()=>d,Jt:()=>r,hZ:()=>i,yH:()=>c});class s{storeName;_dbName;_storeName;_dbp;constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbName=e,this._storeName=t}_init(){this._dbp||(this._dbp=new Promise(((e,t)=>{const o=indexedDB.open(this._dbName,1);o.onerror=()=>t(o.error??Error("IDB open error")),o.onsuccess=()=>e(o.result),o.onupgradeneeded=()=>{o.result.createObjectStore(this._storeName)}})).then((e=>(e.onclose=()=>{this._dbp=void 0},e))))}_withIDBStore(e,t){return this._init(),this._dbp.then((o=>new Promise(((s,n)=>{const a=o.transaction(this.storeName,e);a.oncomplete=()=>s(),a.onerror=e=>n(e.target.error??Error("IDB unknown error")),a.onabort=()=>n(a.error??Error("IDB aborted")),t(a.objectStore(this.storeName))}))))}_close(){return this._init(),this._dbp.then((e=>{e.close(),this._dbp=void 0}))}_delete(){return this._close(),new Promise(((e,t)=>{const o=indexedDB.deleteDatabase(this._dbName);o.onerror=()=>t(o.error??Error("IDB delete error")),o.onsuccess=()=>e()}))}}let n;function a(){return n||(n=new s),n}function r(e,t=a()){let o;return t._withIDBStore("readonly",(t=>{o=t.get(e)})).then((()=>o.result))}function i(e,t,o=a()){return o._withIDBStore("readwrite",(o=>{o.put(t,e)}))}function c(e,t=a()){return t._withIDBStore("readwrite",(t=>{t.delete(e)}))}function l(e=a()){const t=[];return e._withIDBStore("readonly",(e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}})).then((()=>t))}function d(e=a()){return e._delete()}window.addEventListener("freeze",(()=>{!function(e=a()){e._close()}()}))},2430:(e,t,o)=>{o.d(t,{OV:()=>r,lB:()=>a,vu:()=>c});var s=o(18398),n=o(61898);const a=e=>(0,n.createCustomAction)("observer/OBSERVE",(e=>({storeObserver:e})))(e),r=(0,n.createAction)("observer/UNOBSERVE")(),i=(0,n.createAction)("observer/CLEAR_OBSERVERS")();function c(e){const t=new Map;return o=>a=>{if(!(0,s.ve)(a))return o(a);if(function(e){return"object"==typeof e&&null!==e&&"type"in e&&"observer/OBSERVE"===e.type}(a)){const{storeObserver:o}=a;return t.set(o.id,o),void(o.runInitially&&o.sideEffect({previous:void 0,current:o.getObserved(e.getState())}))}if((0,n.isActionOf)(r,a))return void t.delete(a.payload);if((0,n.isActionOf)(i,a))return void t.clear();const c=e.getState(),l=o(a),d=e.getState();for(const[e,o]of t){const e=o.getObserved(c),t=o.getObserved(d);(o.equals||Object.is)(e,t)||o.sideEffect({previous:e,current:t})}return l}}},96763:(e,t,o)=>{o.d(t,{A:()=>ve});var s=o(18398),n=o(27150),a=o(2430),r=o(30671),i=o(61898),c=o(56876);const l={},d=(e=l,t)=>{switch(t.type){case(0,i.getType)(c.C):{const o=t.payload;return{...e,descriptions:o??e.descriptions}}case(0,i.getType)(c.Z):{const o=t.payload;return{...e,characterStats:o??e.characterStats}}default:return e}};var u=o(57551),m=o(28233),h=o(69770);const p={loadouts:{}},f=(e=p,t)=>{switch(t.type){case(0,i.getType)(h.t4):return{...e,loadouts:t.payload};case(0,i.getType)(h.vj):{const{characterId:o,index:s}=t.payload;return{...e,loadouts:{...e.loadouts,[o]:e.loadouts[o]?.filter((e=>e.index!==s))??[]}}}case(0,i.getType)(h.J1):{const o=t.payload,s=e.loadouts[o.characterId]?.findIndex((e=>e.index===o.index))??-1;return(0,m.jM)(e,(e=>{const t=e.loadouts[o.characterId]??=[];s>=0?t[s]=o:(t.push(o),t.sort((0,u.VE)((e=>e.index))))}))}default:return e}};var g=o(86362);const y=localStorage.getItem("stream-deck-auth")??"",v={enabled:"true"===localStorage.getItem("stream-deck-enabled"),connected:!1,selection:void 0,auth:y?JSON.parse(y):void 0},b=(e=v,t)=>{switch(t.type){case(0,i.getType)(g.$S):return{...e,connected:!0};case(0,i.getType)(g.lL):return{...e,connected:!1};case(0,i.getType)(g.o_):return{...e,selection:t.payload};case(0,i.getType)(g.$n):return localStorage.setItem("stream-deck-auth",JSON.stringify(t.payload)),{...e,auth:t.payload};case(0,i.getType)(g.rh):return localStorage.setItem("stream-deck-enabled",""+t.payload),{...e,enabled:t.payload};default:return e}};var A=o(36871),k=o(27350),w=o(78587);const I={vendorsByCharacter:{},showUnacquiredOnly:!1},S=(e=I,t)=>{switch(t.type){case(0,i.getType)(w.LU):{const{characterId:o,vendorsResponse:s}=t.payload,n=e.vendorsByCharacter[o]?.vendorsResponse?.itemComponents;return(0,m.jM)(e,(e=>{e.vendorsByCharacter[o]={vendorsResponse:s,lastLoaded:Date.now(),error:void 0},n&&(e.vendorsByCharacter[o].vendorsResponse.itemComponents=n)}))}case(0,i.getType)(w.uZ):{const{characterId:o,vendorResponses:s}=t.payload;return(0,m.jM)(e,(e=>{for(const[t,n]of s){const s=e.vendorsByCharacter[o];!(0,A.Im)(n.itemComponents)&&s?.vendorsResponse&&(s.vendorsResponse.itemComponents??={},s.vendorsResponse.itemComponents[t]=n.itemComponents,s.lastLoaded=Date.now())}}))}case(0,i.getType)(w.s4):{const{characterId:o,error:s}=t.payload;return{...e,vendorsByCharacter:{...e.vendorsByCharacter,[o]:{...e.vendorsByCharacter[o],error:s}}}}case(0,i.getType)(w.bM):return{...e,showUnacquiredOnly:t.payload};case(0,i.getType)(k.BL):return I;default:return e}};var x=o(10303),T=o(87362),N=o(32140),C=o(68284);const H={accounts:[],...function(){const e=localStorage.getItem("dim-last-membership-id")??void 0,t=localStorage.getItem("dim-last-destiny-version")??void 0;return{currentAccountMembershipId:e,currentAccountDestinyVersion:t?parseInt(t,10):2}}(),loaded:!1,loadedFromIDB:!1,needsLogin:!(0,T.XM)(),needsDeveloper:!N.Lq||!x.Lq||!1},P=(e=H,t)=>{switch(t.type){case(0,i.getType)(k.qm):return{...e,accounts:(0,C.bD)(t.payload,e.accounts)?e.accounts:t.payload||[],loaded:!0,accountsError:void 0};case(0,i.getType)(k.BL):{const{membershipId:o,destinyVersion:s}=t.payload;return o!==e.currentAccountMembershipId||s!==e.currentAccountDestinyVersion?{...e,currentAccountMembershipId:o,currentAccountDestinyVersion:s}:e}case(0,i.getType)(k.Qc):return e.loaded?e:{...e,accounts:(0,C.bD)(t.payload,e.accounts)?e.accounts:t.payload||[],loadedFromIDB:!0};case(0,i.getType)(k.z3):return{...e,accountsError:t.payload};case(0,i.getType)(k.V):return{...H,needsLogin:!0};case(0,i.getType)(k.st):return{...e,needsDeveloper:!0};default:return e}};var D=o(2290),M=o(14231),E=o(20254),R=o(97085),L=o(16283),V=o(68807),q=o(87447);const O={},_=(e=O,t)=>{switch(t.type){case(0,i.getType)(V.YN):return function(e,t){if(e.session){if(!e.session.itemCategoryHashes.every((e=>t.itemCategoryHashes.includes(e))))return(0,M.Ds)({type:"warning",title:t.name,body:(0,D.t)("Compare.Error.Unmatched")}),e;const o=`id:${t.id} or`,s=e.session?.query||"";if(s.includes(o))return e;const n="-id:"+t.id,a=(s.includes(n)?s.replace(n,""):`${o} ${s}`.replace(/\s+/," ")).trim();return{...e,session:{...e.session,query:a}}}{const o=B(t),s=function(e){if((0,L.Ne)(e)||!e.bucket.inArmor||e.isExotic)return(0,q.V)(e);{const t=["is:"+e.tier.toLowerCase()],o=e.sockets?.allSockets.find((e=>1744546145===e.plugged?.plugDef.plug.plugCategoryHash&&e.plugged.plugDef.displayProperties.name));o&&t.push("exactperk:"+(0,R.Os)(o.plugged.plugDef.displayProperties.name));const s=(0,L.Ep)(e);if(s)for(const e of s)t.push("modslot:"+e.slotTag);return t.join(" ")}}(t),n=t.vendor?.characterId;return{...e,session:{query:`(${s})`,itemCategoryHashes:o,initialItemId:t.id,vendorCharacterId:n}}}}(e,t.payload);case(0,i.getType)(V.m3):return function(e,t){if(!e.session)throw Error("Programmer error: Can't remove item with no session");const o=`id:${t.id} or`,s=(e.session.query.includes(o)?e.session.query.replace(o,""):`${e.session.query} -id:${t.id}`).replace(/\s+/," ").trim();return{...e,session:{...e.session,query:s}}}(e,t.payload);case(0,i.getType)(V.VF):return{...e,session:void 0};case(0,i.getType)(V.L9):if(!e.session)throw Error("Programmer error: Can't update query with no session");return{...e,session:{...e.session,query:t.payload?`(${t.payload})`:""}};case(0,i.getType)(V.Z0):return function(e,t,o,s){if(e.session)return e;const n=B(o[0]);return{...e,session:{query:t,itemCategoryHashes:n,initialItemId:s?.id,vendorCharacterId:s?.vendor?.characterId}}}(e,t.payload.query,t.payload.filteredItems,t.payload.initialItem);case(0,i.getType)(V.rU):return function(e,t){if(e.session||!t.length)return e;const o=B(t[0]),s=t.map((e=>"id:"+e.id));return{...e,session:{query:`(${s.join(" or ")})`,itemCategoryHashes:o}}}(e,t.payload);default:return e}};function B(e){const t=(0,E.v0)(e.destinyVersion),o=[];for(const s of t.subCategories)if(s.itemCategoryHash&&e.itemCategoryHashes.includes(s.itemCategoryHash)){if(o.push(s.itemCategoryHash),s.subCategories)for(const t of s.subCategories)if(t.itemCategoryHash&&e.itemCategoryHashes.includes(t.itemCategoryHash)){o.push(t.itemCategoryHash);break}break}return 0===o.length&&o.push(e.itemCategoryHashes[0]),o}var j=o(56400),z=o(79055);const F={numInterruptions:0},W=(e=F,t)=>{switch(t.type){case(0,i.getType)(z.ni):return{...e,storeId:t.payload,numInterruptions:0};case(0,i.getType)(z.ds):return{...e,storeId:void 0,numInterruptions:0};case(0,i.getType)(z.WY):return{...e,numInterruptions:e.numInterruptions+1};case(0,i.getType)(z.mF):return{...e,numInterruptions:e.numInterruptions-1};default:return e}};o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var U=o(95840),G=o(50784),Q=o(52040),Z=o(47775),K=o(65);const J="move",X={stores:[],currencies:[],newItems:new Set,newItemsLoaded:!1},Y=(e=X,t)=>{switch(t.type){case(0,i.getType)(G.BR):return{...e,profileResponse:t.payload.profile,profileError:t.payload.live?void 0:e.profileError};case(0,i.getType)(G.s5):return{...e,profileError:t.payload};case(0,i.getType)(G.yo):return function(e,{stores:t,currencies:o}){return{...e,stores:t,currencies:o,newItems:ee(e.stores,e.newItems,t)}}(e,t.payload);case(0,i.getType)(G.Ip):return function(e,t){return{...e,stores:e.stores.map((e=>{const o=t.find((t=>t.characterId===e.id));if(!o)return e;const{characterId:s,...n}=o;return{...e,...n,stats:{...e.stats,...n.stats}}}))}}(e,t.payload);case(0,i.getType)(G.Lx):{const{item:o,source:s,target:n,equip:a,amount:r}=t.payload;return(0,m.jM)(e,(e=>function(e,t,o,s,n,a){const r=e.stores,i=(0,K.KA)(r,o),c=(0,K.KA)(r,s);if(i&&c)if(t=i.items.find((e=>e.hash===t.hash&&e.id===t.id&&e.location.hash===t.location.hash))){if(i.id!==c.id||t.location.inPostmaster){const e=t.maxStackSize>1,o=e?(0,K.VS)(i,t.location.hash).filter((e=>e.hash===t.hash&&e.id===t.id)).sort((0,u.VE)((e=>e.amount))):[t],s=e?(0,K.VS)(c,t.bucket.hash).filter((e=>e.hash===t.hash&&e.id===t.id&&e.amount!==e.maxStackSize)).sort((0,u.VE)((e=>e.amount))):[],n=a||t.amount||1;let r=n,l=n,d=!1;for(;l>0;){const e=o.shift();if(!e)return void(0,U.XX)(J,"Source item missing",t);const s=Math.min(l,e.amount);e.amount-=s,e.amount<=0&&te(i,e)&&(d=e.index===t.index),l-=s}let m=t;for(;r>0;){m=s.shift(),m||(m=t,d||(m={...t},m.index=(0,Z.i)(m)),d=!1,m.amount=0,m.location.inPostmaster&&(m.location=m.bucket),oe(c,m));const e=Math.min(r,m.maxStackSize-m.amount);m.amount+=e,r-=e}t=m}if(n)for(const e of c.items)e.location.hash===t.bucket.hash&&(e.equipped=e.index===t.index)}else(0,U.XX)(J,"Moved item not found",t);else(0,U.XX)(J,"Either source or target store not found",i,c)}(e,o,s.id,n.id,a,r)))}case(0,i.getType)(G.Iy):{const{item:o,state:s,type:n}=t.payload;return(0,m.jM)(e,(e=>function(e,t,o,s){const n=(0,K.KA)(e.stores,t.owner);n?(t=n.items.find((e=>e.id===t.id)))?"lock"===s?t.locked=o:"track"===s&&(t.tracked=o):(0,U.XX)(J,"Item not found in stores",t):(0,U.XX)(J,"Store",t.owner,"not found")}(e,o,s,n)))}case(0,i.getType)(G.tg):{const{changes:o,item:s,itemCreationContext:n}=t.payload;return(0,m.jM)(e,(e=>function(e,t,o,s){const{defs:n,buckets:a}=s;if(!o)return void(0,U.XX)("awaChange","No item produced from change");const r=(0,K.KA)(e.stores,o.owner);if(!r)return;const i=r.items.findIndex((e=>e.index===o.index));i>=0?r.items[i]=o:oe(r,o);const c=t=>{let o=r;if(2===t.location)o=(0,K.Px)(e.stores);else{const s=n.InventoryItem.get(t.itemHash);s.inventory&&a.byHash[s.inventory.bucketTypeHash].accountWide&&(o=(0,K.ZS)(e.stores))}return o};for(const s of t.removedInventoryItems){const t=e.currencies.find((e=>e.itemHash===s.itemHash));if(t)t.quantity=Math.max(0,t.quantity-s.quantity);else if(s.itemInstanceId)for(const t of e.stores){const e=t.items.findIndex((e=>e.id===s.itemInstanceId));if(e>=0){t.items.splice(e,1);break}}else{const e=c(s),t=e.items.filter((e=>e.hash===s.itemHash)).sort((0,u.VE)((e=>e.amount)));let n=s.quantity;for(;n>0;){const a=t.shift();if(!a)return void(0,U.XX)(J,"Source item missing",o,s);const r=Math.min(n,a.amount);a.amount-=r,a.amount<=0&&te(e,a),n-=r}}}for(const o of t.addedInventoryItems){const t=e.currencies.find((e=>e.itemHash===o.itemHash));if(t){const e=n.InventoryItem.get(o.itemHash).inventory?.maxStackSize||Number.MAX_SAFE_INTEGER;t.quantity=Math.min(e,t.quantity+o.quantity)}else if(o.itemInstanceId){const e=c(o),t=(0,Q.QD)(s,o,e);t&&oe(e,t)}else{const e=c(o),t=e.items.filter((e=>e.hash===o.itemHash)).sort((0,u.VE)((e=>e.amount)));let n=o.quantity;const a=(0,Q.QD)(s,o,e);if(!a)continue;for(;n>0;){let o=t.shift();o||(o=a,o.amount=0,oe(e,o));const s=Math.min(n,o.maxStackSize-o.amount);o.amount+=s,n-=s}}}}(e,o,s,n)))}case(0,i.getType)(G.z3):return{...e,profileError:t.payload};case(0,i.getType)(G.zH):return{...e,newItems:t.payload,newItemsLoaded:!0};case(0,i.getType)(G.TQ):if(e.newItems.has(t.payload)){const o=new Set(e.newItems);return o.delete(t.payload),{...e,newItems:o}}return e;case(0,i.getType)(G.$u):return{...e,newItems:new Set};case(0,i.getType)(k.BL):return X;case(0,i.getType)(G.vH):return(0,m.jM)(e,(e=>{e.mockProfileData=t.payload}));case(0,i.getType)(G.Ed):return{...e,stores:[]};default:return e}},$=e=>e.equipment&&e.instanced&&3284755031!==e.bucket.hash;function ee(e,t,o){if(e===o)return t;const s=new Set;for(const t of e)for(const e of t.items)$(e)&&s.add(e.id);if(!s.size)return t;const n=new Set;for(const e of o)for(const t of e.items)$(t)&&n.add(t.id);const a=new Set;for(const e of t)n.has(e)&&a.add(e);for(const e of n)s.has(e)||a.add(e);return function(e,t){if(e.size!==t.size)return!1;let o=!0;for(const s of e)if(!t.has(s)){o=!1;break}if(o)for(const s of t)if(!e.has(s)){o=!1;break}return o}(a,t)?t:a}function te(e,t){const o=e.items.findIndex((e=>t.index===e.index));return o>=0&&(e.items.splice(o,1),!0)}function oe(e,t){t.owner=e.id,e.items=[...e.items,t]}var se=o(29368);const ne={previousLoadouts:{},selectedLoadoutStoreId:void 0},ae=(e=ne,t)=>{switch(t.type){case(0,i.getType)(se.rO):{const{storeId:o,loadoutId:s,previousLoadout:n}=t.payload;let a=e.previousLoadouts[o]||[];const r=a.at(-1);return a=r&&s===r.id?a.filter((e=>e.id!==s)):[...a,n],{...e,previousLoadouts:{...e.previousLoadouts,[o]:a}}}case(0,i.getType)(se.Xb):return{...e,selectedLoadoutStoreId:t.payload.storeId};default:return e}};var re=o(59816),ie=o(4755);const ce={},le=(e=ce,t)=>{switch(t.type){case(0,i.getType)(ie.b3):return{...e,d1Manifest:t.payload};case(0,i.getType)(ie.kJ):return{...e,d2Manifest:t.payload};case(0,i.getType)(ie._3):if(t.payload.currentRankProgressionHashes?.length)for(const e of re.pd)t.payload.currentRankProgressionHashes.includes(e)||t.payload.currentRankProgressionHashes.push(e);return{...e,destiny2CoreSettings:t.payload};default:return e}};var de=o(49662);const ue="matchMedia"in window?window.matchMedia("(max-width: 540px)"):void 0;ue?.addEventListener("change",(e=>{ve.dispatch((0,de.KX)(e.matches))}));const me={isPhonePortrait:!!ue?.matches,searchQuery:"",searchQueryVersion:0,searchResultsOpen:!1,loadingMessages:[],routerLocation:"",bungieAlerts:[]},he=(e=me,t)=>{switch(t.type){case(0,i.getType)(de.KX):return{...e,isPhonePortrait:t.payload};case(0,i.getType)(de.Ri):{const{query:o,updateVersion:s}=t.payload;if(void 0===o)throw Error("undefined query");return o!==e.searchQuery?{...e,searchQuery:o,searchQueryVersion:s?e.searchQueryVersion+1:e.searchQueryVersion,searchResultsOpen:o&&e.searchResultsOpen||!(!e.isPhonePortrait||e.searchQuery||!o)}:e}case(0,i.getType)(de.SR):{const o=e.searchQuery,s=t.payload.trim(),n=o.includes(s)?o.replace(s,""):`${o} ${s}`;return{...e,searchQuery:n.replace(/\s+/," ").trim(),searchQueryVersion:e.searchQueryVersion+1}}case(0,i.getType)(de.Zi):return{...e,searchResultsOpen:t.payload??!e.searchResultsOpen};case(0,i.getType)(de.pS):return{...e,loadingMessages:[...new Set([...e.loadingMessages,t.payload])]};case(0,i.getType)(de.MH):return{...e,loadingMessages:e.loadingMessages.filter((e=>e!==t.payload))};case(0,i.getType)(de.lP):return(0,C.bD)(e.bungieAlerts,t.payload)?e:{...e,bungieAlerts:t.payload};case(0,i.getType)(de.VK):return{...e,routerLocation:t.payload};case(0,i.getType)(de.y7):return{...e,routerLocation:void 0};default:return e}};var pe=o(58808);const fe={loaded:!1,wishListAndInfo:{infos:[],wishListRolls:[]},lastFetched:void 0},ge=(e=fe,t)=>{switch(t.type){case(0,i.getType)(pe.n8):return{...e,wishListAndInfo:{...fe.wishListAndInfo,...t.payload.wishListAndInfo},loaded:!0,lastFetched:t.payload.lastFetched||new Date};case(0,i.getType)(pe._$):return{...e,wishListAndInfo:{infos:[],wishListRolls:[],source:""},lastFetched:void 0,loaded:!0};case(0,i.getType)(pe.Uz):return{...e,lastFetched:new Date};default:return e}},ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({serialize:!1,actionsBlacklist:["inventory/UPDATE","manifest/D1","manifest/D2"],stateSanitizer:e=>e.inventory?{...e,inventory:"<<EXCLUDED>>",manifest:"<<EXCLUDED>>"}:e}):s.Zz,ve=(0,s.Yl)(((e,t)=>{const o=(0,s.HY)({accounts:P,inventory:Y,shell:he,loadouts:ae,wishLists:ge,farming:W,manifest:le,vendors:S,compare:_,clarity:d,inGameLoadouts:f,streamDeck:b,dimApi:(e=j.ue)=>e}),n=o(e,t),a=(0,j.Nl)(n.dimApi,t,(0,r.sZ)(n));return n.dimApi!==a?{...n,dimApi:a}:n}),ye((0,s.Tw)(a.vu,n.P)))},92369:(e,t,o)=>{o.d(t,{_:()=>s});const s=o(8935).wA.withTypes()},86362:(e,t,o)=>{o.d(t,{$S:()=>n,$n:()=>i,lL:()=>a,o_:()=>r,rh:()=>c});var s=o(61898);const n=(0,s.createAction)("stream-deck/CONNECTED")(),a=(0,s.createAction)("stream-deck/DISCONNECTED")(),r=(0,s.createAction)("stream-deck/SELECTION")(),i=(0,s.createAction)("stream-deck/AUTHORIZATION")(),c=(0,s.createAction)("stream-deck/ENABLED")()},92803:(e,t,o)=>{o.d(t,{A1:()=>n,Fp:()=>a,Hb:()=>s});const s=e=>e.streamDeck,n=e=>e.streamDeck.enabled,a=e=>e.streamDeck.selection},25851:(e,t,o)=>{o.d(t,{PH:()=>i,s6:()=>n,s9:()=>r,y$:()=>a});const s={},n=async()=>{const e=await o.e(152).then(o.bind(o,18440)),t=await o.e(889).then(o.bind(o,36513));s.start||Object.assign(s,{...e.default,...t.default})},a=()=>s.start(),r=()=>s.stop(),i=(...e)=>s.useSelection?.(...e)},58128:(e,t,o)=>{o.d(t,{A:()=>a});var s=o(95840);const n=[];function a(e){const t=async()=>{let t;if("wakeLock"in navigator)try{t=await navigator.wakeLock.request("screen")}catch(e){(0,s.zh)("wakelock","Could not acquire screen wake lock",e)}try{return await e()}finally{await(t?.release())}},o=(n.length?n.at(-1):Promise.resolve()).then(t,t).then((e=>(n.shift(),e)),(e=>{throw n.shift(),e}));return n.push(o),o}},13635:(e,t,o)=>{o.d(t,{F:()=>n,O:()=>a});var s=o(49629);function n(e){"setAppBadge"in navigator&&!(0,s.B)()&&navigator.setAppBadge(e)}function a(){"clearAppBadge"in navigator&&!(0,s.B)()&&navigator.clearAppBadge()}},49629:(e,t,o)=>{o.d(t,{B:()=>d,QM:()=>r,TO:()=>n,ab:()=>p,cX:()=>m,uF:()=>c});const s=navigator.userAgent.includes("DIM AppStore");function n(){return s}const a=s||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;function r(){return a}const i=navigator.platform.includes("Win");function c(){return i}const l=navigator.userAgent.includes("Steam");function d(){return l}const u=s||/Mac|iPod|iPhone|iPad/.test(navigator.platform);function m(){return u}const h=navigator.userAgent.includes("Android"),p=()=>{if(h)return!1;const e=document.createElement("div");return"draggable"in e&&"ondragstart"in e}},99946:(e,t,o)=>{o.d(t,{Fb:()=>n,YO:()=>a,k3:()=>s});class s extends Error{constructor(){super("canceled"),this.name="CanceledError"}}function n(){let e=!1;return[{get canceled(){return e},checkCanceled(){if(e)throw new s}},()=>e=!0]}const a={get canceled(){return!1},checkCanceled(){}}},57551:(e,t,o)=>{function s(e){return(t,o)=>{const s=e(t),n=e(o);return s===n?0:void 0===n?1:void 0===s||s<n?-1:s>n?1:0}}function n(e){return(t,o)=>e(o,t)}function a(...e){return(t,o)=>{for(const s of e){const e=s(t,o);if(0!==e)return e}return 0}}function r(e,t){return s((o=>{const s=e.indexOf(t(o));return-1===s?Number.MAX_SAFE_INTEGER:s}))}o.d(t,{VE:()=>s,fb:()=>n,hn:()=>r,o2:()=>a})},87144:(e,t,o)=>{o.d(t,{R:()=>n});var s=o(20204);function n(e,t,o){const n=document.createElement("a");n.setAttribute("href",`data:${o};charset=utf-8,${encodeURIComponent(e)}`),n.setAttribute("download",t),s.W.appendChild(n),n.click(),setTimeout((()=>s.W.removeChild(n)))}},11519:(e,t,o)=>{o.d(t,{mj:()=>c,tR:()=>r,vB:()=>n}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);const s=Object.freeze({});function n(){return s}const a=Object.freeze([]);function r(){return a}const i=Object.freeze(new Set);function c(){return i}Object.freeze(new Map)},11071:(e,t,o)=>{function s(){}function n(){return!0}function a(e){return e}o.d(t,{D_:()=>a,lQ:()=>s,vF:()=>n})},88122:(e,t,o)=>{o.d(t,{HU:()=>h,Mj:()=>d,OZ:()=>l,Pf:()=>u,e9:()=>m,ef:()=>i,hz:()=>c});var s=o(81014),n=o(46883),a=o(18374),r=o(69801);function i(e,t){(0,a.useEffect)((()=>e.subscribe(t)),[e,t])}function c(){const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=e=>!e.repeat&&t(e.shiftKey);return document.addEventListener("keydown",e),document.addEventListener("keyup",e),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)}}),[]),e}function l(e,t){const o=(0,a.useCallback)((e=>{document.querySelector("html").style.setProperty(t,e+"px")}),[t]);(0,a.useLayoutEffect)((()=>{o(e.current.offsetHeight)}),[o,e]),(0,s.A)(e,(e=>o(e.target.offsetHeight)))}function d(e,t){const[o,s]=(0,a.useState)((()=>{try{const o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch{return t}}));return[o,t=>{const n=t instanceof Function?t(o):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}]}function u(e,t){const o=(0,a.useMemo)((()=>({getCurrentValue:()=>e.getCurrentValue(),subscribe(o){const s=(0,n.n)(o,t),a=e.subscribe(s);return()=>{a(),s.cancel()}}})),[e,t]);return(0,r.useSubscription)(o)}function m(e,t,o,s){const n=s?10:0;(0,a.useEffect)((()=>{if(!window.visualViewport||!e.current)return;const s=()=>{const s=e.current.getBoundingClientRect(),{y:a,height:r}=s,{height:i}=window.visualViewport,c=i-a-r-n;t(void 0!==o?Math.floor(c/o)*o:Math.floor(c))};return s(),window.visualViewport.addEventListener("resize",s),()=>window.visualViewport?.removeEventListener("resize",s)}),[t,e,o,n])}function h(e,t){(0,a.useEffect)((()=>{if(!1!==t){const t=document.getElementsByTagName("title")[0];return t.textContent="DIM - "+e,()=>{t.textContent="DIM"}}}),[t,e])}},16283:(e,t,o)=>{o.d(t,{BE:()=>w,CA:()=>E,Ep:()=>v,Ir:()=>q,Ne:()=>D,Ul:()=>C,X7:()=>R,Xx:()=>P,Yk:()=>S,a6:()=>N,cO:()=>k,dO:()=>L,eL:()=>y,eZ:()=>M,eb:()=>p,fY:()=>m,fo:()=>I,iR:()=>T,ir:()=>b,mP:()=>A,oT:()=>V,sg:()=>d,tK:()=>_,yD:()=>h}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(11931),n=o(19668),a=o(59816),r=o(46279),i=o(69635),c=o(40633),l=o(36871);const d=e=>r.gB[e.element?.enumValue??0],u=(0,l.z$)(i.A,"socketTypeHashes"),m=(0,l.z$)(i.A,"compatiblePlugCategoryHashes"),h=i.A.map((e=>e.slotTag)),p=[...new Set(i.A.flatMap((e=>e.compatibleModTags)))],f=i.A.flatMap((e=>e.socketTypeHashes)),g=i.A.flatMap((e=>e.compatiblePlugCategoryHashes)),y=e=>{const t=(0,l.x1)((e=>{if(e?.bucket.inArmor){const t=e.sockets?.allSockets.filter((e=>e.plugged&&e.visibleInGame&&f.includes(e.socketDefinition.socketTypeHash)));if(t?.length)return t}})(e)??[],(e=>u[e.socketDefinition.socketTypeHash]));if(t?.length)return t},v=e=>{const t=y(e)?.filter((e=>"legacy"!==e.slotTag));if(t?.length)return t},b=e=>i.g[e],A=e=>void 0!==e.plug&&(a.Uo.includes(e.plug.plugCategoryHash)||g.includes(e.plug.plugCategoryHash));function k(e){return e?.stats?.filter((e=>e.isPrimary)).map((e=>e.name)).filter(Boolean).join(", ")}function w(e,t,o=!1){return!t.isVault&&I(e,t.id,t.classType,o)&&(!D(e)||(0,s.A)(t,e))}function I(e,t,o,s=!1){return!(!e.equipment||!(e.classified?e.bucket.inWeapons||e.owner===t&&e.equipped:L(e.classType,o))||e.notransfer&&e.owner!==t||!s&&e.location.inPostmaster)}function S(e){return e.equipment||1===e.destinyVersion&&(1469714392===e.bucket.hash||3865314626===e.bucket.hash)}function x(e){return(e.plugged?.plugObjectives[0]?.objectiveHash??0)in a.A6}function T(e){return e.socketDefinition.socketTypeHash===a.W5}function N(e){const t=a.A6[e.plugObjectives[0]?.objectiveHash],o=e.plugObjectives[0]?.progress;if(t&&void 0!==o)return{type:t,count:o,trackerDef:e.plugDef}}const C=e=>(e=>{const t=e?.plugged;return t&&N(t)})((e=>{if(e.bucket.inWeapons)return e.sockets?.allSockets.find(x)})(e)),H={year2:[2659839637,512830513,1537575125,3475869915,1662673928],year3:[2964550958,4160622434,3475869915,3131490494,4161861381]};function P(e,t){if("destinyVersion"in e&&2===e.destinyVersion||"displayProperties"in e){const o=(0,n.o)(e,t);return o?Math.floor(o/4)+1:0}if(D(e)){if(!e.sourceHashes)return 1;let t=1;const o=e.sourceHashes.includes(H.year2[0]);return(o||e.infusable||e.sourceHashes.some((e=>H.year2.includes(e))))&&(t=2),o||!e.classified&&!e.sourceHashes.some((e=>H.year3.includes(e)))||(t=3),t}}function D(e){return 1===e.destinyVersion}function M(e,t){const o={};for(const s of e.stats??[])o[s.statHash]=s[t];return o}function E(e){return!!e.sockets?.allSockets.some(R)}function R(e){return!(!e.visibleInGame||!e.plugged||3773173029!==e.plugged.plugDef.plug.plugCategoryHash&&e.plugged.plugDef.hash!==a.ck)}function L(e,t){return 3===e||3===t||e===t}function V(e,t){return 3===e||e===t}function q(e){return e.sockets?.allSockets.some((e=>e.plugOptions.some((e=>"holofoil_skins_shared"===e.plugDef.plug.plugCategoryIdentifier))))}const O=Object.entries(c).reduce(((e,[t,o])=>{const s=parseInt(t,10);for(const t of o)e[t]=s;return e}),{});function _(e){if(2===e.destinyVersion&&e.bucket.inWeapons&&!e.breakerType)for(const t of e.itemCategoryHashes)if(O[t])return O[t]}},37082:(e,t,o)=>{function s(e){const t=new WeakMap;return o=>{if(t.has(o))return t.get(o);const s=e(o);return t.set(o,s),s}}o.d(t,{b:()=>s})},46673:(e,t,o)=>{o.d(t,{c:()=>n,l:()=>s}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);class s{_subscriptions=new Set;next(e){for(const t of this._subscriptions)t(e)}subscribe(e){return this._subscriptions.add(e),()=>this._subscriptions.delete(e)}}class n{_value;_event=new s;constructor(e){this._value=e}next(e){this._value=e,this._event.next(e)}getCurrentValue=()=>this._value;subscribe=e=>this._event.subscribe(e)}},30803:(e,t,o)=>{o.d(t,{g8:()=>b,PD:()=>v,R1:()=>y}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(97113),n=o(19654),a=o(2290),r=o(17222),i=o(14711),c=o(5555),l=o(38654),d=o(87853),u=o(8935);const m=JSON.parse('{"G":[293178904,877723168,1103878128,1293710444,1301391064,1305536863,1677180919,1702273159,1891463783,1971149752,2479297167,2657604783,3094620656,3832366019,3969361392]}');var h=o(36871),p=o(57551);const f={1345609583:["Aim Assist"],925767036:["Magazine Stat"],4188031367:["Reload"]},g=(0,h.B8)(d,Number);function y(e,t){const o=(0,l.I3)(),r=(0,u.d4)(s.L),i=(0,u.d4)((0,n.A2)("descriptionsToDisplay")),d={perks:[],communityInsight:void 0};if(!e||!o)return d;const h="community"!==i,p="bungie"!==i,y="community"===i,v=new Set;if(t)for(const e of t){const t=o.Stat.get(e.statHash);if(t){const o=[t.displayProperties.name].concat(f[e.statHash]??[]);for(const t of o)e.value<0?(v.add(`${e.value} ${t}`),v.add(`${e.value} ${t} ▼`)):(v.add(`+${e.value} ${t}`),v.add(`+${e.value} ${t} ▲`),v.add(`Grants ${e.value} ${t}`))}}const b=function(e,t,o){const s=[],n=e.displayProperties.description||void 0;function r(){for(const n of e.perks){if(2===n.perkVisibility)continue;const a=t.SandboxPerk.get(n.perkHash),r=a.displayProperties.name;let i=a.displayProperties.description||void 0;i&&(o.has(i)?i=void 0:o.add(i));let c=n.requirementDisplayString||void 0;c&&(o.has(c)?c=void 0:o.add(c)),(i||c)&&s.push({perkHash:n.perkHash,name:r&&r!==e.displayProperties.name?r:void 0,description:i,requirement:c})}}function i(){n&&!o.has(n)&&(s.push({perkHash:-o.size,requirement:n}),o.add(n))}function l(){n&&!o.has(n)&&(s.push({perkHash:-o.size,description:n}),o.add(n))}if(e.traitHashes?.includes(4036726046)?(r(),i()):e.itemCategoryHashes?.includes(4104513227)?(r(),s.length>0&&c.gV.includes(e.plug.plugCategoryHash)?i():l()):n?l():r(),function(){for(const t of m.G)e.hash===t&&(s.push({perkHash:-o.size,description:(0,a.t)("Mods.HarmonicModDescription")}),o.add((0,a.t)("Mods.HarmonicModDescription")))}(),!s.length&&e.perks.length){const n=e.perks[0],a=t.SandboxPerk.get(n.perkHash),r=a.displayProperties.name,i={perkHash:n.perkHash,name:r&&r!==e.displayProperties.name?r:void 0};a.displayProperties.description&&!o.has(a.displayProperties.description)&&(i.description=a.displayProperties.description,o.add(a.displayProperties.description)),n.requirementDisplayString&&!o.has(n.requirementDisplayString)&&(i.requirement=n.requirementDisplayString,o.add(n.requirementDisplayString)),(i.description||i.requirement)&&s.push(i)}return e.itemCategoryHashes?.includes(4104513227)&&function(){const t=e.tooltipNotifications.map((e=>e.displayString)).filter((e=>!o.has(e)));for(const e of t)s.push({perkHash:-o.size,requirement:e}),o.add(e)}(),s}(e,o,new Set(v));if(p&&r){let t=r[e.hash];if(!t){const o=g[e.hash];o&&(t=r[o])}t&&(d.communityInsight=t)}return(h||y&&!d.communityInsight)&&d.perks.push(...b),d}function v(e,t){return(0,i.e)(e).filter((e=>((0,r.yh)(e.statTypeHash)||(0,r.Zi)(e.statTypeHash))&&(void 0===t||(0,i.f)(e.activationRule,void 0,t)))).map((e=>({statHash:e.statTypeHash,value:e.value}))).sort((0,p.VE)((e=>(0,r.jC)(e.statHash))))}function b(e,t){if(t.stats)return Object.entries(t.stats).map((([e,t])=>({statHash:parseInt(e,10),value:t.value}))).filter((t=>(0,r.yh)(t.statHash)&&e.stats?.some((e=>e.statHash===t.statHash))||(0,r.Zi)(t.statHash))).sort((0,p.VE)((e=>(0,r.jC)(e.statHash))))}},47765:(e,t,o)=>{o.d(t,{Q:()=>n});var s=o(18374);function n(e,t){return e.flatMap(((e,o)=>[o?(0,s.cloneElement)(t,{key:"divider-"+o}):null,e]))}},18604:(e,t,o)=>{function s(e){const t=t=>o=>e(o,t);return t.selector=e,t}o.d(t,{d:()=>s})},72549:(e,t,o)=>{o.d(t,{$:()=>V,$F:()=>x,$p:()=>q,C2:()=>v,Cv:()=>h,EN:()=>H,I8:()=>u,KG:()=>k,LT:()=>I,Lz:()=>A,Np:()=>g,R3:()=>S,WX:()=>y,Yf:()=>l,ei:()=>D,hN:()=>d,hq:()=>m,iF:()=>P,kf:()=>b,mj:()=>p,oH:()=>C,qV:()=>w,t9:()=>_,tR:()=>T,tp:()=>f,vF:()=>L,xF:()=>N}),o(8068);var s=o(76678),n=o(39014),a=o(59816),r=o(77335),i=o(36871),c=o(16283);function l(e,t){const o=function(e,t){const o=e.categories.find((e=>e.category.categoryStyle===t));return o&&function(e,t){return u(e,t.socketIndexes).map((e=>e.plugged?.plugDef.hash??NaN)).filter((e=>!isNaN(e)))}(e,o)||[]}(e,t);return e.allSockets.filter((e=>e.plugged&&o.includes(e.plugged.plugDef.hash)))}function d(e){return e.plugged?.plugDef.plug&&("masterwork"===e.plugged.plugDef.plug.uiPlugLabel||e.plugged.plugDef.plug.plugCategoryIdentifier.includes("masterworks.stat")||e.plugged.plugDef.plug.plugCategoryIdentifier.endsWith("_masterwork"))}function u(e,t){return(0,i.x1)(t,(t=>m(e,t)))}function m(e,t){return e.allSockets.find((e=>e.socketIndex===t))}function h(e,t){const o=e?.categories.find((e=>e.category.hash===t));return o&&e?u(e,o.socketIndexes):[]}function p(e,t){return t.flatMap((t=>h(e,t)))}function f(e,t){const o=e?.categories.find((e=>e.category.hash===t));if(!o)return;const s=o.socketIndexes[0];return e.allSockets.find((e=>e.socketIndex===s))}function g(e){if(e.bucket.inWeapons&&e.sockets)return f(e.sockets,3956125808)}const y=e=>g(e)?.plugged?.plugDef;function v(e){if(e.bucket.inArmor&&e.sockets){const t=e.sockets.categories.find((e=>3154740035===e.category.hash));if(t){const o=m(e.sockets,t.socketIndexes.at(-1));if(o?.plugged?.plugDef.displayProperties.name)return o}return e.sockets.allSockets.find((e=>e.plugged?.plugDef.plug.plugCategoryIdentifier.includes("enhancements.exotic")))}}function b(e){return e.isExotic&&1585787867===e.bucket.hash&&e.sockets?e.sockets.allSockets.filter((e=>e.isPerk&&e.visibleInGame&&k(e))).map((e=>({...e,isReusable:!1}))):[]}function A(e,t){return e.plugged?.plugDef.plug.plugCategoryHash===t}function k(e){return A(e,1744546145)}function w(e,t){return e.emptyPlugItemHash===t||e.plugSet?.plugs.some((e=>e.plugDef.hash===t))||e.reusablePlugItems?.some((e=>e.plugItemHash===t))}function I(e){const{singleInitialItemHash:t}=e.socketDefinition;return t||e.plugSet.plugs[0].plugDef.hash}const S=["events.solstice."];function x(e){return S.some((t=>e.plugged?.plugDef.plug.plugCategoryIdentifier.startsWith(t)))}function T(e){return 7906839===e.plug.plugCategoryHash&&3===e.inventory.tierType}function N(e){return(0,i.U9)(e.allSockets,(e=>e.plugged&&T(e.plugged.plugDef)))}const C=[2140934067,764703411,3400923910,2047681910],H=[1313488945,2819965312,193371309,271461480],P=[309722977,3218807805,457473665];function D(e){return(e.plug.energyCost?.energyCost??0)>=1&&!e.plug.plugCategoryIdentifier.endsWith(".fragments")&&!e.plug.plugCategoryIdentifier.endsWith(".trinkets")&&!(a.Uo.includes(e.plug.plugCategoryHash)&&!e.itemCategoryHashes?.includes(4104513227))}const M=2251952357;function E(e,t,o,s){const n=new Map;for(const a of e){if(!o(a))continue;const e=u(t,a.socketIndexes).filter((e=>(e.plugged||e.plugOptions[0])?.plugDef.displayProperties.name&&s(e)));e.length&&n.set(a,e)}return n}function R(e){return e.plugged&&(e.plugged.plugDef.hash===e.emptyPlugItemHash||r.c.has(e.plugged?.plugDef.hash))&&1915962497!==e.plugged.plugDef.plug.plugCategoryHash}function L(e,t=!1){return e.bucket.inWeapons?V(e,t):q(e,t)}function V(e,t=!1){if(!e.sockets)return;const o=g(e),a=e.sockets.categories.find((t=>3956125808!==t.category.hash&&t.socketIndexes.length&&m(e.sockets,t.socketIndexes[0])?.isPerk)),r=[s.t8,!e.crafted&&s.PX],i=[2019022937,711031169,3520412733,1716719962,!e.catalystInfo&&1915962497,1466776700,674045876,405287501],c=E(e.sockets.categories.toReversed(),e.sockets,(e=>!r.includes(e.category.hash)&&e!==a),(e=>!(t&&R(e)||null===e.plugged||i.includes(e.plugged.plugDef.plug.plugCategoryHash)||e===o||(0,n.LN)(e)||3618704867===e.plugged.plugDef.plug.plugCategoryHash&&R(e))));return{intrinsicSocket:o,perks:a,modSocketsByCategory:c}}function q(e,t=!1){if(!e.sockets)return;const o=v(e),s=E(e.sockets.categories,e.sockets,(e=>5!==e.category.categoryStyle&&1093090108!==e.category.hash&&e.category.uiCategoryStyle!==M),(s=>!(s.socketIndex===o?.socketIndex||t&&R(s)||x(s)||1934732343===s.plugged?.plugDef.plug.plugCategoryHash||3773173029===s.plugged?.plugDef.plug.plugCategoryHash&&!s.visibleInGame||4023194814===e.bucket.hash&&s.socketDefinition.socketTypeHash===(e.masterwork?456763785:2899644539))));return{intrinsicSocket:o,modSocketsByCategory:s}}function O(e,t){const o=t.socketDefinition;let s=null;if(t.isPerk)if(o.reusablePlugSetHash){const t=e.PlugSet.get(o.reusablePlugSetHash);t&&(s=t.reusablePlugItems.map((e=>e.plugItemHash)))}else o.reusablePlugItems&&(s=o.reusablePlugItems.map((e=>e.plugItemHash)));return s}function _(e,t){if("Weapons"!==t.bucket?.sort||"Legendary"!==t.tier)return!1;const o=t.sockets?.allSockets.filter((e=>e.isPerk&&e.plugOptions.length&&!(0,c.iR)(e))).map((t=>({socket:t,curatedRoll:O(e,t)}))).filter((({curatedRoll:e})=>e)).every((({socket:e,curatedRoll:t})=>t.length===e.plugOptions.length&&e.plugOptions.every(((e,o)=>e.plugDef.hash===t[o]))));return o}},10742:(e,t,o)=>{o.d(t,{C0:()=>r,c1:()=>a,n5:()=>i});var s=o(7649),n=o.n(s);const[a,r,i]=function(){const e=new(n()),{name:t,version:o}=e.getBrowser(),{name:s,version:a}=e.getOS(),r=e.getUA(),i=r.indexOf("DIM AppStore");let c=`${t} ${o}`;return i>=0&&(c=r.substring(i)),[`${c} - ${s} ${a}`,t,o]}()},20204:(e,t,o)=>{o.d(t,{W:()=>n,Z:()=>a});var s=o(80943);const n=document.getElementById("temp-container");function a({children:e}){return(0,s.createPortal)(e,n)}},16588:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var s=o(20204);const n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],a="undefined"!=typeof window,r=a&&null!==window.mozInnerScreenX;function i(e,t){if(!a)throw Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div";const i=o.style,c=window.getComputedStyle(e),l="INPUT"===e.nodeName;i.whiteSpace="pre-wrap",l||(i.wordWrap="break-word"),i.position="absolute",i.visibility="hidden",n.forEach((function(e){if(l&&"lineHeight"===e)if("border-box"===c.boxSizing){const e=parseInt(c.height),t=parseInt(c.paddingTop)+parseInt(c.paddingBottom)+parseInt(c.borderTopWidth)+parseInt(c.borderBottomWidth),o=t+parseInt(c.lineHeight);i.lineHeight=e>o?e-t+"px":e===o?c.lineHeight:"0"}else i.lineHeight=c.height;else i[e]=c[e]})),r?e.scrollHeight>parseInt(c.height)&&(i.overflowY="scroll"):i.overflow="hidden",o.textContent=e.value.substring(0,t),l&&(o.textContent=o.textContent.replace(/\s/g," "));const d=document.createElement("span");d.textContent=e.value.substring(t)||".",o.appendChild(d);const u=s.W;u.appendChild(o);const m={top:d.offsetTop+parseInt(c.borderTopWidth),left:d.offsetLeft+parseInt(c.borderLeftWidth),height:parseInt(c.lineHeight)};return u.removeChild(o),m}},76381:(e,t,o)=>{o.d(t,{Vb:()=>c,qt:()=>i,uR:()=>a,z1:()=>r});var s=o(2290);function n(e){return[Math.floor((e=Math.floor(Math.max(0,e)))/864e5),Math.floor((e%=864e5)/36e5),Math.floor((e%=36e5)/6e4),Math.floor((e%=6e4)/1e3),e%=1e3]}function a(e,t=3){const o=n(e).slice(0,-1);for(;0===o[0]&&o.length>t;)o.shift();return o.map(((e,t)=>(""+e).padStart(0===t?0:2,"0"))).join(":")}function r(e){const t=n(e);for(;0===t[0]&&t.length>3;)t.shift();const o=t.pop();return t[t.length-1]=(1e3*t.at(-1)+o)/1e3,t.map(((e,t)=>0!==t&&e<10?"0"+e:e)).join(":")}function i(e,t=!1){const[o,a,r]=n(e),i=`${a}:${(""+r).padStart(2,"0")}`;return o?`${(0,s.t)("Countdown.Days",{count:o,context:t?"compact":"",metadata:{context:["compact"]}})} ${i}`:""+i}function c(e){const[t,o,a,r]=n(e),i=`${o}:${(""+a).padStart(2,"0")}:${(""+r).padStart(2,"0")}`;return t?`${(0,s.t)("Countdown.Days",{count:t,context:"",metadata:{context:["compact"]}})} ${i}`:""+i}},46226:(e,t,o)=>{o.d(t,{W:()=>i});var s=o(8761),n=o(18374);function a(e,t){switch(t.type){case"set":{const{undoStack:o,state:s}=e;return{state:t.update(s),undoStack:[...o,s],redoStack:[]}}case"undo":{const{undoStack:t,redoStack:o,state:s}=e;return t.length<1?e:{state:t.at(-1),undoStack:t.slice(0,-1),redoStack:[...o,s]}}case"redo":{const{undoStack:t,redoStack:o,state:s}=e;return o.length<1?e:{state:o.at(-1),undoStack:[...t,s],redoStack:o.slice(0,-1)}}}}function r(e){return{state:e,undoStack:[],redoStack:[]}}function i(e){const[{state:t,undoStack:o,redoStack:i},c]=(0,n.useReducer)(a,e,r),l=(0,n.useCallback)((e=>c({type:"set",update:e})),[]),d=(0,n.useCallback)((()=>c({type:"undo"})),[]),u=(0,n.useCallback)((()=>c({type:"redo"})),[]);return(0,s.E)("mod+z","",d),(0,s.E)("mod+shift+z","",u),{state:t,setState:l,undo:d,redo:u,canUndo:o.length>0,canRedo:i.length>0}}},75724:(e,t,o)=>{o.d(t,{A:()=>c});var s=o(10544),n=o(20505),a=o(38654),r=o(13526);const i={cost:"Cost-m_cost-riWXn680 common-m_flexRow-ZPndn63a"};function c({cost:e,className:t}){const o=(0,a.I3)().InventoryItem.get(e.itemHash);return o?(0,s.A)("div",{className:(0,r.A)(i.cost,t),title:`${e.quantity.toLocaleString()} ${o.displayProperties.name}`},void 0,e.quantity.toLocaleString(),(0,s.A)(n.Ay,{height:12,width:12,src:o.displayProperties.icon})):null}},78587:(e,t,o)=>{o.d(t,{LU:()=>u,bM:()=>p,rA:()=>f,s4:()=>h,uZ:()=>m});var s=o(19654),n=o(38654),a=o(36871),r=o(57551),i=o(69063),c=o(95840),l=o(61898),d=o(99475);const u=(0,l.createAction)("vendors/LOADED_ALL")(),m=(0,l.createAction)("vendors/LOADED_COMPONENT")(),h=(0,l.createAction)("vendors/LOADED_ERROR")(),p=(0,l.createAction)("vendors/SHOW_UNCOLLECTED_ONLY")();function f(e,t,o=!1){return async(l,p)=>{const f=Date.now()-(p().vendors.vendorsByCharacter[t]?.lastLoaded||0);if(!o&&f<6e4)return;const v={salesTime:0,componentsNeeded:0,componentsFetched:0,componentsTime:0};let b=Date.now();try{const o=await(0,d.YQ)(e,t);v.salesTime=Date.now()-b,l(u({vendorsResponse:o,characterId:t}));const i=(0,n.Ph)(p());if(!i?.isDestiny2)return;const c=window.location.pathname.includes("/vendors"),h=y(o.vendorGroups.data?.groups.flatMap((e=>e.vendorHashes))??[],i),f=(0,a.x1)(Object.entries(o.sales.data),(([e,t])=>{const o=+e;if(h.includes(o))for(const{itemHash:e}of Object.values(t.saleItems))if(g(i,e))return o}));v.componentsNeeded=f.length;const{collapsedSections:A}=(0,s.t2)(p());f.sort((0,r.o2)((0,r.VE)((e=>!i.Vendor.getOptional(e)?.groups.length)),(0,r.VE)((e=>!!A["d2vendor-"+e])),(0,r.hn)(h,(e=>e))));const k=[],w=[];for(const o of f)w.push((async()=>{try{b=Date.now();const s=await(0,d.SN)(e,t,o);v.componentsTime+=Date.now()-b,v.componentsFetched++,c?l(m({vendorResponses:[[o,s]],characterId:t})):k.push([o,s])}catch{}})());await Promise.all(w),c||l(m({vendorResponses:k,characterId:t}))}catch(e){const o=(0,i.n)(e);l(h({characterId:t,error:o}))}finally{(0,c.zh)("Vendors",[`sales data loaded: ${v.salesTime/1e3}s`,`component data for ${v.componentsFetched} vendors loaded: ${v.componentsTime/1e3}s`,v.componentsFetched===v.componentsNeeded?0:v.componentsNeeded-v.componentsFetched+" components not loaded?"].filter(Boolean).join(" / "))}}}function g(e,t){const o=e.InventoryItem.getOptional(t);return o&&(2===o.itemType||3===o.itemType&&6!==o.inventory.tierType)}function y(e,t,o=Array.from(e)){for(const s of e){const e=[],n=t.Vendor.getOptional(s)?.itemList??[];for(const s of n)if(!s.currencies?.length){const n=t.InventoryItem.getOptional(s.itemHash)?.preview?.previewVendorHash;!n||e.includes(n)||o.includes(n)||e.push(n)}o.push(...e),e.length&&y(e,t,o)}return o}},20899:(e,t,o)=>{o.d(t,{Si:()=>y,Oj:()=>v,Jm:()=>g,Pb:()=>f,mN:()=>h,_Z:()=>m}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(59816),n=o(36871),a=o(57551),r=o(54511),i=o(11519),c=o(52040);function l(e,t,o,s){const n=(0,r.N)(e),a=n(t)?.hash;let i;return a&&(i=o?.profileCollectibles?.data?.collectibles[a]?.state??(s?o?.characterCollectibles?.data?.[s]?.collectibles[a]?.state:void 0)),i}function d(e,t,o,n,a,r,i,d){const{defs:u,profileResponse:m}=e,h=u.InventoryItem.get(t),p={failureStrings:o,vendorItemIndex:d,displayProperties:h.displayProperties,borderless:!!h.uiItemDisplayStyle,displayTile:"ui_display_style_set_container"===h.uiItemDisplayStyle,owned:!(h.inventory&&h.inventory.bucketTypeHash!==s.pQ||!(128&(r?.augments||0))),locked:!!(262144&(r?.augments||0)),canBeSold:!r||0===r.failureIndexes.length,displayCategoryIndex:a?.displayCategoryIndex,originalCategoryIndex:a?.originalCategoryIndex,costs:r?.costs||[],previewVendorHash:h.preview?.previewVendorHash,collectibleState:l(e.defs,h,m,i),item:(0,c.h4)(e,t,{itemInstanceId:""+d,quantity:a?a.quantity:1,allowWishList:!0,itemValueVisibility:r?.itemValueVisibility})};if(p.item&&(p.item.hidePercentage=!0,p.item.id=`${n}-${p.vendorItemIndex}`,p.item.index=p.item.id,p.item.instanced=!1,p.item.lockable=!1,p.item.vendor={vendorHash:n,vendorItemIndex:d,characterId:i},p.item.equipment&&4274335291!==p.item.bucket.hash&&(p.item.comparable=!0)),2255782930===n&&r?.overrideStyleItemHash&&p.item){const e=u.InventoryItem.get(r.overrideStyleItemHash);if(e){const t=e.displayProperties;p.item.name=t.name,p.item.icon=t.icon}}return p}const u=[350061650,672118013,3361454721];function m(e,t,o){if(!t.vendorGroups.data)return[];const{defs:s}=e;return Object.values(t.vendorGroups.data.groups).map((r=>({def:s.VendorGroup.get(r.vendorGroupHash),vendors:(0,n.x1)(r.vendorHashes,(s=>{const n=h({...e,itemComponents:t.itemComponents?.[s]},s,t.vendors.data?.[s],o,t.sales.data?.[s]?.saleItems,t);return n?.items.length?n:void 0})).sort((0,a.hn)(u,(e=>e.def.hash)))}))).sort((0,a.VE)((e=>e.def.order)))}function h(e,t,o,s,r,c){const{defs:l}=e,u=l.Vendor.get(t);if(!u)return;const m=function(e,t,o,s){return s?Object.values(s).map((s=>function(e,t,o,s){const n=t.itemList[o.vendorItemIndex],a=o&&t&&o.failureIndexes?o.failureIndexes.map((e=>t.failureStrings[e])):(0,i.tR)();return d(e,o.itemHash,a,t.hash,n,o,s,o.vendorItemIndex)}(e,t,s,o))):t.returnWithVendorRequest?[]:t.itemList.map(((t,s)=>function(e,t,o,s){const n=d(e,t.itemHash,[],0,t,void 0,o,s);return n.item&&(n.item.missingSockets=!1),n}(e,t,o,s)))}(e,u,s,r);m.sort((0,a.o2)((0,a.VE)((e=>void 0!==e.originalCategoryIndex&&u.originalCategories[e.originalCategoryIndex]?.sortValue)),(0,a.VE)((e=>e.vendorItemIndex))));const h="number"==typeof o?.vendorLocationIndex&&o.vendorLocationIndex>=0?u.locations[o.vendorLocationIndex]?.destinationHash??0:0,f=h?l.Destination.get(h):void 0,g=f?.placeHash?l.Place.get(f.placeHash):void 0,y=new Set;p(l,u,c,r,y);const v=(0,n.oE)(Array.from(y,(e=>l.InventoryItem.get(e))).filter((e=>!e?.itemCategoryHashes?.includes(41)&&!e?.itemCategoryHashes?.includes(208981632))));return v.sort((0,a.VE)((e=>e.inventory?.tierType))),{component:o,def:u,destination:f,place:g,items:m,currencies:v}}function p(e,t,o,s,n,a=new Set){for(const e of s?Object.values(s).flatMap((e=>e.costs)):t.itemList.flatMap((e=>e.currencies)))n.add(e.itemHash);for(const s of t.itemList){if(!e.InventoryItem.get(s.itemHash))continue;const t=e.InventoryItem.get(s.itemHash)?.preview?.previewVendorHash;if(t&&!a.has(t)){a.add(t);const s=e.Vendor.get(t);p(e,s,o,o?.sales.data?.[t]?.saleItems,n,a)}}}function f(e,t){return e.map((e=>({...e,vendors:e.vendors.map((e=>({...e,items:e.items.filter((o=>t(o,e)))}))).filter((e=>e.items.length))}))).filter((e=>e.vendors.length))}function g(e){return({owned:t,item:o,collectibleState:s})=>o&&!t&&(void 0!==s?!!(1&s):(o.itemCategoryHashes.includes(59)||o.itemCategoryHashes.includes(41))&&!e.has(o.hash))}function y(){return({costs:e,displayCategoryIndex:t},o)=>{if(e.some((e=>e.itemHash===s.l7&&e.quantity>0)))return!1;const n=void 0!==t&&t>=0&&o.def.displayCategories[t].identifier;return!(n&&(n.startsWith("categories.campaigns")||n.startsWith("categories.featured.carousel")))}}function v(e,t){return({item:o},s)=>s.def.displayProperties.name.toLowerCase().includes(e.toLowerCase())||o&&t(o)}},75062:(e,t,o)=>{o.d(t,{HP:()=>h,Hv:()=>b,Lo:()=>A,Yf:()=>y,Zd:()=>v,iO:()=>f}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(19654),n=o(62447),a=o(65),r=o(92298),i=o(86119),c=o(36871),l=o(11519),d=o(18604),u=o(63150),m=o(20899);const h=e=>e.vendors.vendorsByCharacter,p=(e,t)=>t||(0,a.ZS)((0,n.pl)(e))?.id,f=(0,d.d)((0,u.Mz)(n.cb,h,p,((e,t,o)=>{if(!e.defs||!e.buckets||!e.profileResponse)return(0,l.tR)();const s=o?t[o]:void 0,n=s?.vendorsResponse;return n&&s&&o?(0,m._Z)(e,n,o):(0,l.tR)()}))),g=(0,d.d)((0,u.Mz)(n.cb,h,f.selector,p,((e,t,o,s)=>{const n=s?t[s]:void 0,a=n?.vendorsResponse;if(!a||!s)return{};const r={},i=o.flatMap((e=>e.vendors));for(;i.length;){const t=i.pop();for(const o of t.items){const t=o.previewVendorHash;if(t&&!r[t]){const n=(0,m.mN)({...e,itemComponents:a.itemComponents?.[t]},o.previewVendorHash,a.vendors.data?.[t],s,a.sales.data?.[t]?.saleItems,a);n&&(r[t]=n,i.push(n))}}}return r}))),y=e=>e.vendors.showUnacquiredOnly,v=(0,u.Mz)(((e,t)=>t),f.selector,g.selector,((e,t,o)=>e?(0,c.oE)(t.flatMap((e=>e.vendors)).concat(Object.values(o)).flatMap((e=>e.items.map((e=>e.item)))).filter((e=>!e?.itemCategoryHashes.includes(3109687656)))):(0,l.tR)())),b=(0,d.d)((0,u.Mz)(n.RJ,n.lt,((e,t)=>t),((e,t,o)=>new Set([...e.accountWideOwned,...t.accountWideOwned,...o&&e.storeSpecificOwned[o]||[],...o&&t.storeSpecificOwned[o]||[]])))),A=(0,d.d)((0,u.Mz)(b.selector,y,g.selector,i.iT,r.iP,(0,s.A2)("vendorsHideSilverItems"),((e,t,o,s,n,a)=>{const r=[],i=(0,m.Si)();function c(e,t,s){if(r.every((o=>o(e,t))))return!0;const n=e.item?.previewVendor;if(n&&!s.includes(n)&&(!a||i(e,t))){const e=o[n];if(e)return e.items.some((t=>c(t,e,[...s,n])))}return!1}return a&&r.push(i),t&&r.push((0,m.Jm)(e)),s.length&&r.push((0,m.Oj)(s,n)),(e,t)=>c(e,t,[])})))},71684:(e,t,o)=>{o.d(t,{A:()=>m,B:()=>u});var s=o(10544),n=o(30671),a=o(88122),r=o(18374),i=o(8935),c=o(47237),l=o(94518);const d=(0,r.lazy)((async()=>({default:(await Promise.all([o.e(254),o.e(96)]).then(o.bind(o,47764))).SingleVendorSheet}))),u=(0,r.createContext)(null);function m({children:e}){const t=(0,i.d4)(n.sZ),[o,m]=(0,r.useState)({}),h=(0,r.useCallback)((()=>{m({})}),[]);return(0,a.ef)(c.C,(0,r.useCallback)((()=>{m({})}),[])),(0,l.jsx)(l.Fragment,{children:(0,s.A)(u.Provider,{value:m},void 0,e,(0,s.A)(r.Suspense,{fallback:null},void 0,t&&o.characterId&&void 0!==o.vendorHash&&(0,s.A)(d,{account:t,characterId:o.characterId,vendorHash:o.vendorHash,onClose:h})))})}},47237:(e,t,o)=>{o.d(t,{C:()=>s,W:()=>n});const s=new(o(46673).l);function n(){s.next(void 0)}},23453:(e,t,o)=>{o.d(t,{W:()=>u,A:()=>h});var s=o(10544),n=o(2290),a=o(372),r=o(86119),i=o(8935),c=o(66265);const l="BungieAlerts-m_info-celoga9g BungieAlerts-m_bungie-alert-E2Yjb4IV";var d;const u=["info","info","warn","error"],m={0:l,1:l,2:"BungieAlerts-m_warn-bBCysDxc BungieAlerts-m_bungie-alert-E2Yjb4IV",3:"BungieAlerts-m_error-mc89pFV6 BungieAlerts-m_bungie-alert-E2Yjb4IV"};function h(){const e=(0,i.d4)(r.DY);return(0,s.A)("div",{},void 0,e.map((e=>(0,s.A)("div",{className:m[e.AlertLevel]},e.AlertKey,(0,s.A)("h2",{},void 0,(0,n.t)("BungieAlert.Title")),(0,s.A)("p",{dangerouslySetInnerHTML:{__html:e.AlertHtml}}),(0,s.A)("div",{},void 0,(0,n.t)("BungieService.Twitter")," ",d||(d=(0,s.A)(c.A,{href:a.ij},void 0,a.vt)))))))}},85830:(e,t,o)=>{o.d(t,{O:()=>i});var s=o(46673);const n="dim-changelog-viewed-version";function a(e){return e?e.split(".").slice(0,3).join("."):e}function r(e){return e.split(".").map((e=>parseInt(e,10)))}const i=new class{currentVersion=a("8.50.0.3686");previousVersion=a(localStorage.getItem(n));showChangelog$=new s.c(this.showChangelog);changelogWasViewed(){localStorage.setItem(n,this.currentVersion),this.previousVersion=this.currentVersion,this.showChangelog$.next(this.showChangelog)}versionIsNew(e){return"Next"!==e&&!!this.previousVersion&&function(e,t){const o=r(e),s=r(t);for(let e=0;e<3;e++){if((o[e]||0)>(s[e]||0))return 1;if((o[e]||0)<(s[e]||0))return-1}return 0}(e,this.previousVersion)>0}get showChangelog(){return null!==this.previousVersion&&this.currentVersion!==this.previousVersion}}},98207:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(10544),n=o(2290),a=o(60440),r=o(13526);const i={trashlist:"WishListPerkThumb-m_trashlist-H_F9Y09S",thumb:"WishListPerkThumb-m_thumb-rUeBuowE",floated:"WishListPerkThumb-m_floated-N1QueZto"};var c=o(94518);function l({wishListRoll:e,className:t,floated:o,legend:l}){const d=(0,n.t)(e.isUndesirable?"WishListRoll.WorstRatedTip":"WishListRoll.BestRatedTip",{count:(e&&("recommendedPerks"in e?e.recommendedPerks:e.wishListPerks)).size});return(0,c.jsxs)(c.Fragment,{children:[(0,s.A)(a.z9,{className:(0,r.A)(i.thumb,t,o&&i.floated,e.isUndesirable&&i.trashlist),icon:e.isUndesirable?a.pu:a.ms,title:d}),l&&(0,c.jsxs)(c.Fragment,{children:[" = ",d]})]})}},58808:(e,t,o)=>{o.d(t,{Uz:()=>r,_$:()=>a,n8:()=>n});var s=o(61898);const n=(0,s.createAction)("wishlists/LOAD")(),a=(0,s.createAction)("wishlists/CLEAR")(),r=(0,s.createAction)("wishlists/TOUCH")()},90789:(e,t,o)=>{o.d(t,{Zd:()=>m,b0:()=>u,be:()=>l,dO:()=>i,nS:()=>c,ul:()=>r,vX:()=>d}),o(31158);var s=o(11519),n=o(63150),a=o(68363);const r=e=>e.wishLists,i=e=>r(e).lastFetched,c=(0,n.Mz)(r,(e=>Map.groupBy(e.wishListAndInfo.wishListRolls?.filter(Boolean),(e=>e.itemHash)))),l=e=>t=>c(t).get(e)??(0,s.tR)(),d=(0,n.Mz)(c,(e=>e.size>0)),u=(0,n.Mz)(c,(e=>{const t=new Map;return o=>{if(!e||!o.wishListEnabled)return;const s=t.get(o.id);if(void 0!==s)return s||void 0;const n=(0,a.L1)(o,e);return t.set(o.id,n??null),n}})),m=e=>t=>u(t)(e)},72622:(e,t,o)=>{o.d(t,{ff:()=>a,my:()=>n,w0:()=>r});var s=o(2290);const n=[{name:(0,s.tl)("WishListRoll.Voltron"),url:"https://raw.githubusercontent.com/48klocs/dim-wish-list-sources/master/voltron.txt"},{name:(0,s.tl)("WishListRoll.JustAnotherTeam"),url:"https://raw.githubusercontent.com/dsf000z/JAT-wishlists-bundler/main/bundles/DIM-strict/just-another-team-mnk.txt"}],a=["raw.githubusercontent.com","gist.githubusercontent.com"];function r(e){return e.split("|").map((e=>e.trim())).filter((e=>{try{const t=new URL(e);if("https:"!==t.protocol||!a.includes(t.host))return!1}catch{return!1}return!0}))}},59361:(e,t,o)=>{o.d(t,{I:()=>y,O:()=>v});var s=o(40768),n=o(19654),a=o(2290),r=o(14231),i=o(24379),c=o(73835),l=o(97098),d=o(95840),u=o(74136),m=o(58808),h=o(90789),p=o(72622),f=o(37559);const g="wishlist";function y(e){return async(t,o)=>{await t((async(e,t)=>{if(!t().wishLists.loaded)try{const o=await(0,l.Jt)("wishlist");if(t().wishLists.loaded)return;if(o?.wishListAndInfo.source){const e=(0,u.O)((()=>(0,p.w0)(o.wishListAndInfo.source)));for(const[t,s]of o.wishListAndInfo.infos.entries())void 0===s.url&&(s.url=e()[t])}o?.wishListAndInfo?.wishListRolls?.length&&e((0,m.n8)(o))}catch(e){(0,d.PT)(g,"unable to load wishlists from IDB",e)}})),await c.z;const y=(0,n.t2)(o()).wishListSource;if(""===e&&e!==y)return void t((0,i.lH)("wishListSource",e));const b=e??y;if(!b)return;const A=(0,p.w0)(b),{lastFetched:k,wishListAndInfo:{source:w,wishListRolls:I}}=(0,h.ul)(o()),S=void 0!==w&&w!==b;if(!e&&!S&&((x=k)?(Date.now()-x.getTime())/36e5:99999)<24)return;var x;let T;try{T=await Promise.all(A.map((async e=>{const t=await fetch(e);if(t.status<200||t.status>=300)throw await(0,s.YX)(t);return t.text()}))),e&&t((0,i.lH)("wishListSource",e))}catch(e){return(0,r.Ds)({type:"warning",title:(0,a.t)("WishListRoll.Header"),body:(0,a.t)("WishListRoll.ImportFailed")}),void(0,d.PT)(g,"Unable to load wish list",e)}const N=A.map(((e,t)=>[e,T[t]])),C=(0,f.T)(...N);C.source=b,I?.length!==C.wishListRolls.length||S?await t(v(C)):((0,d.zh)(g,"Refreshed wishlist, but it matched the one we already have"),t((0,m.Uz)())),await t(v(C))}}function v(e){return async t=>{e.wishListRolls.length>0?t((0,m.n8)({wishListAndInfo:e})):(0,r.Ds)({type:"warning",title:(0,a.t)("WishListRoll.Header"),body:(0,a.t)("WishListRoll.ImportFailed")})}}},37559:(e,t,o)=>{o.d(t,{T:()=>l}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(11519),n=o(95840);const a="wishlist",r="title:",i="description:",c="//notes:";function l(...e){const t=(0,n.O1)(a,"Parse wish list");try{const t={wishListRolls:[],infos:[]},s=new Set;for(const[l,d]of e){const e={url:l,title:void 0,description:void 0,numRolls:0};let u,h=0;const p=d.split("\n");for(const n of p)if(n.startsWith(c))u=m(n);else if(0===n.length||n.startsWith("//"))u=void 0;else if(!e.title&&n.startsWith(r))e.title=n.slice(r.length);else if(!e.description&&n.startsWith(i))e.description=n.slice(i.length);else{const a=k(n,u)||b(n,u)||y(n,u);if(a){const n=`${a.itemHash};${a.isExpertMode};${o=a.recommendedPerks,""+[...o].sort(((e,t)=>e-t))}`;s.has(n)?h++:(s.add(n),t.wishListRolls.push(a),e.numRolls++)}}h>0&&(0,n.XX)(a,"Discarded",h,"duplicate rolls from wish list",l),t.infos.push(e)}return t}finally{t()}var o}function d(e){return 4===e.length}const u=/^\/\/notes:(?<blockNotes>[^|]*)/;function m(e){const t=u.exec(e);return t?.groups?.blockNotes}function h(e){if(void 0===e.groups?.itemPerks)return(0,s.mj)();const t=e[2].split(","),o=new Set;for(const e of t){const t=+e;t>0&&o.add(t)}return o}function p(e,t){return e.groups?.wishListNotes&&e.groups.wishListNotes.length>1?e.groups.wishListNotes:t}function f(e){return e.groups?+e.groups.itemHash:0}const g=/^https:\/\/destinytracker\.com\/destiny-2\/db\/items\/(?<itemHash>\d+)\D*perks=(?<itemPerks>[\d,]*)(?:#notes:)?(?<wishListNotes>[^|]*)/;function y(e,t){const o=g.exec(e);return o&&d(o)?{itemHash:f(o),recommendedPerks:h(o),isExpertMode:!1,notes:p(o,t)}:null}const v=/^https:\/\/banshee-44\.com\/\?weapon=(?<itemHash>\d.+)&socketEntries=(?<itemPerks>[\d,]*)(?:#notes:)?(?<wishListNotes>[^|]*)/;function b(e,t){const o=v.exec(e);return o&&d(o)?{itemHash:f(o),recommendedPerks:h(o),isExpertMode:!1,notes:p(o,t)}:null}const A=/^dimwishlist:item=(?<itemHash>-?\d+)(?:&perks=)?(?<itemPerks>[\d|,]*)(?:#notes:)?(?<wishListNotes>[^|]*)/;function k(e,t){const o=A.exec(e);if(!o||!d(o))return null;let s=f(o);const n=s<0&&-69420!==s,a=h(o),r=p(o,t);return n&&-69420!==s&&(s=Math.abs(s)),{itemHash:s,recommendedPerks:a,isExpertMode:!0,notes:r,isUndesirable:n}}},68363:(e,t,o)=>{o.d(t,{L1:()=>d,_t:()=>i,yD:()=>a}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);var s=o(1762),n=o(87853);function a(e){if(e)return e.isUndesirable?2:1}function r(e){return 7906839===e.plugDef.plug.plugCategoryHash||!e.plugDef.itemCategoryHashes?.find((e=>2237038328===e||945330047===e||4062965806===e))&&(3313201758!==e.plugDef.inventory.bucketTypeHash||!e.plugDef.inventory.isInstanceItem)&&(e.plugDef.itemCategoryHashes?.some((e=>610365472===e||4104513227===e||303512563===e||4176831154===e))??!1)}function i(e,t){const o=t&&("recommendedPerks"in t?t.recommendedPerks:t.wishListPerks);return!(!o||!o.has(e.plugDef.hash)&&!o.has(s.iZ[e.plugDef.hash]))}function c(e,t){const o=new Set;if(!e.sockets)return o;for(const s of e.sockets.allSockets)if(s.plugged)for(const e of s.plugOptions)r(e)&&i(e,t)&&o.add(e.plugDef.hash);return o}function l(e,t){if(t.isExpertMode){for(const o of t.recommendedPerks){let t=!1;e:for(const s of e.sockets.allSockets)if(s.plugOptions)for(const e of s.plugOptions)if(e.plugDef.hash===o||n[o]===e.plugDef.hash){t=!0;break e}if(!t)return!1}return!0}return e.sockets.allSockets.every((e=>!e.plugged||!r(e.plugged)||e.plugOptions.some((e=>i(e,t)))))}function d(e,t){for(const o of[e.hash,-69420,...e.itemCategoryHashes]){const s=t.get(o)?.find((t=>l(e,t)));if(s)return{wishListPerks:c(e,s),notes:s.notes,isUndesirable:s.isUndesirable}}}},81584:(e,t,o)=>{o.d(t,{A:()=>s}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);const s=new Set(JSON.parse("[4074888076,3615521782,757651572,2662827496,2806361224,1483339932,4188742693,872207875,3478030936,3095041770,3249407402,2164888232,3841661468,3355499393,2490530085,141515518,3435239180,4249817697,2178772051,489506521,1900989425,3133077199,956390015,539564471,4008973208,4080055066,1671927875,3377988521,3272152575,3725333007,308595185,40492375,1817649409,2170254329,749936529,2732540911,1472963920,4231246084,302702765,2617324347,3769337248,1451602450,1875323682,1946568256,2516075140,1069611115,2097693203,4036525828,2912509910,1831499663,2059481925,4203236451,4198833635,1361856293,2897981193,878620401,2426674025,2410819063,453527127,3000852559,3399947696,1045795938,384272571,3226552705,224485255,743857847,364418505,433469519,4113841443,1034287523,886865893,3046673757,3274444880,2563509458,3489809232,2743098132,2012877834,3048420653,395096174,3472640090,3728676938,762204274,2409208302,482158780,2986718682,2159352803,3320257055,1749118639,2552875793,3049431773,451371216,4269485650,1655963600,1063261332,2003022817,1787083609,2986029425,1765356367,581875391,2419864979,1068043187,1020196213,3794558792,2101490074,1739861752,1748364716,1564126489,2984571381,762801111,680193725,2105054824,687584589,368110299,651554065,2100231191,3178379945,1225770249,1886418605,137876701,802623077,1027896051,1978306813,2040155611,738339367,16445399,3228668394,1057935015,2670025099,1891876363,2470575005,1793150018,378204240,2696719570,1338909520,1447716563,1241894699,2826720951,1300107783,3513901081,4000302358,3665558569,3114731754,1827389998,3252839262,1576423267,3688301727,1894749743,1707990417,3035281791,118439741,132189785,885620491,1665848857,811588234,1052350088,3913106382,3419227006,570373697,4175870265,3099083217,3456918063,3332480988,916649862,2155015844,3766386008,217816625,2593449,2479787361,694879972,3573764622,3774850330,2927971896,738967614,2012023082,1782704870,244760020,1208953762,3161047604,1535085486,840061228,156358224,167794220,667908513,210578077,2264456959,3142073525,2458294492,2725422375,3094629643,3356299403,2305599261,621911507,1220310607,1713394949,3030812579,3291480605,2444870733,1370384437,2213429699]"))},82495:(e,t,o)=>{o.d(t,{f:()=>s});const s={1:{name:"The Dawning",shortname:"dawning",sources:[464727567,547767158,629617846,2364515524,3092212681,3952847349,4054646289],engram:[1170720694,3151770741,3488374611]},2:{name:"Crimson Days",shortname:"crimsondays",sources:[2502262376],engram:[191363032,3373123597]},3:{name:"Solstice",shortname:"solstice",sources:[151416041,641018908,1666677522,2050870152,3724111213],engram:[821844118]},4:{name:"Festival of the Lost",shortname:"fotl",sources:[1054169368,1677921161,1919933822,3190938946,3482766024,3693722471,4041583267],engram:[1451959506,1553479004]},5:{name:"The Revelry",shortname:"revelry",sources:[2187511136],engram:[1974821348,2570200927]},6:{name:"Guardian Games",shortname:"games",sources:[611838069,1568732528,2006303146,2011810450,2473294025,3388021959],engram:[]}}},90825:(e,t,o)=>{o.d(t,{Q:()=>s,S:()=>n});const s=JSON.parse('{"1":{"DLCName":"Red War","seasonName":"Red War","seasonTag":"redwar","season":1,"maxLevel":20,"powerFloor":0,"softCap":285,"powerfulCap":300,"pinnacleCap":300,"releaseDate":"2017-09-06","resetTime":"09:00:00Z","numWeeks":13},"2":{"DLCName":"Curse of Osiris","seasonName":"Curse of Osiris","seasonTag":"osiris","season":2,"maxLevel":25,"powerFloor":0,"softCap":320,"powerfulCap":330,"pinnacleCap":330,"releaseDate":"2017-12-05","resetTime":"17:00:00Z","numWeeks":22},"3":{"DLCName":"Warmind","seasonName":"Resurgence","seasonTag":"warmind","season":3,"maxLevel":30,"powerFloor":0,"softCap":340,"powerfulCap":380,"pinnacleCap":380,"releaseDate":"2018-05-08","resetTime":"18:00:00Z","numWeeks":17},"4":{"DLCName":"Forsaken","seasonName":"Season of the Outlaw","seasonTag":"outlaw","season":4,"maxLevel":50,"powerFloor":0,"softCap":500,"powerfulCap":600,"pinnacleCap":600,"releaseDate":"2018-09-04","resetTime":"17:00:00Z","numWeeks":12},"5":{"DLCName":"Black Armory","seasonName":"Season of the Forge","seasonTag":"forge","season":5,"maxLevel":50,"powerFloor":0,"softCap":500,"powerfulCap":650,"pinnacleCap":650,"releaseDate":"2018-11-27","resetTime":"17:00:00Z","numWeeks":14},"6":{"DLCName":"Joker\'s Wild","seasonName":"Season of the Drifter","seasonTag":"drifter","season":6,"maxLevel":50,"powerFloor":0,"softCap":500,"powerfulCap":700,"pinnacleCap":700,"releaseDate":"2019-03-05","resetTime":"17:00:00Z","numWeeks":13},"7":{"DLCName":"Penumbra","seasonName":"Season of Opulence","seasonTag":"opulence","season":7,"maxLevel":50,"powerFloor":0,"softCap":500,"powerfulCap":750,"pinnacleCap":750,"releaseDate":"2019-06-04","resetTime":"17:00:00Z","numWeeks":17},"8":{"DLCName":"Shadowkeep","seasonName":"Season of the Undying","seasonTag":"undying","season":8,"maxLevel":50,"powerFloor":750,"softCap":900,"powerfulCap":950,"pinnacleCap":960,"releaseDate":"2019-10-01","resetTime":"17:00:00Z","numWeeks":10},"9":{"DLCName":"","seasonName":"Season of Dawn","seasonTag":"dawn","season":9,"maxLevel":50,"powerFloor":750,"softCap":900,"powerfulCap":960,"pinnacleCap":970,"releaseDate":"2019-12-10","resetTime":"17:00:00Z","numWeeks":13},"10":{"DLCName":"","seasonName":"Season of the Worthy","seasonTag":"worthy","season":10,"maxLevel":50,"powerFloor":750,"softCap":950,"powerfulCap":1000,"pinnacleCap":1010,"releaseDate":"2020-03-10","resetTime":"17:00:00Z","numWeeks":13},"11":{"DLCName":"","seasonName":"Season of the Arrival","seasonTag":"arrival","season":11,"maxLevel":50,"powerFloor":750,"softCap":1000,"powerfulCap":1050,"pinnacleCap":1060,"releaseDate":"2020-06-09","resetTime":"17:00:00Z","numWeeks":22},"12":{"DLCName":"Beyond Light","seasonName":"Season of the Hunt","seasonTag":"hunt","season":12,"maxLevel":50,"powerFloor":1050,"softCap":1200,"powerfulCap":1250,"pinnacleCap":1260,"releaseDate":"2020-11-10","resetTime":"17:00:00Z","numWeeks":13},"13":{"DLCName":"","seasonName":"Season of the Chosen","seasonTag":"chosen","season":13,"maxLevel":50,"powerFloor":1100,"softCap":1250,"powerfulCap":1300,"pinnacleCap":1310,"releaseDate":"2021-02-09","resetTime":"17:00:00Z","numWeeks":13},"14":{"DLCName":"","seasonName":"Season of the Splicer","seasonTag":"splicer","season":14,"maxLevel":50,"powerFloor":1100,"softCap":1250,"powerfulCap":1310,"pinnacleCap":1320,"releaseDate":"2021-05-11","resetTime":"17:00:00Z","numWeeks":15},"15":{"DLCName":"","seasonName":"Season of the Lost","seasonTag":"lost","season":15,"maxLevel":50,"powerFloor":1100,"softCap":1250,"powerfulCap":1320,"pinnacleCap":1330,"releaseDate":"2021-08-24","resetTime":"17:00:00Z","numWeeks":26},"16":{"DLCName":"Witch Queen","seasonName":"Season of the Risen","seasonTag":"risen","season":16,"maxLevel":50,"powerFloor":1350,"softCap":1500,"powerfulCap":1550,"pinnacleCap":1560,"releaseDate":"2022-02-22","resetTime":"17:00:00Z","numWeeks":13},"17":{"DLCName":"","seasonName":"Season of the Haunted","seasonTag":"haunted","season":17,"maxLevel":50,"powerFloor":1350,"softCap":1510,"powerfulCap":1560,"pinnacleCap":1570,"releaseDate":"2022-05-24","resetTime":"17:00:00Z","numWeeks":13},"18":{"DLCName":"","seasonName":"Season of Plunder","seasonTag":"plunder","season":18,"maxLevel":50,"powerFloor":1350,"softCap":1520,"powerfulCap":1570,"pinnacleCap":1580,"releaseDate":"2022-08-23","resetTime":"17:00:00Z","numWeeks":15},"19":{"DLCName":"","seasonName":"Season of the Seraph","seasonTag":"seraph","season":19,"maxLevel":50,"powerFloor":1350,"softCap":1530,"powerfulCap":1580,"pinnacleCap":1590,"releaseDate":"2022-12-06","resetTime":"17:00:00Z","numWeeks":12},"20":{"DLCName":"Lightfall","seasonName":"Season of Defiance","seasonTag":"defiance","season":20,"maxLevel":50,"powerFloor":1600,"softCap":1750,"powerfulCap":1800,"pinnacleCap":1810,"releaseDate":"2023-02-28","resetTime":"17:00:00Z","numWeeks":12},"21":{"DLCName":"","seasonName":"Season of the Deep","seasonTag":"deep","season":21,"maxLevel":50,"powerFloor":1600,"softCap":1750,"powerfulCap":1800,"pinnacleCap":1810,"releaseDate":"2023-05-23","resetTime":"17:00:00Z","numWeeks":13},"22":{"DLCName":"","seasonName":"Season of the Witch","seasonTag":"witch","season":22,"maxLevel":50,"powerFloor":1600,"softCap":1750,"powerfulCap":1800,"pinnacleCap":1810,"releaseDate":"2023-08-22","resetTime":"17:00:00Z","numWeeks":14},"23":{"DLCName":"","seasonName":"Season of the Wish","seasonTag":"wish","season":23,"maxLevel":50,"powerFloor":1600,"softCap":1750,"powerfulCap":1800,"pinnacleCap":1810,"releaseDate":"2023-11-28","resetTime":"17:00:00Z","numWeeks":27},"24":{"DLCName":"The Final Shape","seasonName":"Episode: Echoes","seasonTag":"echoes","season":24,"maxLevel":50,"powerFloor":1900,"softCap":1940,"powerfulCap":1990,"pinnacleCap":2000,"releaseDate":"2024-06-04","resetTime":"17:00:00Z","numWeeks":18,"episode":1},"25":{"DLCName":"Revenant","seasonName":"Episode: Revenant","seasonTag":"revenant","season":25,"maxLevel":50,"powerFloor":1900,"softCap":1950,"powerfulCap":2000,"pinnacleCap":2010,"releaseDate":"2024-10-08","resetTime":"17:00:00Z","numWeeks":17,"episode":2}}'),n=25},77335:(e,t,o)=>{o.d(t,{c:()=>s}),o(73016),o(97990),o(90383),o(53094),o(93997),o(33650),o(76060);const s=new Set(JSON.parse("[235531041,3545404847,1390587439,1608119540,702981643,1959648454,2931483505,2325217837,4248210736,2794014115,1675508353,791435474,3074755706,2802541735,518663192,1715180370,3875863236,4037640975,2801436041,2789698445,3635963100,321296654,3416473448,3207138885,662916127,3472368310,1080004479,3819991001,2352766955,2164407902,3834374608,1007199041,1527687869,2836298415,3471922734,1498917124,1649663920,1961918267,253922071,1826298670,3363787531,3251563851,2808665197,3720092164,424005861,4205702044,330751742,1618645595,2111549310,770211541,1372656116,1372656117,1219897208,366474809,1779961758,1232390730,3057124503,3803329707,2909846572,481675395,573150099,807186981,1137289077,1659393211,1844045567,4173924323,4055462131,706611068,3738398030,2447143568,1728096240,4144354978,717667840,4059283783,720857,1180997867,2620967748,4106547009,1679876242,3625698764,1182150429,1835369552,2600899007,3851138800,1285086138,3820147479,1803434835,3965359154,3200810407,4059708161,1980618587,787139317,1078080765,79843948,2269836811,144338558,2323986101,3157964220,51925409,1134447515,469511105,2503665585,819232495,4043342755,4216349042,2085536058,1656746282,3725942064,1692473496,760030801]"))},36752:(e,t,o)=>{o.d(t,{r:()=>s});const s=JSON.parse('[{"codepoint":983379,"glyph":"󰅓","source":{"tableName":"InventoryItem","hash":171056525,"fromRichText":false}},{"codepoint":57633,"glyph":"","source":{"tableName":"InventoryItem","hash":3769507633,"fromRichText":false}},{"codepoint":57443,"glyph":"","source":{"tableName":"SandboxPerk","hash":2236497009,"fromRichText":false}},{"codepoint":61181,"glyph":"","source":{"tableName":"InventoryItem","hash":3769507632,"fromRichText":false}},{"codepoint":57634,"glyph":"","source":{"tableName":"InventoryItem","hash":119041299,"fromRichText":false}},{"codepoint":57432,"glyph":"","source":{"tableName":"InventoryItem","hash":119041298,"fromRichText":false}},{"codepoint":57637,"glyph":"","source":{"tableName":"InventoryItem","hash":1081893460,"fromRichText":false}},{"codepoint":57445,"glyph":"","source":{"tableName":"InventoryItem","hash":1081893461,"fromRichText":false}},{"codepoint":61235,"glyph":"","source":{"tableName":"InventoryItem","hash":2370269388,"fromRichText":false}},{"codepoint":57635,"glyph":"","source":{"tableName":"InventoryItem","hash":375052469,"fromRichText":false}},{"codepoint":983041,"glyph":"󰀁","source":{"tableName":"InventoryItem","hash":375052468,"fromRichText":false}},{"codepoint":57442,"glyph":"","source":{"tableName":"InventoryItem","hash":375052471,"fromRichText":false}},{"codepoint":57638,"glyph":"","source":{"tableName":"InventoryItem","hash":2529942647,"fromRichText":false}},{"codepoint":57440,"glyph":"","source":{"tableName":"InventoryItem","hash":2747500760,"fromRichText":false}},{"codepoint":57625,"glyph":"","source":{"tableName":"InventoryItem","hash":2274196886,"fromRichText":false}},{"codepoint":983040,"glyph":"󰀀","source":{"tableName":"InventoryItem","hash":2274196886,"fromRichText":false}},{"codepoint":57430,"glyph":"","source":{"tableName":"InventoryItem","hash":2274196887,"fromRichText":false}},{"codepoint":61237,"glyph":"","source":{"tableName":"InventoryItem","hash":1869939005,"fromRichText":false}},{"codepoint":57639,"glyph":"","source":{"tableName":"InventoryItem","hash":2370269389,"fromRichText":false}},{"codepoint":983044,"glyph":"󰀄","source":{"tableName":"InventoryItem","hash":2722573681,"fromRichText":false}},{"codepoint":57431,"glyph":"","source":{"tableName":"InventoryItem","hash":2722573682,"fromRichText":false}},{"codepoint":57640,"glyph":"","source":{"tableName":"InventoryItem","hash":4260353952,"fromRichText":false}},{"codepoint":57441,"glyph":"","source":{"tableName":"SandboxPerk","hash":3112248479,"fromRichText":false}},{"codepoint":983045,"glyph":"󰀅","source":{"tableName":"InventoryItem","hash":4260353953,"fromRichText":false}},{"codepoint":57632,"glyph":"","source":{"tableName":"SandboxPerk","hash":3484134371,"fromRichText":false}},{"codepoint":983042,"glyph":"󰀂","source":{"tableName":"InventoryItem","hash":1656118682,"fromRichText":false}},{"codepoint":983043,"glyph":"󰀃","source":{"tableName":"InventoryItem","hash":1656118681,"fromRichText":false}},{"codepoint":57444,"glyph":"","source":{"tableName":"InventoryItem","hash":1656118680,"fromRichText":false}},{"codepoint":61238,"glyph":"","source":{"tableName":"InventoryItem","hash":2529942646,"fromRichText":false}},{"codepoint":57476,"glyph":"","source":{"tableName":"InventoryItem","hash":2370269391,"fromRichText":false}},{"codepoint":57475,"glyph":"","source":{"tableName":"InventoryItem","hash":2021620139,"fromRichText":false}},{"codepoint":57477,"glyph":"","source":{"tableName":"InventoryItem","hash":1869939006,"fromRichText":false}},{"codepoint":61195,"glyph":"","source":{"tableName":"InventoryItem","hash":2370269384,"fromRichText":false}},{"codepoint":61196,"glyph":"","source":{"tableName":"InventoryItem","hash":2529942642,"fromRichText":false}},{"codepoint":61197,"glyph":"","source":{"tableName":"InventoryItem","hash":1869939001,"fromRichText":false}},{"codepoint":57616,"glyph":"","source":{"tableName":"Objective","hash":44811435,"fromRichText":true}},{"codepoint":983058,"glyph":"󰀒","source":{"tableName":"InventoryItem","hash":2657901005,"fromRichText":false}},{"codepoint":983064,"glyph":"󰀘","source":{"tableName":"InventoryItem","hash":2716335210,"fromRichText":false}},{"codepoint":983132,"glyph":"󰁜","source":{"tableName":"InventoryItem","hash":2708585277,"fromRichText":false}},{"codepoint":983049,"glyph":"󰀉","source":{"tableName":"InventoryItem","hash":2708585276,"fromRichText":false}},{"codepoint":61179,"glyph":"","source":{"tableName":"InventoryItem","hash":1980796563,"fromRichText":false}},{"codepoint":983056,"glyph":"󰀐","source":{"tableName":"InventoryItem","hash":1232050831,"fromRichText":false}},{"codepoint":983048,"glyph":"󰀈","source":{"tableName":"InventoryItem","hash":1232050830,"fromRichText":false}},{"codepoint":57636,"glyph":"","source":{"tableName":"InventoryItem","hash":3710811138,"fromRichText":false}},{"codepoint":983112,"glyph":"󰁈","source":{"tableName":"InventoryItem","hash":4016776974,"fromRichText":false}},{"codepoint":983113,"glyph":"󰁉","source":{"tableName":"InventoryItem","hash":4016776973,"fromRichText":false}},{"codepoint":983114,"glyph":"󰁊","source":{"tableName":"InventoryItem","hash":2657901004,"fromRichText":false}},{"codepoint":983115,"glyph":"󰁋","source":{"tableName":"InventoryItem","hash":4016776975,"fromRichText":false}},{"codepoint":983100,"glyph":"󰀼","source":{"tableName":"InventoryItem","hash":852252788,"fromRichText":false}},{"codepoint":57447,"glyph":"","source":{"tableName":"InventoryItem","hash":852252789,"fromRichText":false}},{"codepoint":983055,"glyph":"󰀏","source":{"tableName":"InventoryItem","hash":1470370539,"fromRichText":false}},{"codepoint":57622,"glyph":"","source":{"tableName":"InventoryItem","hash":1470370538,"fromRichText":false}},{"codepoint":61236,"glyph":"","source":{"tableName":"InventoryItem","hash":83039192,"fromRichText":false}},{"codepoint":983137,"glyph":"󰁡","source":{"tableName":"InventoryItem","hash":1139822081,"fromRichText":false}},{"codepoint":57618,"glyph":"","source":{"tableName":"Objective","hash":1157531927,"fromRichText":false}},{"codepoint":983135,"glyph":"󰁟","source":{"tableName":"InventoryItem","hash":4220332375,"fromRichText":false}},{"codepoint":57493,"glyph":"","source":{"tableName":"InventoryItem","hash":1980796560,"fromRichText":false}},{"codepoint":57494,"glyph":"","source":{"tableName":"InventoryItem","hash":2299867342,"fromRichText":false}},{"codepoint":57479,"glyph":"","source":{"tableName":"InventoryItem","hash":1341767667,"fromRichText":false}},{"codepoint":57478,"glyph":"","source":{"tableName":"InventoryItem","hash":1980796561,"fromRichText":false}},{"codepoint":57480,"glyph":"","source":{"tableName":"InventoryItem","hash":2543177538,"fromRichText":false}},{"codepoint":61190,"glyph":"","source":{"tableName":"InventoryItem","hash":1680616210,"fromRichText":false}},{"codepoint":61191,"glyph":"","source":{"tableName":"InventoryItem","hash":1980796564,"fromRichText":false}},{"codepoint":61192,"glyph":"","source":{"tableName":"InventoryItem","hash":2307689415,"fromRichText":false}},{"codepoint":57617,"glyph":"","source":{"tableName":"Objective","hash":45245118,"fromRichText":true}},{"codepoint":983076,"glyph":"󰀤","source":{"tableName":"InventoryItem","hash":1582574009,"fromRichText":false}},{"codepoint":983079,"glyph":"󰀧","source":{"tableName":"InventoryItem","hash":2909720723,"fromRichText":false}},{"codepoint":983080,"glyph":"󰀨","source":{"tableName":"InventoryItem","hash":4198689901,"fromRichText":false}},{"codepoint":983084,"glyph":"󰀬","source":{"tableName":"InventoryItem","hash":2994412667,"fromRichText":false}},{"codepoint":983086,"glyph":"󰀮","source":{"tableName":"InventoryItem","hash":1323461861,"fromRichText":false}},{"codepoint":983088,"glyph":"󰀰","source":{"tableName":"InventoryItem","hash":146194908,"fromRichText":false}},{"codepoint":983090,"glyph":"󰀲","source":{"tableName":"InventoryItem","hash":2481624867,"fromRichText":false}},{"codepoint":983078,"glyph":"󰀦","source":{"tableName":"InventoryItem","hash":2202441959,"fromRichText":false}},{"codepoint":983081,"glyph":"󰀩","source":{"tableName":"InventoryItem","hash":1013086087,"fromRichText":false}},{"codepoint":983082,"glyph":"󰀪","source":{"tableName":"InventoryItem","hash":1841016428,"fromRichText":false}},{"codepoint":983083,"glyph":"󰀫","source":{"tableName":"InventoryItem","hash":2581086849,"fromRichText":false}},{"codepoint":983089,"glyph":"󰀱","source":{"tableName":"InventoryItem","hash":2216698406,"fromRichText":false}},{"codepoint":983092,"glyph":"󰀴","source":{"tableName":"InventoryItem","hash":2842514288,"fromRichText":false}},{"codepoint":983093,"glyph":"󰀵","source":{"tableName":"InventoryItem","hash":2400634603,"fromRichText":false}},{"codepoint":983094,"glyph":"󰀶","source":{"tableName":"InventoryItem","hash":2946990961,"fromRichText":false}},{"codepoint":983077,"glyph":"󰀥","source":{"tableName":"InventoryItem","hash":3232422679,"fromRichText":false}},{"codepoint":983085,"glyph":"󰀭","source":{"tableName":"InventoryItem","hash":886607940,"fromRichText":false}},{"codepoint":983087,"glyph":"󰀯","source":{"tableName":"InventoryItem","hash":1514173218,"fromRichText":false}},{"codepoint":983091,"glyph":"󰀳","source":{"tableName":"InventoryItem","hash":2265076177,"fromRichText":false}},{"codepoint":983095,"glyph":"󰀷","source":{"tableName":"InventoryItem","hash":1255073825,"fromRichText":false}},{"codepoint":983096,"glyph":"󰀸","source":{"tableName":"InventoryItem","hash":2809141585,"fromRichText":false}},{"codepoint":983097,"glyph":"󰀹","source":{"tableName":"InventoryItem","hash":1016030582,"fromRichText":false}},{"codepoint":57472,"glyph":"","source":{"tableName":"InventoryItem","hash":1399219,"fromRichText":false}},{"codepoint":57473,"glyph":"","source":{"tableName":"InventoryItem","hash":1399216,"fromRichText":false}},{"codepoint":57474,"glyph":"","source":{"tableName":"InventoryItem","hash":1399217,"fromRichText":false}},{"codepoint":61186,"glyph":"","source":{"tableName":"InventoryItem","hash":1517917190,"fromRichText":false}},{"codepoint":61187,"glyph":"","source":{"tableName":"InventoryItem","hash":3994381207,"fromRichText":false}},{"codepoint":61188,"glyph":"","source":{"tableName":"InventoryItem","hash":1225978592,"fromRichText":false}},{"codepoint":61242,"glyph":"","source":{"tableName":"InventoryItem","hash":1005476557,"fromRichText":false}},{"codepoint":61241,"glyph":"","source":{"tableName":"InventoryItem","hash":275534325,"fromRichText":false}},{"codepoint":61243,"glyph":"","source":{"tableName":"InventoryItem","hash":1324853482,"fromRichText":false}},{"codepoint":983306,"glyph":"󰄊","source":{"tableName":"InventoryItem","hash":405131479,"fromRichText":false}},{"codepoint":983066,"glyph":"󰀚","source":{"tableName":"InventoryItem","hash":426473317,"fromRichText":false}},{"codepoint":983067,"glyph":"󰀛","source":{"tableName":"InventoryItem","hash":426473316,"fromRichText":false}},{"codepoint":983065,"glyph":"󰀙","source":{"tableName":"InventoryItem","hash":2711519343,"fromRichText":false}},{"codepoint":61234,"glyph":"","source":{"tableName":"InventoryItem","hash":2835214901,"fromRichText":false}},{"codepoint":983050,"glyph":"󰀊","source":{"tableName":"InventoryItem","hash":489583097,"fromRichText":false}},{"codepoint":983051,"glyph":"󰀋","source":{"tableName":"InventoryItem","hash":489583096,"fromRichText":false}},{"codepoint":983146,"glyph":"󰁪","source":{"tableName":"InventoryItem","hash":489583098,"fromRichText":false}},{"codepoint":983128,"glyph":"󰁘","source":{"tableName":"InventoryItem","hash":25156514,"fromRichText":false}},{"codepoint":983129,"glyph":"󰁙","source":{"tableName":"InventoryItem","hash":25156515,"fromRichText":false}},{"codepoint":983125,"glyph":"󰁕","source":{"tableName":"InventoryItem","hash":1444664836,"fromRichText":false}},{"codepoint":983380,"glyph":"󰅔","source":{"tableName":"InventoryItem","hash":230819033,"fromRichText":false}},{"codepoint":983109,"glyph":"󰁅","source":{"tableName":"InventoryItem","hash":20616658,"fromRichText":false}},{"codepoint":983110,"glyph":"󰁆","source":{"tableName":"InventoryItem","hash":20616659,"fromRichText":false}},{"codepoint":983111,"glyph":"󰁇","source":{"tableName":"InventoryItem","hash":20616656,"fromRichText":false}},{"codepoint":983119,"glyph":"󰁏","source":{"tableName":"InventoryItem","hash":266130437,"fromRichText":false}},{"codepoint":983120,"glyph":"󰁐","source":{"tableName":"InventoryItem","hash":266130439,"fromRichText":false}},{"codepoint":983121,"glyph":"󰁑","source":{"tableName":"InventoryItem","hash":266130438,"fromRichText":false}},{"codepoint":983073,"glyph":"󰀡","source":{"tableName":"InventoryItem","hash":5333294,"fromRichText":false}},{"codepoint":983074,"glyph":"󰀢","source":{"tableName":"InventoryItem","hash":5333293,"fromRichText":false}},{"codepoint":983075,"glyph":"󰀣","source":{"tableName":"InventoryItem","hash":5333292,"fromRichText":false}},{"codepoint":983054,"glyph":"󰀎","source":{"tableName":"InventoryItem","hash":5333295,"fromRichText":false}},{"codepoint":983301,"glyph":"󰄅","source":{"tableName":"InventoryItem","hash":483775550,"fromRichText":false}},{"codepoint":983176,"glyph":"󰂈","source":{"tableName":"InventoryItem","hash":190429600,"fromRichText":false}},{"codepoint":983070,"glyph":"󰀞","source":{"tableName":"InventoryItem","hash":4194622036,"fromRichText":false}},{"codepoint":983118,"glyph":"󰁎","source":{"tableName":"InventoryItem","hash":4194622038,"fromRichText":false}},{"codepoint":983145,"glyph":"󰁩","source":{"tableName":"InventoryItem","hash":4194622037,"fromRichText":false}},{"codepoint":983108,"glyph":"󰁄","source":{"tableName":"InventoryItem","hash":1656549673,"fromRichText":false}},{"codepoint":983117,"glyph":"󰁍","source":{"tableName":"InventoryItem","hash":1262901523,"fromRichText":false}},{"codepoint":983148,"glyph":"󰁬","source":{"tableName":"InventoryItem","hash":1656549672,"fromRichText":false}},{"codepoint":983047,"glyph":"󰀇","source":{"tableName":"InventoryItem","hash":1293395731,"fromRichText":false}},{"codepoint":57624,"glyph":"","source":{"tableName":"InventoryItem","hash":1293395731,"fromRichText":false}},{"codepoint":983068,"glyph":"󰀜","source":{"tableName":"InventoryItem","hash":1293395729,"fromRichText":false}},{"codepoint":61180,"glyph":"","source":{"tableName":"InventoryItem","hash":790664812,"fromRichText":false}},{"codepoint":57621,"glyph":"","source":{"tableName":"InventoryItem","hash":2835214903,"fromRichText":false}},{"codepoint":983099,"glyph":"󰀻","source":{"tableName":"InventoryItem","hash":2835214903,"fromRichText":false}},{"codepoint":983116,"glyph":"󰁌","source":{"tableName":"InventoryItem","hash":3066103998,"fromRichText":false}},{"codepoint":983123,"glyph":"󰁓","source":{"tableName":"InventoryItem","hash":3066103999,"fromRichText":false}},{"codepoint":57620,"glyph":"","source":{"tableName":"InventoryItem","hash":1262901520,"fromRichText":false}},{"codepoint":983130,"glyph":"󰁚","source":{"tableName":"InventoryItem","hash":2984351204,"fromRichText":false}},{"codepoint":983138,"glyph":"󰁢","source":{"tableName":"InventoryItem","hash":2984351205,"fromRichText":false}},{"codepoint":983101,"glyph":"󰀽","source":{"tableName":"InventoryItem","hash":83039194,"fromRichText":false}},{"codepoint":983103,"glyph":"󰀿","source":{"tableName":"InventoryItem","hash":83039195,"fromRichText":false}},{"codepoint":983147,"glyph":"󰁫","source":{"tableName":"InventoryItem","hash":83039193,"fromRichText":false}},{"codepoint":983142,"glyph":"󰁦","source":{"tableName":"InventoryItem","hash":187655374,"fromRichText":false}},{"codepoint":983150,"glyph":"󰁮","source":{"tableName":"InventoryItem","hash":187655372,"fromRichText":false}},{"codepoint":57495,"glyph":""},{"codepoint":983151,"glyph":"󰁯","source":{"tableName":"InventoryItem","hash":187655373,"fromRichText":false}},{"codepoint":983052,"glyph":"󰀌","source":{"tableName":"InventoryItem","hash":1602994569,"fromRichText":false}},{"codepoint":983122,"glyph":"󰁒","source":{"tableName":"InventoryItem","hash":1602994570,"fromRichText":false}},{"codepoint":983057,"glyph":"󰀑","source":{"tableName":"InventoryItem","hash":2321824285,"fromRichText":false}},{"codepoint":57491,"glyph":"","source":{"tableName":"InventoryItem","hash":2321824287,"fromRichText":false}},{"codepoint":983069,"glyph":"󰀝","source":{"tableName":"InventoryItem","hash":790664815,"fromRichText":false}},{"codepoint":983098,"glyph":"󰀺","source":{"tableName":"InventoryItem","hash":1920417385,"fromRichText":false}},{"codepoint":983134,"glyph":"󰁞","source":{"tableName":"InventoryItem","hash":2934767476,"fromRichText":false}},{"codepoint":983149,"glyph":"󰁭","source":{"tableName":"InventoryItem","hash":4184589900,"fromRichText":false}},{"codepoint":983153,"glyph":"󰁱","source":{"tableName":"InventoryItem","hash":2835214902,"fromRichText":false}},{"codepoint":983059,"glyph":"󰀓","source":{"tableName":"InventoryItem","hash":2031919265,"fromRichText":false}},{"codepoint":983062,"glyph":"󰀖","source":{"tableName":"InventoryItem","hash":1262901522,"fromRichText":false}},{"codepoint":57490,"glyph":"","source":{"tableName":"InventoryItem","hash":1262901522,"fromRichText":false}},{"codepoint":983063,"glyph":"󰀗","source":{"tableName":"InventoryItem","hash":1262901522,"fromRichText":false}},{"codepoint":983141,"glyph":"󰁥","source":{"tableName":"InventoryItem","hash":1262901522,"fromRichText":false}},{"codepoint":983102,"glyph":"󰀾","source":{"tableName":"InventoryItem","hash":1563930741,"fromRichText":false}},{"codepoint":983144,"glyph":"󰁨","source":{"tableName":"InventoryItem","hash":2031919264,"fromRichText":false}},{"codepoint":57489,"glyph":"","source":{"tableName":"InventoryItem","hash":790664813,"fromRichText":false}},{"codepoint":983071,"glyph":"󰀟","source":{"tableName":"InventoryItem","hash":668903197,"fromRichText":false}},{"codepoint":983072,"glyph":"󰀠","source":{"tableName":"InventoryItem","hash":2651551055,"fromRichText":false}},{"codepoint":983104,"glyph":"󰁀","source":{"tableName":"InventoryItem","hash":668903196,"fromRichText":false}},{"codepoint":61193,"glyph":"","source":{"tableName":"InventoryItem","hash":4249729126,"fromRichText":false}},{"codepoint":983373,"glyph":"󰅍","source":{"tableName":"InventoryItem","hash":4249729127,"fromRichText":false}},{"codepoint":61194,"glyph":"","source":{"tableName":"InventoryItem","hash":988980152,"fromRichText":false}},{"codepoint":983368,"glyph":"󰅈","source":{"tableName":"InventoryItem","hash":988980153,"fromRichText":false}},{"codepoint":983369,"glyph":"󰅉","source":{"tableName":"InventoryItem","hash":262821318,"fromRichText":false}},{"codepoint":983372,"glyph":"󰅌","source":{"tableName":"InventoryItem","hash":262821317,"fromRichText":false}},{"codepoint":983297,"glyph":"󰄁","source":{"tableName":"InventoryItem","hash":256339607,"fromRichText":false}},{"codepoint":983046,"glyph":"󰀆","source":{"tableName":"Trait","hash":3291013836,"fromRichText":false}},{"codepoint":983053,"glyph":"󰀍","source":{"tableName":"Trait","hash":500183315,"fromRichText":false}},{"codepoint":983107,"glyph":"󰁃","source":{"tableName":"Trait","hash":3824458961,"fromRichText":false}},{"codepoint":61182,"glyph":"","source":{"tableName":"Trait","hash":3221118171,"fromRichText":false}},{"codepoint":983060,"glyph":"󰀔","source":{"tableName":"Trait","hash":3263723277,"fromRichText":false}},{"codepoint":983374,"glyph":"󰅎","source":{"tableName":"Trait","hash":37177486,"fromRichText":false}},{"codepoint":983105,"glyph":"󰁁","source":{"tableName":"Trait","hash":3268862716,"fromRichText":false}},{"codepoint":983126,"glyph":"󰁖","source":{"tableName":"Trait","hash":157469667,"fromRichText":false}},{"codepoint":983127,"glyph":"󰁗","source":{"tableName":"Trait","hash":3488482714,"fromRichText":false}},{"codepoint":983131,"glyph":"󰁛","source":{"tableName":"Trait","hash":1096356879,"fromRichText":false}},{"codepoint":983061,"glyph":"󰀕","source":{"tableName":"Trait","hash":3078132110,"fromRichText":false}},{"codepoint":983106,"glyph":"󰁂","source":{"tableName":"Trait","hash":655301426,"fromRichText":false}},{"codepoint":983124,"glyph":"󰁔","source":{"tableName":"Trait","hash":2485406866,"fromRichText":false}},{"codepoint":983143,"glyph":"󰁧","source":{"tableName":"Trait","hash":2578642829,"fromRichText":false}},{"codepoint":983375,"glyph":"󰅏","source":{"tableName":"Trait","hash":3328352616,"fromRichText":false}},{"codepoint":57492,"glyph":"","source":{"tableName":"Trait","hash":4105407564,"fromRichText":false}},{"codepoint":983152,"glyph":"󰁰","source":{"tableName":"Trait","hash":3336638905,"fromRichText":false}},{"codepoint":57481,"glyph":"","source":{"tableName":"Trait","hash":37938188,"fromRichText":false}},{"codepoint":983133,"glyph":"󰁝","source":{"tableName":"Trait","hash":37938188,"fromRichText":false}},{"codepoint":983136,"glyph":"󰁠","source":{"tableName":"Trait","hash":4239423954,"fromRichText":false}},{"codepoint":983139,"glyph":"󰁣","source":{"tableName":"Trait","hash":3385340084,"fromRichText":false}},{"codepoint":57488,"glyph":"","source":{"tableName":"Trait","hash":37938188,"fromRichText":false}},{"codepoint":983140,"glyph":"󰁤","source":{"tableName":"Trait","hash":4043161234,"fromRichText":false}},{"codepoint":61184,"glyph":"","source":{"tableName":"Trait","hash":2519102437,"fromRichText":false}},{"codepoint":983370,"glyph":"󰅊","source":{"tableName":"Trait","hash":2679722414,"fromRichText":false}},{"codepoint":61185,"glyph":"","source":{"tableName":"Trait","hash":1577394840,"fromRichText":false}},{"codepoint":61230,"glyph":"","source":{"tableName":"InventoryItem","hash":988980155,"fromRichText":false}},{"codepoint":61229,"glyph":"","source":{"tableName":"InventoryItem","hash":2835214897,"fromRichText":false}},{"codepoint":61232,"glyph":"","source":{"tableName":"InventoryItem","hash":4249729124,"fromRichText":false}},{"codepoint":61228,"glyph":"","source":{"tableName":"InventoryItem","hash":262821319,"fromRichText":false}},{"codepoint":983371,"glyph":"󰅋","source":{"tableName":"Trait","hash":945613349,"fromRichText":false}},{"codepoint":57497,"glyph":"","source":{"tableName":"Objective","hash":1213975022,"fromRichText":true}},{"codepoint":57600,"glyph":"","source":{"tableName":"Objective","hash":28925697,"fromRichText":true}},{"codepoint":57601,"glyph":"","source":{"tableName":"Objective","hash":189060104,"fromRichText":true}},{"codepoint":57602,"glyph":"","source":{"tableName":"Objective","hash":75057024,"fromRichText":true}},{"codepoint":57603,"glyph":"","source":{"tableName":"Objective","hash":495917258,"fromRichText":true}},{"codepoint":57609,"glyph":"","source":{"tableName":"Objective","hash":62818926,"fromRichText":true}},{"codepoint":57607,"glyph":"","source":{"tableName":"Objective","hash":102976778,"fromRichText":true}},{"codepoint":57604,"glyph":"","source":{"tableName":"Objective","hash":89840062,"fromRichText":true}},{"codepoint":57605,"glyph":"","source":{"tableName":"Objective","hash":273389628,"fromRichText":true}},{"codepoint":57606,"glyph":"","source":{"tableName":"Objective","hash":273967510,"fromRichText":true}},{"codepoint":57685,"glyph":"","source":{"tableName":"Objective","hash":1217177904,"fromRichText":true}},{"codepoint":57686,"glyph":"","source":{"tableName":"Objective","hash":393380158,"fromRichText":true}},{"codepoint":57656,"glyph":"","source":{"tableName":"Objective","hash":1047174894,"fromRichText":true}},{"codepoint":983360,"glyph":"󰅀","source":{"tableName":"Objective","hash":1047174894,"fromRichText":true}},{"codepoint":57608,"glyph":"","source":{"tableName":"Objective","hash":13215836,"fromRichText":true}},{"codepoint":57619,"glyph":"","source":{"tableName":"Objective","hash":38253124,"fromRichText":true}},{"codepoint":57682,"glyph":"","source":{"tableName":"Objective","hash":1878887814,"fromRichText":true}},{"codepoint":57683,"glyph":"","source":{"tableName":"Objective","hash":298337117,"fromRichText":true}},{"codepoint":57684,"glyph":"","source":{"tableName":"Objective","hash":384756495,"fromRichText":true}},{"codepoint":57666,"glyph":"","source":{"tableName":"Objective","hash":116015535,"fromRichText":true}},{"codepoint":57654,"glyph":""},{"codepoint":983359,"glyph":"󰄿"},{"codepoint":61239,"glyph":""},{"codepoint":61233,"glyph":"","source":{"tableName":"InventoryItem","hash":3602718766,"fromRichText":false}},{"codepoint":57667,"glyph":"","source":{"tableName":"Objective","hash":85239849,"fromRichText":true}},{"codepoint":57668,"glyph":"","source":{"tableName":"Objective","hash":33657378,"fromRichText":true}},{"codepoint":57664,"glyph":"","source":{"tableName":"Objective","hash":85535853,"fromRichText":true}},{"codepoint":57657,"glyph":"","source":{"tableName":"Objective","hash":270151386,"fromRichText":true}},{"codepoint":61198,"glyph":"","source":{"tableName":"SandboxPerk","hash":381243875,"fromRichText":true}},{"codepoint":57665,"glyph":""},{"codepoint":983311,"glyph":"󰄏","source":{"tableName":"DamageType","hash":3373582085,"fromRichText":false}},{"codepoint":983382,"glyph":"󰅖"},{"codepoint":61244,"glyph":""},{"codepoint":61245,"glyph":""},{"codepoint":983343,"glyph":"󰄯","source":{"tableName":"Stat","hash":1591432999,"fromRichText":false}},{"codepoint":983344,"glyph":"󰄰","source":{"tableName":"InventoryItem","hash":2317325399,"fromRichText":false}},{"codepoint":983345,"glyph":"󰄱","source":{"tableName":"Stat","hash":2961396640,"fromRichText":false}},{"codepoint":983346,"glyph":"󰄲","source":{"tableName":"Stat","hash":447667954,"fromRichText":false}},{"codepoint":983348,"glyph":"󰄴","source":{"tableName":"Stat","hash":943549884,"fromRichText":false}},{"codepoint":983349,"glyph":"󰄵","source":{"tableName":"Stat","hash":4043523819,"fromRichText":false}},{"codepoint":983353,"glyph":"󰄹","source":{"tableName":"Stat","hash":1240592695,"fromRichText":false}},{"codepoint":983354,"glyph":"󰄺","source":{"tableName":"Stat","hash":4188031367,"fromRichText":false}},{"codepoint":983355,"glyph":"󰄻","source":{"tableName":"Stat","hash":1842278586,"fromRichText":false}},{"codepoint":983356,"glyph":"󰄼","source":{"tableName":"Stat","hash":155624089,"fromRichText":false}},{"codepoint":983358,"glyph":"󰄾","source":{"tableName":"Stat","hash":2523465841,"fromRichText":false}},{"codepoint":983325,"glyph":"󰄝","source":{"tableName":"Stat","hash":2996146975,"fromRichText":false}},{"codepoint":983333,"glyph":"󰄥","source":{"tableName":"Stat","hash":392767087,"fromRichText":false}},{"codepoint":983332,"glyph":"󰄤","source":{"tableName":"Stat","hash":1943323491,"fromRichText":false}},{"codepoint":983312,"glyph":"󰄐","source":{"tableName":"Stat","hash":1735777505,"fromRichText":false}},{"codepoint":983323,"glyph":"󰄛","source":{"tableName":"Stat","hash":144602215,"fromRichText":false}},{"codepoint":983340,"glyph":"󰄬","source":{"tableName":"Stat","hash":4244567218,"fromRichText":false}},{"codepoint":983321,"glyph":"󰄙","source":{"tableName":"InventoryItem","hash":20603181,"fromRichText":false}},{"codepoint":983319,"glyph":"󰄗","source":{"tableName":"InventoryItem","hash":673268892,"fromRichText":false}},{"codepoint":983303,"glyph":"󰄇","source":{"tableName":"InventoryItem","hash":648507367,"fromRichText":false}},{"codepoint":983302,"glyph":"󰄆","source":{"tableName":"InventoryItem","hash":1436723983,"fromRichText":false}},{"codepoint":983305,"glyph":"󰄉","source":{"tableName":"ItemCategory","hash":49,"fromRichText":false}},{"codepoint":57456,"glyph":"","source":{"tableName":"SandboxPerk","hash":591985846,"fromRichText":true}},{"codepoint":57458,"glyph":"","source":{"tableName":"SandboxPerk","hash":72139184,"fromRichText":true}},{"codepoint":57457,"glyph":"","source":{"tableName":"SandboxPerk","hash":669536781,"fromRichText":true}},{"codepoint":983307,"glyph":"󰄋","source":{"tableName":"Objective","hash":140612413,"fromRichText":false}},{"codepoint":983308,"glyph":"󰄌","source":{"tableName":"Objective","hash":140612412,"fromRichText":false}},{"codepoint":983309,"glyph":"󰄍","source":{"tableName":"Objective","hash":140612414,"fromRichText":false}},{"codepoint":983193,"glyph":"󰂙","source":{"tableName":"Objective","hash":106925256,"fromRichText":false}},{"codepoint":983221,"glyph":"󰂵","source":{"tableName":"Objective","hash":738831275,"fromRichText":false}},{"codepoint":983211,"glyph":"󰂫","source":{"tableName":"Objective","hash":41039169,"fromRichText":false}},{"codepoint":983239,"glyph":"󰃇","source":{"tableName":"Objective","hash":550810786,"fromRichText":false}},{"codepoint":983219,"glyph":"󰂳","source":{"tableName":"Objective","hash":436633878,"fromRichText":false}},{"codepoint":983234,"glyph":"󰃂","source":{"tableName":"Objective","hash":502686402,"fromRichText":false}},{"codepoint":983220,"glyph":"󰂴","source":{"tableName":"InventoryItem","hash":820958888,"fromRichText":false}},{"codepoint":983209,"glyph":"󰂩","source":{"tableName":"Faction","hash":611314723,"fromRichText":false}},{"codepoint":983171,"glyph":"󰂃","source":{"tableName":"ActivityMode","hash":4110605575,"fromRichText":false}},{"codepoint":983167,"glyph":"󰁿","source":{"tableName":"InventoryItem","hash":2388937381,"fromRichText":false}},{"codepoint":983381,"glyph":"󰅕","source":{"tableName":"ActivityMode","hash":1164760504,"fromRichText":false}},{"codepoint":983164,"glyph":"󰁼","source":{"tableName":"InventoryItem","hash":3005699685,"fromRichText":false}},{"codepoint":983173,"glyph":"󰂅","source":{"tableName":"InventoryItem","hash":3218214121,"fromRichText":false}},{"codepoint":983169,"glyph":"󰂁","source":{"tableName":"ActivityMode","hash":2043403989,"fromRichText":false}},{"codepoint":983158,"glyph":"󰁶","source":{"tableName":"ActivityMode","hash":608898761,"fromRichText":false}},{"codepoint":57669,"glyph":"","source":{"tableName":"ActivityMode","hash":103143560,"fromRichText":false}},{"codepoint":57461,"glyph":"","source":{"tableName":"Objective","hash":119206183,"fromRichText":true}},{"codepoint":57671,"glyph":""},{"codepoint":57426,"glyph":""},{"codepoint":983326,"glyph":"󰄞","source":{"tableName":"InventoryBucket","hash":3313201758,"fromRichText":false}},{"codepoint":983334,"glyph":"󰄦","source":{"tableName":"InventoryItem","hash":213377779,"fromRichText":false}},{"codepoint":983327,"glyph":"󰄟","source":{"tableName":"InventoryItem","hash":432217080,"fromRichText":false}},{"codepoint":983376,"glyph":"󰅐"},{"codepoint":983269,"glyph":"󰃥"},{"codepoint":983377,"glyph":"󰅑","source":{"tableName":"Objective","hash":62478650,"fromRichText":false}}]')},66590:(e,t,o)=>{o.d(t,{A:()=>s});const s={sheet:"Sheet-m_sheet-C09jLGoT",header:"Sheet-m_header-gBErkX0T",footer:"Sheet-m_footer-AG79eB13",container:"Sheet-m_container-KNQcuskl",contents:"Sheet-m_contents-l1mWkEWy",close:"Sheet-m_close-oVw9SdOi",sheetDisabled:"Sheet-m_sheetDisabled-RTLTKzks",disabledScreen:"Sheet-m_disabledScreen-Vqswq_SI",noHeader:"Sheet-m_noHeader-NJwPVE7L"}},34596:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M42.49 13.55c-1.06-1.51-4.05-5.05-9.52-6.49a.635.635 0 0 0-.78.5c-.35 2.04-1.78 8.08-6.69 8.08s-6.34-6.04-6.69-8.08a.635.635 0 0 0-.78-.5c-5.47 1.44-8.46 4.98-9.52 6.49-.24.34-.09.8.3.94 2.01.7 7.34 2.94 7.34 7.01 0 4.24-4.47 6.89-5.87 7.61-.25.13-.38.4-.33.67 1.44 7.62 7.55 13.09 8.67 14.04.11.1.25.15.4.15h12.94c.15 0 .29-.05.4-.15 1.12-.95 7.23-6.42 8.67-14.04a.624.624 0 0 0-.33-.67c-1.4-.72-5.87-3.37-5.87-7.61 0-4.08 5.33-6.32 7.34-7.01.41-.14.56-.61.32-.94'/%3e%3c/svg%3e"},55310:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M24.77 7.03c-8.15.38-14.42 7.41-14.42 15.57v16.06c0 .23.13.44.34.53l10.33 4.68c.78.35 1.66-.22 1.66-1.07V31.9c0-.39-.19-.75-.52-.97l-5.39-3.64c-.87-.52-1.43-1.5-1.34-2.61.13-1.46 1.46-2.52 2.93-2.52h4.36c.65 0 1.17.53 1.17 1.17v6.71s0 .61 1.61.61 1.61-.61 1.61-.61v-6.71c0-.65.52-1.17 1.17-1.17h4.36c1.47 0 2.8 1.06 2.93 2.52.1 1.11-.47 2.09-1.34 2.61l-5.39 3.64c-.32.22-.52.58-.52.97v10.91c0 .85.88 1.42 1.66 1.07l10.33-4.68c.21-.1.34-.3.34-.53v-16.5c.01-8.61-7.18-15.55-15.88-15.14'/%3e%3c/svg%3e"},65564:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1434 1024'%3e%3cpath fill='%23b286ff' d='M460.8 243.2c38.4 0 89.6 128 89.6 179.2H371.2c0-51.2 51.2-179.2 89.6-179.2M716.8 243.2c38.4 0 89.6 128 89.6 179.2H627.2c0-51.2 51.2-179.2 89.6-179.2M972.8 243.2c38.4 0 89.6 128 89.6 179.2H883.2c0-51.2 51.2-179.2 89.6-179.2M371.2 473.6h179.2V768H371.2zM627.2 473.6h179.2V768H627.2zM883.2 473.6h179.2V768H883.2z'/%3e%3cpath fill='%23b286ff' d='M179.2 1024 0 844.8V179.2L179.2 0h1075.2l179.2 179.2v665.6L1254.4 1024zm51.2-128h972.8l102.4-102.4V230.4L1203.2 128H230.4L128 230.4v563.2z'/%3e%3c/svg%3e"},71293:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'%3e%3cpath d='M506.056 733.874v264.813l-51.241 25.211L278.546 758.47l139.375-139.375zM291.254 519.482H25.211L0 568.673l265.633 177.908 138.35-138.965-112.73-88.134zM506.056 291.151V25.313L454.815.102 278.546 266.556l139.375 139.375zM292.484 504.723H26.03L.614 455.532l265.223-177.908 139.375 138.965-112.73 88.134zM518.765 733.874v264.813l50.216 25.211L746.07 758.47 606.9 619.095zM732.747 517.842H998.79l25.211 51.241-265.633 176.884-138.35-139.99zM518.765 291.151V25.313L568.981.102 746.07 266.556 606.9 405.931zM731.517 506.363h266.454l25.416-51.241-265.223-176.884-139.375 139.99 112.73 88.134zM512.411 630.571c-61.58 0-111.501-49.92-111.501-111.501s49.92-111.501 111.501-111.501c61.58 0 111.501 49.92 111.501 111.501-.116 61.533-49.967 111.384-111.489 111.501zm0-202.504c-50.26 0-91.004 40.744-91.004 91.004s40.744 91.004 91.004 91.004 91.004-40.744 91.004-91.004-40.744-91.004-91.004-91.004'/%3e%3cpath d='M501.547 481.153v20.086l-16.192 15.987h-20.702v-7.993zM501.547 553.301v-20.086l-16.192-15.987h-20.702v7.993zM521.634 481.153v20.086l16.192 15.987h20.702v-7.993zM521.634 553.301v-20.086l16.192-15.987h20.702v7.993zM521.634 519.277c0 5.547-4.496 10.043-10.043 10.043s-10.043-4.496-10.043-10.043 4.496-10.043 10.043-10.043 10.043 4.496 10.043 10.043'/%3e%3c/svg%3e"},46727:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 217.87 220.08'%3e%3cpath d='M217.87 62.38' style='isolation:isolate'/%3e%3ccircle cx='108.94' cy='110.04' r='30.44' style='isolation:isolate' transform='rotate(-13.28 108.95 110.067)'/%3e%3cpath d='M216 91.36a14.59 14.59 0 0 1 0-29.18 10 10 0 0 1 1.8.19V12.23A12.26 12.26 0 0 0 205.54 0H12.23A12.26 12.26 0 0 0 0 12.23v50c.36 0 .67-.11 1.08-.11a14.6 14.6 0 0 1 0 29.19 7 7 0 0 1-1.08-.1v116.64a12.26 12.26 0 0 0 12.23 12.23H33.3v-4.42h.05a8.49 8.49 0 0 1 17 0v4.42h9.3v-4.42a8.48 8.48 0 0 1 17 0h-.3v4.42h9.3v-4.42a8.49 8.49 0 0 1 17 0v4.42h9.76v-4.42a8.49 8.49 0 0 1 17 0h.05v4.42h9.76v-4.42h.05a8.49 8.49 0 0 1 17 0h.05v4.42h10v-4.42h.05a8.49 8.49 0 0 1 17 0h.05v4.42h22.3a12.26 12.26 0 0 0 12.23-12.23V91.16a11.5 11.5 0 0 1-1.95.2M26 39.7A13.66 13.66 0 1 1 39.7 26 13.65 13.65 0 0 1 26 39.7m142 74.19c-.14 2-.39 4-.69 6.06h.17l7.09 3.13a3 3 0 0 1 1.55 4l-8.66 19.63a3 3 0 0 1-4 1.54l-6.93-3.06a59 59 0 0 1-13.38 13.14c.06.06.05.12.11.18l2.8 7.2a3 3 0 0 1-1.73 3.9l-20 7.78a3 3 0 0 1-3.9-1.73l-2.76-7a58.3 58.3 0 0 1-12.71.57c-2-.13-4-.38-6.07-.69a1 1 0 0 1 0 .17l-3.13 7.09a3 3 0 0 1-3.95 1.55l-19.62-8.66a3 3 0 0 1-1.55-4l3.07-6.92a59.2 59.2 0 0 1-13.14-13.38c-.06 0-.12 0-.18.1l-7.2 2.8a3 3 0 0 1-3.9-1.73l-7.78-20a3 3 0 0 1 1.73-3.9l7-2.76a58.2 58.2 0 0 1-.56-12.71c.13-2 .38-4 .68-6.06h-.17L43.24 97a3 3 0 0 1-1.54-4l8.66-19.62a3 3 0 0 1 4-1.55l6.92 3.06a59 59 0 0 1 13.33-13.1c-.06-.06 0-.12-.1-.18l-2.81-7.2a3 3 0 0 1 1.73-3.9l20-7.78a3 3 0 0 1 3.9 1.73l2.76 7a58.3 58.3 0 0 1 12.71-.57c2 .14 4 .38 6.07.69a1 1 0 0 1 0-.17l3.13-7.06a3 3 0 0 1 4-1.55l19.62 8.66a3 3 0 0 1 1.55 3.95l-3.06 6.93a59.1 59.1 0 0 1 13.14 13.37c.06 0 .11 0 .17-.1l7.2-2.8a3 3 0 0 1 3.91 1.73l7.78 20a3 3 0 0 1-1.73 3.9l-7 2.76a59 59 0 0 1 .48 12.69Zm10-87.85a13.66 13.66 0 1 1 13.73 13.66A13.65 13.65 0 0 1 178.07 26Z' style='isolation:isolate'/%3e%3c/svg%3e"},11682:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='62' height='32'%3e%3cpath d='M57.76 8.704h-2.72V9.76h1.184l.32.32v3.52l-.768.256-23.2 1.088-1.12-1.088h-.896L28.8 15.68h-.416v.352l-3.168 3.104-1.376 1.152-1.12.512-1.696.448-1.536.096-1.184-.128-1.12-.352-1.056-.576-.864-.192-.864.064-.512.16-.352.448-.224.864v.864l-.704.544-.384.64-.832 3.328.352 1.664.608.448v.416l-.64.16-7.808-2.272-.096-.736.096-1.472.288-1.792.768-2.432.96-2.176 1.248-1.92 1.728-1.952.64-.8.192-.608v-.8L9.312 12l-.8-.832-1.184-.672.736-.736h1.664l.384-.416 1.728-.416.48-.544.512-.672.384-.928.192-1.024.512-.64h.48l.192-1.312.096-.928h9.408l1.248 1.28h25.184l.64-.64h5.6l.992 1.024zM24.896 17.76v-1.056l-.224-.768-.48-.48-.64-.224-1.664-.064h-2.272l-.64.864-.128.704.064.512.224.384.32.384-.288.256-.48-.448-.416-.704-.288-1.024-.128-.544-.288.032-.608.544-.48.704-.192.96v.992l.448.896.768.608 1.312.384h1.088l1.28-.128 1.28-.352.864-.448.8-.608.512-.608z'/%3e%3c/svg%3e"},77204:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 921 921'%3e%3cg fill='%23f37321'%3e%3cpath d='m552.6 460.5-92.1-92.1-92.1 92.1 92.1 92.1z'/%3e%3cpath d='m835.8 375.3-6.8-6.8-92.1-92.1-92.1-92.1L543.1 82.5 460.5 0l-92.1 92.1 74.7 74.8 109.5 109.5 92.1 92.1 92.1 92.1-92.1 92.1-74.9 74.9-109.3 109.2-92.1-92.1-92.1-92.1-85-85-7.1-7.1 103.4-103.4 80.8-80.8-92.1-92.1-92.1 92.1-92.1 92.1L0 460.5l92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1 92.1-92.1 92.1-92.1 92.1-92.1 92.1-92.1 92.1-92.1-77.3-77.3z'/%3e%3c/g%3e%3c/svg%3e"},51753:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -85 1025 939'%3e%3cpath fill='white' d='M512 653q-47 0-88-18t-72-48.5-48.5-71.5-17.5-88 17.5-88.5 48.5-72 72-48.5 88-18 88 18 72 48.5 48.5 72T738 427t-17.5 88-48.5 71.5-72 48.5-88 18m0-46q75 0 127.5-53T692 427q0-75-52.5-127.5T512 247t-127.5 52.5T332 427q0 74 52.5 127T512 607m53-180q0-22-15.5-37.5T512 374t-37.5 15.5T459 427t15.5 37.5T512 480t37.5-15.5T565 427M59 939v-35l289-288q-18-14-2-.5t42 28.5L95 939zm870 0L635 645q-18 12 .5 1t40.5-30l289 288v35zM59 843v-34l244-244q-13-19-1-1t33 40L95 843zm870 0L689 604q-16 17-1 2t32-40l245 243v34zM512 737l-25-25v-36q4 0 11 .5t14 .5h13.5l12.5-1-1 35zM112 492l-25-24 26-25h149q0 7 2.5 21.5T271 494zm801 0H754q2-4 4.5-18t3.5-31h150l25 25zm-801-80-25-25 26-25h157q-2 4-4.5 18t-3.5 31zm801 0-151-1q0-7-2.5-21.5T753 360l159 2 25 25-24 24zM303 288 59 44V10h36l240 240q16-18 1-3t-32 40zm418 0q13 19 1 1t-33-39L929 10h36v34zm-45-50q18 14 2 0t-42-29L929-85h36v34zm-328-1L59-51v-34h36l294 293q18-11-.5-.5T348 238zm189-59q-4-1-11-1.5t-14-.5-13.5.5-12.5.5l1-34 25-25 25 26z'/%3e%3c/svg%3e"},95396:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 13 13'%3e%3cpath fill='%23b68943' fill-rule='evenodd' d='M0 13h13V0'/%3e%3cpath fill='white' d='M8.715 10.421v1.031h1.03v-1.031zm1.018-2.316v-1.33H8.727v1.33l.265 1.88h.476z'/%3e%3c/svg%3e"},18676:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 172.87 46'%3e%3cg fill='%232a2a2a'%3e%3cpath d='M155.18 11.6c-1.48 2.35-2.5 4.74-3.06 7.14.56-2.39 1.58-4.77 3.06-7.11 3.99-6.4 10.1-9.46 17.7-9.75v-.03c-7.6.29-13.68 3.35-17.7 9.75M86.23 0H65.87l17.5 17.49c.44-6.07 1.41-11.9 2.86-17.49'/%3e%3cpath d='m90.38 30.36.23 3.7-2.99-2.64c-.16-.13-.29-.23-.45-.39l-2.03-1.99c-1.64-1.61-3.31-3.28-4.99-4.92-4.38-4.38-8.82-8.78-13.16-13.16L56.04 0H33.06l4.46 4.46c7.85 7.85 15.83 15.83 23.68 23.71L79.03 46h31.2a66.7 66.7 0 0 1-4.02-22.4c-.07-8.36 1.27-16.24 3.96-23.6H93.38c-2.62 9.37-3.65 19.55-3 30.36M23.24 0H0l9.59 9.61c1.29 1.32 2.73 2.77 3.83 3.86L45.94 46h23.27l-1.32-1.32zM113.45 26.85c.46 6.61 2.04 13.07 4.62 19.15h16.71c-4.18-6.74-6.36-14.39-6.47-22.85-.11-8.42 1.99-16.19 6.21-23.15h-16.69a59.2 59.2 0 0 0-4.38 26.85M155.11 34.48c-3.2-5.17-4.2-10.48-2.99-15.74-1.23 5.26-.24 10.59 2.99 15.77 4.02 6.43 10.1 9.52 17.76 9.85v-.03c-7.62-.33-13.74-3.39-17.76-9.85'/%3e%3cpath d='M155.11 34.48c4.02 6.47 10.13 9.52 17.76 9.85V1.89c-7.59.29-13.71 3.35-17.7 9.75-1.48 2.34-2.5 4.72-3.06 7.11-1.2 5.24-.2 10.56 3 15.73'/%3e%3c/g%3e%3c/svg%3e"},22487:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1024' height='1024'%3e%3cg fill='white'%3e%3cpath d='M567 474.9c14.7 23.4 14.8 47.7.2 71.1-12.5 20-31.4 29.6-55.2 30.6-23.7-1-42.7-10.5-55.2-30.6-14.5-23.4-14.5-47.8.2-71.1 12.5-19.9 31.4-29.4 55-30.3 23.6 1 42.5 10.5 55 30.3M512 713.3v-.8zM512.3 320v.6z'/%3e%3cpath d='m3.5 263 230.3 230.2c5.3-72.1 33.5-133.4 83.9-182.4 52.6-51.2 118-77.7 194.2-78.9 76.4 1.2 141.7 27.7 194.4 78.9 50.4 48.9 78.6 110.3 83.9 182.4l32.3-32.3 198-197.9c.8-.7 1.5-1.4 2.3-2l1.2-1.2V189L820.6 392.2l-2.7-6.6c-17.1-41-41.3-77.2-71.9-107.7-30.3-30.4-65.7-54.1-105-70.5l-2-.7c-40.2-16.5-82.8-24.8-127-24.8s-86.8 8.3-126.8 24.8c-40.8 16.9-76.9 40.9-107.2 71.3-30.6 30.5-54.8 66.8-71.9 107.8l-2.7 6.6-5.1-5.1L0 189v70.8l1.6 1.6c.3.2 1.1.9 1.9 1.6'/%3e%3cpath d='m767.7 544.4.7-11.2c2.5-43.6-3.5-83.9-17.9-119.7-14.6-36.4-38.4-69.3-70.6-97.7-44.8-39.6-105.2-62.3-165.5-62.3h-4.9c-60.3 0-120.6 22.7-165.4 62.3-32.2 28.5-56 61.3-70.6 97.7-14.4 35.8-20.5 76.1-17.9 119.7l.7 11.5-9.3-8.2c-.5-.4-.9-.7-1.4-1.2l-6.3-6.2c-5.1-5-10.3-10.2-15.5-15.3-13.6-13.6-27.4-27.3-40.9-40.9L49.7 339.6 0 289.9v71.9l10.1 10c6.1 6 12.2 12.1 18.3 18.1 20.9 20.8 42.1 41.9 62.9 62.8 24.4 24.4 49.2 49.2 73.6 73.7 39.2 39.2 79 79 118.3 118.2l20 20.1c9.5 9.5 19.3 19.4 29 28.9 24.9 24.5 54.6 43.5 88.2 56.5 27.8 10.6 57.6 16.3 88.8 16.9.5 0 1 0 1.6-.1l1-.1 1.2.1c.9.1 1.3.1 1.7.1 31.3-.6 61.2-6.2 88.9-16.9 33.6-12.9 63.3-31.9 88.1-56.5 10.8-10.6 21.6-21.5 32.1-32l135.3-135.2c24.4-24.4 49.1-49.2 73.5-73.6 20.9-20.8 42-41.9 63-62.8 6.7-6.7 13.5-13.4 20-19.9l8.3-8.3v-71.9L800.2 513.7c-4.3 4.3-8.7 8.7-13.1 12.9l-8.8 8.7c-.5.5-.9.8-1.4 1.3l-2.4-1.6 1.8 2.1zm-253 172.7h-5.6v-.1c-113.9-2.5-203.4-91.9-204.3-204.8-.4-50.3 15.4-95.1 46.9-133.2 40.4-48.8 94.3-74.4 160.1-76.1 66.1 1.7 119.9 27.3 160.3 76.1 31.5 38.1 47.2 82.9 46.9 133.2-.8 112.9-90.4 202.4-204.3 204.9'/%3e%3cpath d='M721 694.8c-8.5 8.5-15.6 15.5-23.2 22.4-18.1 16.6-39.3 30.9-63.1 42.5-28.1 14.2-60.2 23.4-92.8 26.6l-1.2.1c-5.8.6-11.7.8-17.4 1.1l-11.1.6-11.6-.6c-5.7-.3-11.6-.5-17.5-1.1-33.8-3.4-65.9-12.6-95.5-27.5l-2.5-1.2c-22.1-11.3-42-24.9-59.1-40.5-7.9-7.2-15.5-14.7-23.2-22.4-38.8-38.8-78.3-78.2-117.1-117.1L41.5 433.4C27.7 419.6 13.4 405.3 0 392v72.1l4.5 4.6c4 4.1 8.5 8.6 11.9 12L285.6 750c9.6 9.6 20.1 18.5 31.1 26.4l.7.5c27 19.8 56.8 35.1 88.6 45.7 33 11 67.6 16.6 102.7 16.8.7 0 1.3 0 1.9-.1l1-.1 1.6.1c.7 0 1.3.1 1.8.1 68.3-.2 133.5-21.2 188.9-60.6l2.3-1.7c11.7-8.4 22.2-17.2 32-27 89.2-89.4 179.7-180 269-269.3l14.5-14.5 2.1-2.1V392l-58.3 58.2L838 577.7z'/%3e%3cpath d='M605.9 350c-28.4-16.8-60.6-25.6-93-25.6h-1.8c-32.4 0-64.6 8.9-93 25.6-29.5 17.4-53.7 42.7-69.8 73.1-16.2 30.5-23.4 64.8-21 99.2s14.5 67.6 34.8 95.9c17.8 24.8 41.9 44.9 69.6 58.3 25.5 12.3 54.3 18.9 80.1 18 1.6 0 3 .1 4.3.1 24.9 0 51.9-6.4 76-18.1 27.8-13.4 51.9-33.5 69.7-58.3 20.4-28.3 32.4-61.5 34.8-95.9 2.5-34.4-4.8-68.7-21-99.2-16-30.4-40.2-55.7-69.7-73.1m3.4 258.1c-26.1 25.9-58.8 39.4-97.2 40.3-38.7-.9-71.4-14.5-97.4-40.3-26.8-26.5-40.7-59.3-41.2-97.3-.4-31.4 9-59.9 27.9-84.6 26.7-34.8 63-53.4 108-55.4v-.2l2.5.1 2.6-.1v.2c45 2 81.3 20.6 108 55.4 19 24.7 28.3 53.2 27.9 84.6-.4 38-14.3 70.8-41.1 97.3'/%3e%3cpath d='M512 444.7c-23.6.9-42.6 10.4-55 30.3-14.7 23.3-14.8 47.7-.2 71.1 12.5 20 31.4 29.6 55.2 30.6 23.7-1 42.7-10.5 55.2-30.6 14.6-23.4 14.5-47.8-.2-71.1-12.5-19.9-31.4-29.4-55-30.3'/%3e%3c/g%3e%3c/svg%3e"},37593:e=>{e.exports=JSON.parse("[2307365,128782990,161675590,172461430,267089201,276080079,291092617,303107619,342514437,364665267,407511664,495442100,496556698,501345268,522366885,532746994,534775659,555148853,566740455,578105049,631439337,672957262,681067419,690668916,711889599,786352912,817909300,825554997,852228780,854379020,874623537,892183998,912150785,927835311,959037361,1039915310,1056103557,1064132738,1135050595,1141586039,1173780905,1184692845,1216319404,1239700299,1292594730,1321626661,1354727549,1366917989,1387987271,1466006054,1481892490,1492522228,1705843397,1866778462,1891996599,1921159786,1924276978,1941816543,1986287028,1987769101,2001697739,2002522739,2006308129,2059255495,2063217087,2074041946,2147010335,2314610827,2378101424,2378785953,2386979999,2405619467,2421180981,2443900757,2475355656,2527666306,2759251821,2839600459,2883684343,2886339027,2890082420,2914913838,2943293195,3019024381,3106557243,3123651616,3193598749,3245493570,3248429089,3250744600,3332125295,3407395594,3444632029,3493494807,3503019618,3514144928,3610521673,3637570176,3782662983,3796510434,3836861464,3847137620,3904516037,3915197957,3920882229,3926103986,3951511045,3997086838,4023807721,4038592169,4074251943,4162642204]")},40633:e=>{e.exports=JSON.parse('{"485622768":[8,11],"2611060930":[3954685534,153950757],"3178805705":[7,153950757]}')},95594:e=>{e.exports=JSON.parse("[288409040,288409041,288409042,288409046,288409047,433122833,433122834,433122835,433122836,433122837,495212613,583723938,583723939,583723940,583723941,583723943,632888024,632888025,632888029,632888030,632888031,706723264,706723266,706723267,706723268,706723269,739655784,739655786,739655787,739655788,739655789,784299457,875346616,875346617,875346621,875346622,875346623,1070051536,1123747130,1123747131,1123747132,1123747133,1123747135,1324233016,1324233017,1324233019,1324233022,1324233023,1360604625,1360604626,1360604627,1360604628,1360604629,1404465537,1404465538,1404465539,1404465540,1404465541,1468847290,1468847291,1468847292,1468847293,1468847294,1861426408,1861426409,1861426412,1861426414,1861426415,1942359016,1942359017,1942359019,1942359022,1942359023,2028073058,2081977513,2081977514,2081977515,2081977516,2081977517,2092805626,2092805627,2092805628,2092805629,2092805631,2119661521,2119661522,2119661523,2119661524,2119661525,2129265544,2129265545,2129265547,2129265550,2129265551,2187989976,2187989977,2187989980,2187989982,2187989983,2240395226,2240395227,2240395228,2240395229,2240395231,3138762874,3138762875,3138762876,3138762877,3138762878,3257939736,3257939737,3257939741,3257939742,3257939743,3339644634,3339644635,3339644636,3339644637,3339644638,3521781034,3521781035,3521781036,3521781037,3521781038,3555350688,3555350690,3555350691,3555350692,3555350693,3778343680,3778343681,3778343682,3778343686,3778343687,3814218036,3947616002,3947616003,3947616004,3947616005,3947616006,3960787106,4058375008,4058375010,4058375011,4058375012,4058375013,4157626656,4157626657,4157626661,4157626662,4157626663,4184328256,4184328258,4184328259,4184328260,4184328261]")},90461:e=>{e.exports=JSON.parse('{"17096506":3465971755,"19024058":1182982189,"46524085":494981303,"204878059":2538406461,"219145368":1144463862,"347366834":836516980,"370712896":3381077691,"374573733":3318895306,"400096939":591600693,"417164956":1060652297,"427899681":2960086668,"603721696":250211794,"776191470":1586771061,"814876685":436556889,"940371471":2479567609,"1034055198":503301272,"1111334348":828471459,"1234150730":3022631571,"1331482397":1071947311,"1345867570":1385469960,"1345867571":3802151748,"1363238943":3567687058,"1363886209":1855685192,"1441805468":1169793114,"1473821207":1439993428,"1508896098":2387948227,"1541131350":2761319400,"1594120904":2708727662,"1665952087":1940645774,"1681583613":3025950752,"1763584999":263158944,"1802135586":773758208,"1833195496":478443982,"1853180924":571025162,"1864563948":3468043157,"1891561814":173502661,"1912669214":1048178161,"2084878005":1514331782,"2130065553":3835718947,"2179048386":3574136388,"2208405142":3518287681,"2232171099":2254190310,"2286143274":2856496392,"2350354266":2744508352,"2357297366":2744473468,"2362471601":209320411,"2591746970":3740374319,"2603483885":1226048594,"2694576561":310266584,"2812324401":1163649614,"2816212794":748675128,"2856683562":4137195476,"2907129556":2524364954,"2907129557":2940589008,"2910326942":2395817019,"3089417789":373671280,"3118061005":3787307395,"3121540812":1450844310,"3141979346":3589295049,"3141979347":663317912,"3211806999":1233471745,"3260753130":1833569807,"3325463374":2571854597,"3413074534":1390549867,"3413860063":3531533350,"3437746471":1345348453,"3460576091":2135780490,"3512014804":3663964046,"3524313097":1107018752,"3549153978":3968841949,"3549153979":3371896300,"3561203890":3095531901,"3580904580":206322165,"3580904581":206322164,"3588934839":3628100770,"3628991658":4147054663,"3628991659":2383994221,"3654674561":15917031,"3659414143":788492661,"3664831848":1629497825,"3698448090":812366033,"3761898871":2329638530,"3766045777":252263460,"3821409356":1605993075,"3844694310":3368860448,"3856705927":1107121513,"3886719505":3891168900,"3899270607":299659704,"3973202132":1461305554,"4017959782":3644944303,"4036115577":1547246830,"4068264807":639604165,"4124984448":3784038415,"4174431791":185032465,"4190156464":4178028503,"4255268456":3746741161,"4289226715":507778024,"4293613902":2618920720}')},46460:e=>{e.exports=JSON.parse('{"1014208":1703551922,"4500656":882778888,"9788213":2376585692,"15760717":1056103557,"19334920":3685470415,"30837423":1734844651,"32200569":1197771438,"33903049":3440927677,"45790364":2073794990,"52492571":3074679271,"55944745":1725332125,"56087832":1975125963,"73819307":2009277538,"77153391":1909305643,"85648155":144007143,"90822968":53292762,"98119707":1331824604,"100404736":3637722482,"102374420":2809120022,"110998651":2233545123,"122152503":2883045518,"124569297":1537074069,"137267597":2022294213,"138488170":3794274730,"143601688":3201140055,"144255421":2821677368,"152550357":1959672649,"156844620":1188437342,"169184833":3947966653,"175003048":1987616650,"176328483":3605603507,"179758314":2509918852,"183582177":197672677,"189224310":2889501828,"189675718":1916287826,"199445735":332170995,"202522666":2674680132,"207548065":1314666277,"213151935":3428407746,"220051784":3408834730,"221852859":4057299719,"231864088":3288917178,"234708547":3813221631,"241285460":1796949035,"253950230":469333264,"259358118":2850664015,"279578169":297009581,"293795567":3207116971,"296152704":1896287986,"296378791":108286515,"301198419":3565520715,"309462567":2345794502,"313407897":3234692237,"316472157":1702245537,"316819918":3797572280,"325108472":241291034,"332192961":4161591237,"332625175":2248987683,"334163123":2988121501,"338446411":18990920,"350442704":125833536,"350549470":496728945,"355618650":1973107014,"359044451":303107619,"362902214":3730575552,"366078621":3984883553,"369416367":664109750,"374248557":456484913,"378242631":1959285715,"380543246":2766527864,"384806842":1265513556,"390263398":3583853408,"394983260":297586990,"397729467":2580822279,"399609973":3962575203,"400987770":3014775444,"405311520":1254421266,"413091525":963710795,"415227049":4091317789,"420543798":3146160048,"422598265":417100299,"425782652":978215630,"426311013":3884544409,"428574585":215768941,"431324148":2290416,"434356905":124944413,"441005677":4255171531,"447839375":3791868619,"448147429":274659609,"449889866":4277137508,"462967561":2321120637,"476791533":2320491441,"480579364":1807196134,"487137411":1740966079,"489274433":39339589,"502425410":3686538757,"529088743":2618417907,"529248781":4225322581,"533201397":1160559849,"538098823":496728945,"538538204":511888814,"547791760":1505862304,"547853538":3150799884,"563785171":1948035256,"566509595":2322926844,"585603777":3731378629,"585851913":435216110,"605025041":341034325,"606510166":2454114768,"609164671":3381022971,"616458509":1028124540,"617836335":4148887147,"622764187":2217519207,"624305650":3605603507,"638850307":2935526975,"646222889":4238378141,"652077411":768769183,"659786850":3883866764,"663794103":188882152,"667818643":3737404623,"668806934":3667553455,"670213768":1332123064,"672369541":273457849,"673296954":2082483156,"673645496":2099894368,"683632999":143821939,"703117212":433905699,"704898505":3829990714,"708773129":3874247549,"709164353":1394633029,"712113909":3009199534,"716883942":417977312,"717710567":3352415987,"720153764":3419310182,"727935166":42874240,"736550308":2448259942,"736571395":1688602431,"737419447":3118064579,"738161504":193869522,"740593432":3267996858,"746346035":1848640623,"748293293":2891672170,"750483560":978537162,"753325306":2671639706,"755662092":469005214,"756971831":896081219,"757363969":105164264,"759005343":2016308379,"760706311":2731689491,"766089081":1952223085,"767948183":3971188131,"768414879":1820994983,"776110297":1321354573,"776613950":2653171212,"781313686":3684978064,"786697890":3453042252,"787111830":3299416208,"789415529":1528655453,"792320746":886273156,"792478228":2653171213,"801895599":3824918251,"802524442":1492522228,"812524306":3115740538,"814898891":2513965917,"817162333":2463947681,"817926907":1298672084,"819773640":2870974250,"827034816":2766109874,"837053731":1215952756,"854926798":2498588344,"859980511":2268523867,"865222334":1392054568,"871223546":3738678140,"878814305":2152484073,"879692448":1299272338,"884119083":3637669759,"891829968":162269058,"892020293":1032041977,"898459512":2117889178,"923235261":213264394,"940822787":3406291173,"941282909":1005315489,"949131991":691578979,"959456403":4224804453,"964294291":2374129871,"966848994":138566412,"968289293":3863492689,"981104658":1183187516,"986956153":685165933,"987042032":1906093346,"1009072908":38792606,"1009346008":1346827258,"1011791524":2522706952,"1012826548":791799769,"1016565787":657606375,"1037962076":4038429998,"1038737566":3770087944,"1055088541":3441081953,"1059479825":3651424085,"1064943697":693067797,"1073231502":3301944824,"1079930198":3187320016,"1087623621":2638190703,"1088436227":1801007332,"1099634737":1711056134,"1100524837":1854753404,"1101032348":2177524718,"1103301267":1654461647,"1104664699":2381515079,"1106028100":119859462,"1120180351":1765728763,"1125545953":87665893,"1127615753":241462141,"1130536756":138282166,"1135209547":1218113510,"1137434578":2772262012,"1138336561":1537128821,"1149271199":438165659,"1152128861":3948284065,"1164082019":1456017061,"1165790188":3591512190,"1171147547":4019668921,"1185962501":1058098236,"1190896009":1019000888,"1193316520":2653909130,"1197776562":1001356380,"1198134926":2316914168,"1200919036":2195587150,"1205337961":1412970845,"1207785157":2119346509,"1224060546":1001798188,"1232437646":619556600,"1240056416":1322042322,"1242556131":2009892127,"1243425594":1630402260,"1245100546":1474735276,"1249762845":3426527713,"1256736028":1266712686,"1258973771":2252757719,"1260343369":3045642045,"1262289634":2591257541,"1264955704":903984858,"1271294424":4143415290,"1284280897":1854753405,"1294158516":1183405878,"1294553754":2651216180,"1297705704":1141927949,"1304666522":4100775158,"1304967988":2203146422,"1313836869":3381022969,"1317159774":3844826440,"1317166018":3552091116,"1323691427":1591207519,"1336321181":1322544481,"1339772536":1053737370,"1343614591":461841403,"1344068687":355382946,"1366750484":2993008662,"1388641546":1903182562,"1391595268":960442438,"1392922876":1453120846,"1394030426":557165046,"1403892338":3867373351,"1408302568":310708513,"1413646678":1207531728,"1421355221":2780717641,"1426642813":2591241074,"1428449496":2492669178,"1437610838":193869520,"1444043170":123879244,"1447074729":435339366,"1451560288":4207120603,"1456431750":1144014195,"1458342358":1586932304,"1461236083":3831935023,"1462837803":676270382,"1463684923":3496016519,"1469355180":2950045886,"1469993244":2395939950,"1470817006":671423576,"1477422359":3001449507,"1505980150":2896109856,"1517474839":959484195,"1527328167":3179623987,"1529271412":2326396534,"1534458575":1051949956,"1547375670":2766109872,"1548869837":829330711,"1549471512":1524444346,"1555319323":106575079,"1560482644":2026755633,"1564178759":1613581523,"1564784937":1030017949,"1567668434":4114929480,"1569427840":3932952562,"1578087745":3221722018,"1588913887":2655279451,"1593841906":3611754012,"1599155324":267960270,"1624737700":2066430310,"1625916736":132486706,"1626181388":2384488862,"1629007932":938618741,"1642389930":3165143747,"1643656410":2616071821,"1652257364":617501162,"1657208257":2353371845,"1662696701":62937067,"1669660339":1310207471,"1671466931":3341893443,"1674839226":4146702548,"1692118511":2773056939,"1693103724":4122447870,"1696802966":2395788176,"1699691308":2496875173,"1700920860":1021381486,"1704880129":300502917,"1706194004":3293524502,"1709963256":1248530160,"1726065449":3671337107,"1734076444":2385676654,"1739332121":1310346765,"1740905008":3601794530,"1750413635":1624882687,"1758382769":2134769653,"1760566536":411397829,"1762083721":1698660093,"1767287717":1107446438,"1809794768":845422466,"1817535839":3652732123,"1838197241":1727248109,"1860140389":1734144409,"1869654860":4006721630,"1872688848":1512386434,"1874827456":682107058,"1879568799":2169905051,"1881106972":1197771438,"1888921546":991314988,"1891772651":2713820407,"1896335568":1267361154,"1896884883":2335208655,"1900451399":2969535443,"1901196910":2509940440,"1911399760":1821747970,"1912252717":996946801,"1912340771":3562696927,"1912716657":777526069,"1912718977":3573144325,"1913013889":2914474757,"1923654025":946526461,"1926613346":2856514843,"1929900447":2857770907,"1943526520":3832743906,"1945863786":3355385170,"1949976278":2328531378,"1955453921":3063765221,"1960898552":2237216282,"1976108766":2351038408,"1981520313":2576944173,"1992194968":1482105402,"2001654141":4195186942,"2001908703":3867373351,"2001962619":3991622471,"2002770452":1852587798,"2005232513":2757274117,"2011905615":3125454907,"2012234044":575830664,"2013720028":1292594730,"2020782603":2938035991,"2032448300":2578771006,"2042885489":1812185909,"2050879410":875848769,"2055524983":2151744259,"2057542406":1233862528,"2059601679":3275117874,"2060830238":2680535688,"2064212142":3106439832,"2068320776":1734844650,"2069829085":1139897377,"2077601806":1260563064,"2077874558":3104459624,"2080370847":1601177201,"2086016266":1026828708,"2086437031":1465405235,"2091225008":714372706,"2094168185":2368311917,"2111030142":173787496,"2126709519":1354727549,"2147608557":3574051505,"2150208209":671664021,"2155785663":2255796155,"2157486560":3150852690,"2158681379":2591257541,"2159167152":4266736482,"2159906485":2566006935,"2161352153":3947966653,"2161392874":3259193988,"2165423482":1767106452,"2168238205":1935198785,"2170616305":3717431477,"2172035686":2510526114,"2181013239":906840740,"2182452253":4076604385,"2197274028":2627533758,"2199102019":90009855,"2204419101":708549601,"2233602319":1615052875,"2243205274":3084282676,"2243721915":2889501828,"2248212155":1627691271,"2259181870":372697604,"2262455308":2347145374,"2271192476":164221422,"2271876370":2931145020,"2276310682":2741247284,"2277184009":546003581,"2287231352":2428181146,"2292621312":1394979698,"2293707032":230314682,"2300822101":1724366537,"2307767373":1028582252,"2307892413":2943943681,"2310429141":852551895,"2310598311":3250247987,"2311186393":2188974669,"2312764638":860168648,"2322164035":2822465023,"2326146050":2126178511,"2328097465":1332123064,"2340850909":1619425569,"2341107225":23061005,"2344519869":42874240,"2349487312":1567525250,"2349708432":4230993599,"2350052206":3232203524,"2352775355":2039776723,"2358069650":2999584444,"2361452337":2240152949,"2362430352":266021826,"2366624690":121305948,"2371964808":4152016199,"2387444228":2348198214,"2389782802":2378785953,"2389855961":1911060537,"2397722856":1066605642,"2398693243":3849754183,"2410737925":2399134521,"2417743858":1740888860,"2421977839":3568377122,"2427081642":1177873348,"2432853034":4144123204,"2450060488":298824490,"2453538631":193869523,"2459241935":1788603939,"2461218970":3641592628,"2467867662":3977387640,"2470306500":3539357318,"2470795406":2759590322,"2472122753":1200256005,"2485608945":1769846965,"2492527550":684658728,"2495630472":1403800851,"2510227202":727872428,"2521243264":2392432370,"2529663586":3702689847,"2532761634":627188188,"2532975303":641063251,"2535975195":3423777255,"2548657477":480368036,"2551249699":2181242591,"2556354193":3465233192,"2563760503":3794274730,"2574258558":3216110440,"2588173309":2826850739,"2596160855":222606050,"2602975238":3414625920,"2603847911":3610521673,"2605320510":735535272,"2607072210":1922402428,"2609207620":3238797830,"2615541747":3364817839,"2628207034":1127943297,"2646648024":3381022970,"2647373794":3787517196,"2648146174":2247299560,"2650869989":2387737625,"2651894107":230524071,"2660082239":3862185275,"2660725645":3763521327,"2663848874":4291183556,"2664742934":3261819408,"2664825549":3451283089,"2664994076":2899275886,"2669950408":1654117930,"2671624238":1687353095,"2677528310":3934586864,"2691087957":146223817,"2694613907":817909300,"2701632970":1637326795,"2721354951":2557210451,"2724714408":1953621386,"2733913394":2255073244,"2733974969":597831725,"2735530398":1399243961,"2738914052":3316517958,"2742003220":1586231351,"2742898269":806374817,"2748655036":2231910050,"2748982312":921467658,"2768502727":4144779347,"2769684630":3958993808,"2769955568":1046651176,"2772236585":2447741853,"2780654660":4057299718,"2792769622":1958630864,"2801586127":3293524502,"2807422555":1968410628,"2817346460":2143618030,"2825071664":2767393525,"2825573027":3627185503,"2826830765":4058198769,"2841969397":2715240478,"2843072129":3132885765,"2849111819":3273631255,"2851870940":4057580974,"2852100056":548809020,"2853425267":931507503,"2854025240":3741471003,"2854976081":1981173269,"2855987957":1703598057,"2859670382":3219256792,"2864139346":4039572196,"2864257856":358788212,"2867485074":3534173884,"2875090959":3844826443,"2876818003":192896783,"2879305550":2415768376,"2879998696":1325838922,"2889504953":1413409069,"2899862144":1832839922,"2902329623":4039932861,"2905536492":391384020,"2905700895":2251614491,"2912463567":3749277835,"2921967794":3504336176,"2922048315":2932922810,"2924540416":1725917554,"2928349050":605724052,"2930629196":4150060382,"2945177393":1210111349,"2947742646":2408514352,"2950694244":1431190694,"2950782681":771104589,"2954319306":409551876,"2957859219":2478547407,"2962131771":2584830733,"2967958507":3570900471,"2970820409":1474735277,"2974942014":4269346472,"2975831865":2249996761,"2976734344":3651039338,"2981276707":2716373471,"2983490507":1084190509,"2986968300":241462142,"2989732283":3631862279,"2997491826":2066074780,"2998282114":3997086838,"2999252751":3942036043,"3003155525":2563444729,"3004927172":959037361,"3010462832":4156676002,"3014947770":3754408118,"3015533776":821154603,"3016523637":2349907931,"3021987691":754069623,"3034681814":3091776080,"3041739793":371726421,"3041947774":687386728,"3043843956":2298039571,"3054751781":3153956825,"3063795377":1329892341,"3067591475":2105414511,"3069584563":1886840007,"3071313306":2350330520,"3074765785":178749005,"3096586593":412251536,"3099084679":253196586,"3106353652":2645763830,"3108599636":216983039,"3111111216":1219761634,"3112088101":1276048857,"3112667046":1851521408,"3117433295":235591051,"3119153287":2075703443,"3124166240":2852052802,"3124275920":3489657138,"3134564286":1996008488,"3144750103":2936230179,"3151924429":2423243921,"3157594934":2295273904,"3173816072":3598520298,"3174721418":3342536996,"3179227684":1192890598,"3181759866":175511444,"3185454692":1612781792,"3187046535":3328811155,"3187910761":2072548445,"3188702156":2534676958,"3191238503":1886840007,"3204561957":1630000089,"3213282927":3332125295,"3215932179":863163983,"3224735856":1108278178,"3233041552":2050789284,"3237668309":2094233929,"3248496910":2102025592,"3251175769":2443507405,"3256047672":2147175386,"3259487516":844443758,"3264683058":3473290087,"3268063974":2390471904,"3272445958":2002452096,"3281352910":1602717624,"3282450867":2344353519,"3287081371":120441703,"3292250861":2935055281,"3293679620":938218310,"3310241668":3747088838,"3310367410":2845947996,"3310823353":3070555693,"3318677781":1571959827,"3323319039":4287857019,"3331628275":2126178511,"3332521187":1849149215,"3335470232":5159537,"3337944718":2097219064,"3345357730":1321354572,"3349513867":3106557243,"3359876034":3303502828,"3368700430":436615288,"3373908478":1909470440,"3377289784":2300143112,"3382832422":2355943840,"3384059383":3761819011,"3392240079":2738060683,"3396356011":1801007332,"3405211239":50291571,"3414637070":1606497639,"3434863786":4201843274,"3437392668":2741258862,"3437505629":1637623713,"3437969024":533855986,"3446623301":4061292537,"3464883458":2304861612,"3469351144":3281673290,"3471438865":3093309525,"3471717205":2565829065,"3475683133":1856777089,"3477988437":4165919945,"3478212090":867154247,"3481070944":933455006,"3484903008":3775606738,"3486679768":1060317946,"3487479939":3974038291,"3487993338":3403647252,"3488121287":1076810832,"3498657110":2195467472,"3503452845":3232203524,"3506304844":48110686,"3510230835":1009385327,"3512588219":1811579911,"3513036502":1602419024,"3518379440":691578978,"3533534867":2671565007,"3538579376":91690594,"3543313962":2888266564,"3544419970":996109059,"3546314515":2273643087,"3551610760":412251536,"3553325799":2717305289,"3553875570":2135836316,"3554684907":3292795429,"3557991772":2472090414,"3562567620":1674833286,"3566338354":3487011804,"3572799518":4086100104,"3573404221":609852545,"3577148367":3638406027,"3580701310":136355432,"3598649636":1955548646,"3599042365":2198166292,"3599713355":3597838551,"3600661228":3251195262,"3607545635":1148781279,"3617033640":2096711562,"3617994312":2612856746,"3618372582":2199554524,"3629641744":3106222402,"3639816879":606902507,"3640152843":357179927,"3650390908":1938324686,"3651818922":212971972,"3656122215":304385651,"3663176799":2321064411,"3664957074":2218948028,"3671588056":1960663290,"3673645044":3685470415,"3685096533":1341951177,"3705995974":3797729472,"3708928651":3166250992,"3711090475":2286507447,"3716635620":1069002790,"3717480197":1741360441,"3729506850":1000646860,"3731724843":932578999,"3732407823":1096253259,"3732924936":1884301546,"3737630378":491078457,"3739489832":2808156426,"3739947031":3694642467,"3742381985":3969379530,"3742527360":4032295410,"3743691434":3624199242,"3749148603":77816839,"3753382047":1148460187,"3755738975":486861531,"3760168333":4207120603,"3760940359":3678653083,"3765731481":539816333,"3769720823":2013313923,"3771606505":1283202269,"3784881871":1080431755,"3790887546":2298039571,"3796222038":3909729744,"3802805445":1256804729,"3809684989":2381337281,"3812440761":2820165421,"3814033537":475652357,"3815376960":2949791538,"3817486366":2673925403,"3825975800":3838077978,"3826782839":3719480067,"3827697821":1011882337,"3843308263":2448907086,"3847138256":2389585538,"3848039961":1805830669,"3850234099":3517179757,"3850560528":4195186942,"3852825844":390139894,"3853063966":2821677368,"3853268371":2738601016,"3855438068":1467044898,"3863574309":2313726158,"3868525094":3796795102,"3870549112":3252994970,"3876012135":1659679091,"3881082126":1914589560,"3882493260":1591207518,"3883022513":1779796469,"3884696647":736382419,"3891912205":868732497,"3894487223":322173891,"3895829948":1578461326,"3896249436":3356526253,"3898129411":1182214975,"3903913748":2328923181,"3911059594":3998080529,"3923407559":1045743955,"3924951683":1737518783,"3938564020":1058098236,"3939284543":2540765499,"3946759767":60193507,"3953384297":1163283805,"3970937914":1854337492,"3975089937":4156253727,"3982212757":2602559881,"3991827892":1443166262,"3992290300":133666382,"4005993978":1466284308,"4010675843":2342054803,"4013055243":2450049485,"4021652784":459833058,"4021927132":3722981806,"4025410673":3875549237,"4027344350":4021402824,"4033278404":2198166292,"4044402424":4136768282,"4047291712":378498222,"4050536705":2437632645,"4055368305":4060793397,"4067562934":3211624072,"4073332573":3001229473,"4078494680":2821430069,"4079614900":2810038838,"4080244203":3110377595,"4084143604":4139274998,"4087887899":4005780578,"4092360875":2350330520,"4094461400":198854575,"4096757830":2629204288,"4099345916":370930766,"4100036523":1586892599,"4110557383":4255586669,"4119202577":852430165,"4121969391":3258665412,"4122177783":896224899,"4130251279":12440395,"4133654499":1141547457,"4141497761":1269679141,"4147463420":1910323534,"4153158613":1190497097,"4155947523":1884579135,"4166606758":3019024381,"4166850854":1702288800,"4177107292":3686538757,"4178321775":1262430251,"4181859860":3949234966,"4195360985":3691455821,"4198182657":154944645,"4202023285":1106635211,"4206471995":3539357319,"4222584181":3570243433,"4223163842":2322926844,"4224297358":1495869176,"4229934495":4161524635,"4236667838":3821828136,"4237588213":1880357865,"4241589952":725297842,"4245694331":2321258055,"4271865130":810612804,"4287959325":1259299553,"4293397471":501345268}')},6203:e=>{e.exports=JSON.parse("[186337601,266016299,384158423,758092021,915325363,1154004463,1639384016,2697220197,2993547493,3128594062,3486498337,3803457565]")},87853:e=>{e.exports=JSON.parse('{"11551321":3097973565,"11612903":2422968039,"25606670":3143051906,"31345821":639190697,"47981717":1370847713,"95528736":956288240,"124408337":1171887445,"201365942":3523746922,"205890336":320071920,"243981275":984655331,"247725512":2938480696,"280464955":3920370755,"354401740":3678483220,"365154968":2939589096,"438098033":2748801589,"454085387":2529412083,"460017080":4045335048,"469285294":3335686050,"509074078":843318450,"555281244":332733060,"557221067":2896748467,"563069569":2167611941,"588594999":2717805783,"591790007":3315935575,"671806388":595108252,"684456054":2785334058,"691659142":536173722,"699525795":3719974635,"706527188":1961144892,"744594675":2139363611,"776531651":2541826827,"831391274":102912326,"880644845":3120212825,"908147344":1663363584,"923806249":3422796781,"951095735":3878366039,"957782887":4116820839,"960810156":1077019636,"968510818":424370782,"972757866":1685378950,"1015611457":2923251173,"1048183818":3431277734,"1119449540":561986700,"1126264488":2476672792,"1134488199":2904194311,"1168162263":1347741687,"1194056669":3955464425,"1195158366":838873202,"1264398905":1489035549,"1275731761":2091001077,"1354429876":848860060,"1359896290":3060983774,"1365187766":4200236906,"1421772400":3291427296,"1427256713":254337357,"1428297954":2014892510,"1439600632":2282937672,"1451849462":4175584682,"1523832109":461595545,"1546637391":3418165135,"1556840489":3442762221,"1570042021":2748258257,"1583705720":1409206216,"1600092898":828056542,"1631667848":402033656,"1645158859":3755250867,"1683379515":2216471363,"1685431615":3406782879,"1749209109":4085959009,"1754714824":834262328,"1771339417":395388285,"1774574192":777774560,"1782407750":2241043034,"1799762209":1008128453,"1820235745":4245865861,"1821614984":1942880504,"1866048759":3118144663,"1870851715":183938251,"1890422124":1523649716,"1954620775":1562897767,"1955165503":2617553311,"1966281507":1592669035,"2010801679":3797647183,"2030760728":2856365672,"2039302152":2396422520,"2048641572":1926441324,"2077819806":1618208178,"2109543898":2799030358,"2117683199":2649013855,"2172504645":1172098417,"2173046394":1720528630,"2209918983":2000295559,"2213355989":2002547233,"2224838837":3102670337,"2244851822":2860991074,"2272927194":711628886,"2284787283":3563868667,"2298656195":674546187,"2319119708":2140591236,"2360754333":2459015849,"2387244414":1748774930,"2396489472":598607952,"2416023159":3050799639,"2428997981":64332393,"2450788523":4207509907,"2451262963":1609056795,"2458213969":2570477205,"2551157718":23371658,"2579169598":2073244114,"2586829431":2217963031,"2590710093":4183521337,"2594592626":2037312142,"2610012052":4290541820,"2621346526":2495011826,"2652708987":617966211,"2679249093":788178929,"2720533289":3042219245,"2726471870":1172413778,"2779035018":1171147302,"2846385770":509594246,"2848615171":169755979,"2859149211":1135494563,"2866798147":3974407819,"2869569095":2308090567,"2888557110":1905598698,"2896038713":2402480669,"2946784966":987673306,"2978966579":344235611,"2980589453":4063561849,"3016987351":1145640183,"3017780555":4223976499,"3018146897":4100396181,"3038247973":64866129,"3047969693":624891305,"3078487919":3744057135,"3081867624":2963273944,"3096702027":1658784563,"3108830275":855168139,"3161816588":191144788,"3194351027":2275087323,"3201496230":1545231802,"3215448563":3299896859,"3300816228":3528046508,"3324494224":2562668800,"3350417888":1537607344,"3365897133":1551736345,"3400784728":573122728,"3414324643":2662236651,"3418782618":1563455254,"3425386926":288411554,"3436462433":2658083589,"3511092054":711234314,"3513791699":162561147,"3523296417":1906147653,"3526486541":1738338041,"3592538738":2675361166,"3619207468":3198323828,"3640170453":1817983009,"3643424744":2682205016,"3650930298":405677814,"3673922083":2889515627,"3700496672":2840833776,"3705817207":1646437399,"3708227201":781192741,"3722653512":2898218424,"3751912585":331667533,"3800201097":3674673997,"3824105627":1183436451,"3828510309":1771736209,"3891536761":1549370717,"3913600130":147913470,"3927722942":1167468626,"3938834702":3416609154,"3966416502":717070634,"3977735242":406461158,"3978468247":906981559,"3987942396":2817499044,"3993379141":1164602481,"4049631843":859780267,"4071163871":494941759,"4082225868":1161469972,"4104185692":3007133316,"4152709778":3609952942,"4252909580":706172244,"4274614370":4274613598,"4293542123":2675184851}')},28627:e=>{e.exports=JSON.parse("[294325177,642154071,667102694,802691474,1761049781,1986461264,2820688990,2988261973,3062299199,3069332449,3119404522,3327950547,3345233278,3878297035,4207172850]")},95128:e=>{e.exports=JSON.parse('{"256984752":424291879,"301231525":3388655311,"773381624":963574173,"1141170786":147444292,"1279318107":70083888,"1534387872":1851777734,"1844459180":2720651699,"1999017690":2241507890,"2589931342":3885259140,"2948134329":1992309064,"3471068543":2884596447,"3849455378":3591141932,"3995207026":3621336854,"4228109048":2145441168,"4274523514":501329015}')},23764:e=>{e.exports=JSON.parse("[56663992,84503918,534479613,539051925,579997810,688956976,802695661,865380761,877723168,1097608874,1125986156,1170405455,1301391064,1305848463,1389309840,1560574695,1565861116,1627901452,1909657913,1947468772,1996040463,2023980600,2045123179,2158846614,2175577211,2199590568,2245839670,2257238439,2436471653,2649291407,2734674728,2815817957,2874957617,3064687909,3174771856,3736152098,3829100654,3994043492,4004774872,4004774873,4004774874,4004774875,4004774876,4004774877,4081595582,4134680615,4193902249,4243059257]")}},e=>{e.O(0,[595,547,307,747],(()=>e(e.s=43985))),e.O()}]);
//# sourceMappingURL=main-5488e56a.js.map